---------------- dobre ------------------

import React, { useLayoutEffect } from "react";
import ReactFlow, {
  Background,
  Controls,
  MiniMap,
  useNodesState,
  useEdgesState,
  MarkerType,
  Edge,
} from "reactflow";
import "reactflow/dist/style.css";
import PersonNode from "./PersonNode";
import { Person } from "@shared/schema";
import dagre from "dagre";

interface InteractiveTreeProps {
  allPeople: Person[];
  onPersonClick: (person: Person) => void;
  showGierczak: boolean;
  showOfiara: boolean;
  showDescendants: boolean;
  showMarriages: boolean;
}

const dagreGraph = new dagre.graphlib.Graph();
dagreGraph.setDefaultEdgeLabel(() => ({}));

const nodeWidth = 260;
const nodeHeight = 130;

const nodeTypes = {
  person: PersonNode,
};

const getLayoutedElements = (nodes: any[], edges: any[]) => {
  dagreGraph.setGraph({ rankdir: "TB", nodesep: 50, ranksep: 100 });

  nodes.forEach((node) => {
    dagreGraph.setNode(node.id, {
      width: node.style?.width ?? nodeWidth,
      height: node.style?.height ?? nodeHeight,
    });
  });

  edges.forEach((edge) => {
    dagreGraph.setEdge(edge.source, edge.target);
  });

  dagre.layout(dagreGraph);

  nodes.forEach((node) => {
    const nodeWithPosition = dagreGraph.node(node.id);
    node.targetPosition = "top";
    node.sourcePosition = "bottom";
    node.position = {
      x: nodeWithPosition.x - (node.style?.width ?? nodeWidth) / 2,
      y: nodeWithPosition.y - (node.style?.height ?? nodeHeight) / 2,
    };
  });

  return { nodes };
};

export default function InteractiveTree({
  allPeople,
  onPersonClick,
  showGierczak,
  showOfiara,
  showDescendants,
  showMarriages,
}: InteractiveTreeProps) {
  const [nodes, setNodes, onNodesChange] = useNodesState([]);
  const [edges, setEdges, onEdgesChange] = useEdgesState([]);

  useLayoutEffect(() => {
    if (!allPeople) return;

    const visiblePeople = allPeople.filter(
      (person) =>
        (person.family === "gierczak" && showGierczak) ||
        (person.family === "ofiara" && showOfiara)
    );

    const visibleNodeIds = new Set(visiblePeople.map((p) => p.id.toString()));

    const personNodes = visiblePeople.map((person) => ({
      id: person.id.toString(),
      type: "person",
      data: {
        person,
        onClick: () => onPersonClick(person),
        family: person.family,
      },
      position: { x: 0, y: 0 },
    }));

    const structuralEdges: any[] = [];
    visiblePeople.forEach((person) => {
      if (person.parentIds) {
        person.parentIds.forEach((parentId) => {
          if (visibleNodeIds.has(parentId.toString())) {
            structuralEdges.push({
              id: `s-${parentId}-${person.id}`,
              source: parentId.toString(),
              target: person.id.toString(),
            });
          }
        });
      }
    });

    console.log("\u2705 Visible people:", visiblePeople);
    console.log("\u2705 Structural edges:", structuralEdges);

    const { nodes: layoutedNodes } = getLayoutedElements(
      personNodes,
      structuralEdges
    );

    const edgesToRender: Edge[] = [];

    if (showDescendants) {
      structuralEdges.forEach((edge) => {
        edgesToRender.push({
          ...edge,
          id: `v-${edge.id}`,
          type: "smoothstep",
          markerEnd: {
            type: MarkerType.ArrowClosed,
            color: "red",
          },
          style: { stroke: "red", strokeWidth: 2 },
        });
      });
    }

    if (showMarriages) {
      visiblePeople.forEach((person) => {
        if (person.spouseIds) {
          person.spouseIds.forEach((spouseId) => {
            if (
              person.id < spouseId &&
              visibleNodeIds.has(spouseId.toString())
            ) {
              edgesToRender.push({
                id: `spouse-${person.id}-${spouseId}`,
                source: person.id.toString(),
                target: spouseId.toString(),
                type: "straight",
                style: {
                  stroke: "blue",
                  strokeWidth: 2,
                  strokeDasharray: "5,5",
                },
              });
            }
          });
        }
      });
    }

    console.log("\u2705 Final edges to render:", edgesToRender);

    setNodes(layoutedNodes);
    setEdges(edgesToRender);
  }, [
    allPeople,
    showGierczak,
    showOfiara,
    showDescendants,
    showMarriages,
    setNodes,
    setEdges,
    onPersonClick,
  ]);

  return (
    <div className="w-full h-full bg-stone-50 dark:bg-stone-900">
      <ReactFlow
        nodes={nodes}
        edges={edges}
        onNodesChange={onNodesChange}
        onEdgesChange={onEdgesChange}
        nodeTypes={nodeTypes}
        fitView
        minZoom={0.1}
        style={{ zIndex: 10 }}
        className="react-flow-heritage"
      >
        <Background />
        <Controls />
        <MiniMap
          className="!bg-background border heritage-border"
          nodeStrokeWidth={3}
          nodeColor={(node) => {
            if (node.data?.family === "gierczak") {
              return "hsl(var(--heritage-burgundy))";
            }
            if (node.data?.family === "ofiara") {
              return "hsl(var(--heritage-teal))";
            }
            return "hsl(var(--muted))";
          }}
        />
      </ReactFlow>
    </div>
  );
}


-----------------------------

{
  "people": [
    {
      "id": 1,
      "firstName": "Tomasz",
      "lastName": "Gierczak",
      "birthDate": null,
      "deathDate": null,
      "birthPlace": "Jaszowice",
      "occupation": null,
      "family": "gierczak",
      "biography": "Praprzodek rodziny Gierczak. Mieszkał w Jaszowicach - prywatnej wsi szlacheckiej w drugiej połowie XVI wieku w powiecie radomskim województwa sandomierskiego.",
      "spouseIds": [2],
      "childIds": [3, 4, 5, 6, 7],
      "parentIds": []
    },
    {
      "id": 2,
      "firstName": "Zofia",
      "lastName": "Gerczak vel Gierczak",
      "maidenName": "Giel vel Gielowska",
      "birthDate": null,
      "deathDate": null,
      "birthPlace": null,
      "occupation": null,
      "family": "gierczak",
      "biography": "Żona Tomasza Gerczaka vel Gierczaka. Brak dostępu do danych.",
      "spouseIds": [1],
      "childIds": [3, 4, 5, 6, 7],
      "parentIds": []
    },
    {
      "id": 3,
      "firstName": "Franciszek",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1816-11-24",
      "deathDate": null,
      "birthPlace": "Jaszowice",
      "occupation": null,
      "family": "gierczak",
      "biography": "Syn Tomasza i Zofii Gerczak vel Gierczak.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [1, 2]
    },
    {
      "id": 4,
      "firstName": "Ambroży",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "ok. 1800",
      "deathDate": "1836",
      "birthPlace": "Jaszowice",
      "occupation": {
        "pl": "Gospodarz",
        "en": "Farmer"
      },
      "family": "gierczak",
      "biography": "3 x pradziadek. Urodził się pod koniec XVIII w. lub na początku XIX w. Zmarł w 1836. Ożenił się prawdopodobnie w 1820 z Kunegundą Kanią vel Kanionka (Koniak) c. Magdaleny. Mieszkali we wsi Jaszowice k. Radomia. Mieli 8 dzieci.",
      "spouseIds": [8],
      "childIds": [13, 59, 60, 61, 62, 63, 64, 65],
      "parentIds": [1, 2]
    },
    {
      "id": 5,
      "firstName": "Michał",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": null,
      "deathDate": "1854",
      "birthPlace": "Jaszowice",
      "occupation": null,
      "family": "gierczak",
      "biography": "Syn Tomasza i Zofii Gerczak vel Gierczak.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [1, 2]
    },
    {
      "id": 6,
      "firstName": "Andrzej",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": null,
      "deathDate": "1868",
      "birthPlace": "Jaszowice",
      "occupation": null,
      "family": "gierczak",
      "biography": "Syn Tomasza i Zofii. Ożenił się w 1837 z Teresą Pączek (Górniak, Gurniak, Gorniak, Pączkowa), której rodzicami byli Jakub i Magdalena. Ślub odbył się w parafii Cerekiew.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [1, 2]
    },
    {
      "id": 7,
      "firstName": "Marianna",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": null,
      "deathDate": "1916",
      "birthPlace": "Jaszowice",
      "occupation": null,
      "family": "gierczak",
      "biography": "Córka Tomasza i Zofii Gerczak vel Gierczak.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [1, 2]
    },
    {
      "id": 8,
      "firstName": "Kunegunda",
      "lastName": "Gerczak vel Gierczak",
      "maidenName": "Kania vel Kanionka",
      "birthDate": null,
      "deathDate": null,
      "birthPlace": null,
      "occupation": null,
      "family": "gierczak",
      "biography": "Żona Ambrożego. Rodzicami Kunegundy byli Stanisław i Magdalena. Po śmierci Ambrożego wyszła za mąż w 1837 za Mikołaja Remisiewskiego syna Łukasza i Moniki Łosiak.",
      "spouseIds": [4],
      "childIds": [13, 59, 60, 61, 62, 63, 64, 65],
      "parentIds": []
    },
    {
      "id": 13,
      "firstName": "Karol",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1828",
      "deathDate": "1903",
      "birthPlace": "Jaszowice",
      "occupation": {
        "pl": "Gospodarz",
        "en": "Farmer"
      },
      "family": "gierczak",
      "biography": "Dziecko Ambrożego i Kunegundy. Żoną Karola została 23.11.1857 Tekla Kozyra vel Kozera z d. Adamczyk (1831-1909). Karol zamieszkał z Teklą w Gulinku. Oboje małżonkowie doczekali się 3 dzieci.",
      "spouseIds": [18],
      "childIds": [19, 68, 69],
      "parentIds": [4, 8]
    },
    {
      "id": 18,
      "firstName": "Tekla",
      "lastName": "Kozyra vel Kozera",
      "maidenName": "Adamczyk",
      "birthDate": "1831",
      "deathDate": "1909",
      "birthPlace": null,
      "occupation": null,
      "family": "gierczak",
      "biography": "Żona Karola Gerczaka. Rodzicami Tekli byli Adam i Józefa Kredowska.",
      "spouseIds": [13],
      "childIds": [19, 68, 69],
      "parentIds": []
    },
    {
      "id": 19,
      "firstName": "Paweł",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1867",
      "deathDate": "1935",
      "birthPlace": "Gulinek",
      "occupation": {
        "pl": "Gospodarz",
        "en": "Farmer"
      },
      "family": "gierczak",
      "biography": "Syn Karola i Tekli. Pojął za żonę w 1887 Katarzynę Czerwińską c. Mateusza i Marianny Kieragi. Mieli 10 dzieci. Był dziadkiem Józefa ur. w 1930.",
      "spouseIds": [22],
      "childIds": [70, 71, 72, 26, 73, 74, 75, 76, 77, 78],
      "parentIds": [13, 18]
    },
    {
      "id": 22,
      "firstName": "Katarzyna",
      "lastName": "Czerwińska",
      "maidenName": "Kieraga",
      "birthDate": null,
      "deathDate": null,
      "birthPlace": null,
      "occupation": null,
      "family": "gierczak",
      "biography": "Żona Pawła. Rodzicami Katarzyny byli Mateusz i Marianna Kieraga.",
      "spouseIds": [19],
      "childIds": [70, 71, 72, 26, 73, 74, 75, 76, 77, 78],
      "parentIds": []
    },
    {
      "id": 26,
      "firstName": "Jan",
      "lastName": "Gierczak",
      "birthDate": "1891",
      "deathDate": null,
      "birthPlace": "Gulinek",
      "occupation": {
        "pl": "Gospodarz",
        "en": "Farmer"
      },
      "family": "gierczak",
      "biography": "Syn Pawła i Katarzyny. Ojciec Józefa ur. 1930. Z Agnieszką Baćmagą z d. Szewczyk ożenił się w 1917. Małżonkowie mieli ośmioro dzieci, z których pierwsza trójka zmarła we wczesnym dzieciństwie.",
      "spouseIds": [32],
      "childIds": [79, 80, 81, 82, 83, 84, 39, 85],
      "parentIds": [19, 22]
    },
    {
      "id": 32,
      "firstName": "Agnieszka",
      "lastName": "Gierczak",
      "maidenName": "Baćmaga z d. Szewczyk",
      "birthDate": "1894-04-13",
      "deathDate": null,
      "birthPlace": null,
      "occupation": null,
      "family": "gierczak",
      "biography": "Żona Jana, babcia autora. Urodziła się z rodziców Kazimierza i Antonimy Szewczyk. Małżonkowie mieli ośmioro dzieci, z których pierwsza trójka zmarła we wczesnym dzieciństwie.",
      "spouseIds": [26],
      "childIds": [79, 80, 81, 82, 83, 84, 39, 85],
      "parentIds": []
    },
    {
      "id": 39,
      "firstName": "Józef",
      "lastName": "Gierczak",
      "birthDate": "1930",
      "deathDate": "1996",
      "birthPlace": "Gulinek",
      "occupation": {
        "pl": "Robotnik bezrolny",
        "en": "Landless worker"
      },
      "family": "gierczak",
      "biography": "Syn Jana i Agnieszki, ojciec autora. Z Marianną Ofiarą (1931-1987) z d. Sobień ożenił się w 1952. Małżonkowie mieli Witolda (zmarł jako roczne dziecko), Adama ur. w 1956 i Marię ur. w 1958.",
      "spouseIds": [41],
      "childIds": [86, 87, 88],
      "parentIds": [26, 32]
    },
    {
      "id": 41,
      "firstName": "Marianna",
      "lastName": "Gierczak",
      "maidenName": "Ofiara z d. Sobień",
      "birthDate": "1931",
      "deathDate": "1987",
      "birthPlace": "Ludwików",
      "occupation": null,
      "family": "ofiara",
      "biography": "Żona Józefa Gierczaka, matka autora. Za Józefa Gierczaka, sąsiada zza miedzy, wyszła w 1952. Córka Józefa Ofiary i Heleny z d. Sobień.",
      "spouseIds": [39],
      "childIds": [86, 87, 88],
      "parentIds": [45, 46]
    },
    {
      "id": 45,
      "firstName": "Józef",
      "lastName": "Ofiara",
      "birthDate": "1896",
      "deathDate": "1968",
      "birthPlace": "Ludwików",
      "occupation": {
        "pl": "Gospodarz",
        "en": "Farmer"
      },
      "family": "ofiara",
      "biography": "Dziadek autora, ur. 1896 w Ludwikowie. Syn Andrzeja Ofiary i Franciszki Szaruch. W 1918 poślubił Rozalię Mitak (zm. 1925), z którą miał 3 synów: Stanisława, Piotra i Jana. Po jej śmierci ożenił się w 1926 z Heleną Sobień, z którą miał 6 dzieci: Józefa, Andrzeja, Genowefę, Kazimierę, Mariannę i Romana.",
      "spouseIds": [47, 46],
      "childIds": [92, 93, 94, 95, 96, 97, 98, 41, 99],
      "parentIds": [57, 58]
    },
    {
      "id": 46,
      "firstName": "Helena",
      "lastName": "Ofiara",
      "maidenName": "Sobień",
      "birthDate": "1905-01-09",
      "deathDate": "1978-09-06",
      "birthPlace": null,
      "occupation": null,
      "family": "ofiara",
      "biography": "Babcia autora, druga żona Józefa Ofiary. Urodziła się z rodziców Karola i Ewy Drużdżel. Miała liczne rodzeństwo. Z Józefem miała sześcioro dzieci, z których pierwsza czwórka zmarła bardzo wcześnie.",
      "spouseIds": [45],
      "childIds": [95, 96, 97, 98, 41, 99],
      "parentIds": []
    },
    {
      "id": 47,
      "firstName": "Rozalia",
      "lastName": "Ofiara",
      "maidenName": "Mitak",
      "birthDate": "ok. 1892",
      "deathDate": "1925",
      "birthPlace": null,
      "occupation": null,
      "family": "ofiara",
      "biography": "Pierwsza żona Józefa Ofiary. Córka Michała Mitaka i Ewy Drużdżel. Zmarła w wieku 33 lat. Matka Stanisława, Piotra i Jana.",
      "spouseIds": [45],
      "childIds": [92, 93, 94],
      "parentIds": []
    },
    {
      "id": 57,
      "firstName": "Andrzej",
      "lastName": "Ofiara",
      "birthDate": null,
      "deathDate": null,
      "birthPlace": "Ludwików",
      "occupation": {
        "pl": "Gospodarz",
        "en": "Farmer"
      },
      "family": "ofiara",
      "biography": "Pradziadek autora. Ożenił się z Franciszką Szaruch (Saruch). Mieli 4 dzieci: Ignacego, Antoniego, Józefa (dziadka autora) i Katarzynę.",
      "spouseIds": [58],
      "childIds": [89, 90, 45, 91],
      "parentIds": []
    },
    {
      "id": 58,
      "firstName": "Franciszka",
      "lastName": "Szaruch",
      "birthDate": null,
      "deathDate": null,
      "birthPlace": null,
      "occupation": null,
      "family": "ofiara",
      "biography": "Żona Andrzeja Ofiary. Brak danych.",
      "spouseIds": [57],
      "childIds": [89, 90, 45, 91],
      "parentIds": []
    },
    {
      "id": 59,
      "firstName": "Józefa",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": null,
      "deathDate": null,
      "birthPlace": "Jaszowice",
      "occupation": null,
      "family": "gierczak",
      "biography": "Córka Ambrożego i Kunegundy. W 1841 wyszła za mąż za Józefa Wierachę.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [4, 8]
    },
    {
      "id": 60,
      "firstName": "Jadwiga",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": null,
      "deathDate": "1884",
      "birthPlace": "Jaszowice",
      "occupation": null,
      "family": "gierczak",
      "biography": "Córka Ambrożego i Kunegundy. W 1842 poślubiła Franciszka Kornafela.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [4, 8]
    },
    {
      "id": 61,
      "firstName": "Marianna",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1833",
      "deathDate": null,
      "birthPlace": "Jaszowice",
      "occupation": null,
      "family": "gierczak",
      "biography": "Córka Ambrożego i Kunegundy. W 1852 wyszła za mąż za Antoniego Stępnia.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [4, 8]
    },
    {
      "id": 62,
      "firstName": "Katarzyna",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": null,
      "deathDate": "1821",
      "birthPlace": "Jaszowice",
      "occupation": null,
      "family": "gierczak",
      "biography": "Córka Ambrożego i Kunegundy.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [4, 8]
    },
    {
      "id": 63,
      "firstName": "Kacper",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1826",
      "deathDate": "1903",
      "birthPlace": "Jaszowice",
      "occupation": null,
      "family": "gierczak",
      "biography": "Syn Ambrożego i Kunegundy. Ożenił się z Marianną Moskwą, a następnie z Franciszką Mortką.",
      "spouseIds": [],
      "childIds": [66, 67],
      "parentIds": [4, 8]
    },
    {
      "id": 64,
      "firstName": "Ludwika",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1831",
      "deathDate": null,
      "birthPlace": "Jaszowice",
      "occupation": null,
      "family": "gierczak",
      "biography": "Córka Ambrożego i Kunegundy.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [4, 8]
    },
    {
      "id": 65,
      "firstName": "Franciszka",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1835",
      "deathDate": null,
      "birthPlace": "Jaszowice",
      "occupation": null,
      "family": "gierczak",
      "biography": "Córka Ambrożego i Kunegundy.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [4, 8]
    },
    {
      "id": 66,
      "firstName": "Marianna",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1857",
      "deathDate": "1860",
      "birthPlace": "Jaszowice",
      "occupation": null,
      "family": "gierczak",
      "biography": "Córka Kacpra i Marianny Moskwy.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [63]
    },
    {
      "id": 67,
      "firstName": "Jędrzej",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1859",
      "deathDate": null,
      "birthPlace": "Jaszowice",
      "occupation": null,
      "family": "gierczak",
      "biography": "Syn Kacpra i Marianny Moskwy.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [63]
    },
    {
      "id": 68,
      "firstName": "Antonina",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1869",
      "deathDate": null,
      "birthPlace": "Gulinek",
      "occupation": null,
      "family": "gierczak",
      "biography": "Córka Karola i Tekli.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [13, 18]
    },
    {
      "id": 69,
      "firstName": "Józefa",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1872",
      "deathDate": "1880",
      "birthPlace": "Gulinek",
      "occupation": null,
      "family": "gierczak",
      "biography": "Córka Karola i Tekli.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [13, 18]
    },
    {
      "id": 70,
      "firstName": "Józefa",
      "lastName": "Walczak",
      "maidenName": "Gerczak vel Gierczak",
      "birthDate": null,
      "deathDate": null,
      "birthPlace": "Gulinek",
      "occupation": null,
      "family": "gierczak",
      "biography": "Córka Pawła i Katarzyny. Wyszła za mąż w 1928 za wdowca Władysława Walczaka.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [19, 22]
    },
    {
      "id": 71,
      "firstName": "Adam",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1888",
      "deathDate": "1889-03-06",
      "birthPlace": "Gulinek",
      "occupation": null,
      "family": "gierczak",
      "biography": "Syn Pawła i Katarzyny. Zmarł jako 3-miesięczne dziecko.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [19, 22]
    },
    {
      "id": 72,
      "firstName": "Józef",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1890",
      "deathDate": "1890",
      "birthPlace": "Gulinek",
      "occupation": null,
      "family": "gierczak",
      "biography": "Syn Pawła i Katarzyny. Zmarł po 6 tygodniach.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [19, 22]
    },
    {
      "id": 73,
      "firstName": "Stanisław",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1893",
      "deathDate": null,
      "birthPlace": "Gulinek",
      "occupation": null,
      "family": "gierczak",
      "biography": "Syn Pawła i Katarzyny. Ożenił się w 1921 z Anielą Burakowską c. Andrzeja i Teofili w parafii Błotnica.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [19, 22]
    },
    {
      "id": 74,
      "firstName": "Zofia",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1900",
      "deathDate": null,
      "birthPlace": "Gulinek",
      "occupation": null,
      "family": "gierczak",
      "biography": "Córka Pawła i Katarzyny.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [19, 22]
    },
    {
      "id": 75,
      "firstName": "Antoni",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1903",
      "deathDate": null,
      "birthPlace": "Gulinek",
      "occupation": null,
      "family": "gierczak",
      "biography": "Syn Pawła i Katarzyny. Wziął za żonę Honoratę Musiałek c. Franciszka i Józefy Banasiak. Ślub odbył się w 1931 w Zakrzewie.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [19, 22]
    },
    {
      "id": 76,
      "firstName": "Rozalia",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": null,
      "deathDate": "1906",
      "birthPlace": "Gulinek",
      "occupation": null,
      "family": "gierczak",
      "biography": "Córka Pawła i Katarzyny.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [19, 22]
    },
    {
      "id": 77,
      "firstName": "Franciszek",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1910",
      "deathDate": null,
      "birthPlace": "Gulinek",
      "occupation": null,
      "family": "gierczak",
      "biography": "Syn Pawła i Katarzyny. Ożenił się w 1932 z Feliksą Szczygłowską c. Jana i Karoliny Kozłowskiej. Ślub odbył się w parafii Kowala-Stępocina.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [19, 22]
    },
    {
      "id": 78,
      "firstName": "Stanisława",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1911",
      "deathDate": "1911",
      "birthPlace": "Gulinek",
      "occupation": null,
      "family": "gierczak",
      "biography": "Córka Pawła i Katarzyny. Zmarła po 3 tygodniach.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [19, 22]
    },
    {
      "id": 79,
      "firstName": "Jan",
      "lastName": "Gierczak",
      "birthDate": "1918",
      "deathDate": "1918",
      "birthPlace": "Gulinek",
      "occupation": null,
      "family": "gierczak",
      "biography": "Syn Jana i Agnieszki. Żył 2 dni.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [26, 32]
    },
    {
      "id": 80,
      "firstName": "Marianna",
      "lastName": "Gierczak",
      "birthDate": "1918",
      "deathDate": "1918",
      "birthPlace": "Gulinek",
      "occupation": null,
      "family": "gierczak",
      "biography": "Córka Jana i Agnieszki. Żyła 2 tygodnie.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [26, 32]
    },
    {
      "id": 81,
      "firstName": "Janina",
      "lastName": "Gierczak",
      "birthDate": "1920",
      "deathDate": "1920",
      "birthPlace": "Gulinek",
      "occupation": null,
      "family": "gierczak",
      "biography": "Córka Jana i Agnieszki. Żyła 8 tygodni.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [26, 32]
    },
    {
      "id": 82,
      "firstName": "Stefan",
      "lastName": "Gierczak",
      "birthDate": "1921",
      "deathDate": "2017",
      "birthPlace": "Gulinek",
      "occupation": null,
      "family": "gierczak",
      "biography": "Syn Jana i Agnieszki.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [26, 32]
    },
    {
      "id": 83,
      "firstName": "Władysław",
      "lastName": "Gierczak",
      "birthDate": "1923",
      "deathDate": "2004-12-02",
      "birthPlace": "Gulinek",
      "occupation": null,
      "family": "gierczak",
      "biography": "Syn Jana i Agnieszki.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [26, 32]
    },
    {
      "id": 84,
      "firstName": "Tadeusz",
      "lastName": "Gierczak",
      "birthDate": "192x",
      "deathDate": "1974",
      "birthPlace": "Gulinek",
      "occupation": null,
      "family": "gierczak",
      "biography": "Syn Jana i Agnieszki.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [26, 32]
    },
    {
      "id": 85,
      "firstName": "Zofia",
      "lastName": "Gierczak",
      "birthDate": "19xx",
      "deathDate": "2022",
      "birthPlace": "Gulinek",
      "occupation": null,
      "family": "gierczak",
      "biography": "Córka Jana i Agnieszki.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [26, 32]
    },
    {
      "id": 86,
      "firstName": "Witold",
      "lastName": "Gierczak",
      "birthDate": null,
      "deathDate": null,
      "birthPlace": "Radom",
      "occupation": null,
      "family": "gierczak",
      "biography": "Syn Józefa i Marianny. Zmarł jako roczne dziecko.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [39, 41]
    },
    {
      "id": 87,
      "firstName": "Adam",
      "lastName": "Gierczak",
      "birthDate": "1956",
      "deathDate": null,
      "birthPlace": "Radom",
      "occupation": null,
      "family": "gierczak",
      "biography": "Syn Józefa i Marianny, brat autora.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [39, 41]
    },
    {
      "id": 88,
      "firstName": "Maria",
      "lastName": "Gierczak",
      "birthDate": "1958",
      "deathDate": null,
      "birthPlace": "Radom",
      "occupation": null,
      "family": "gierczak",
      "biography": "Córka Józefa i Marianny, siostra autora.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [39, 41]
    },
    {
      "id": 89,
      "firstName": "Ignacy",
      "lastName": "Ofiara",
      "birthDate": null,
      "deathDate": null,
      "birthPlace": "Ludwików",
      "occupation": null,
      "family": "ofiara",
      "biography": "Syn Andrzeja i Franciszki. W 1908 ożenił się z wdową po Józefie, Katarzyną Sikorską (Jurczak) c. Andrzeja i Marianny Hudzik. Ślub odbył się w Błotnicy.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [57, 58]
    },
    {
      "id": 90,
      "firstName": "Antoni",
      "lastName": "Ofiara",
      "birthDate": null,
      "deathDate": null,
      "birthPlace": "Ludwików",
      "occupation": null,
      "family": "ofiara",
      "biography": "Syn Andrzeja i Franciszki. Ożenił się w 1910 z wdową po Szczepanie, Rozalią Rojek (Drużdżel) c. Kazimierza i Małgorzaty Podkowiak.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [57, 58]
    },
    {
      "id": 91,
      "firstName": "Katarzyna",
      "lastName": "Piwowarczyk",
      "maidenName": "Ofiara",
      "birthDate": null,
      "deathDate": "1944-11-09",
      "birthPlace": "Ludwików",
      "occupation": null,
      "family": "ofiara",
      "biography": "Córka Andrzeja i Franciszki.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [57, 58]
    },
    {
      "id": 92,
      "firstName": "Stanisław",
      "lastName": "Ofiara",
      "birthDate": "1919",
      "deathDate": null,
      "birthPlace": "Ludwików",
      "occupation": null,
      "family": "ofiara",
      "biography": "Syn Józefa Ofiary i Rozalii z d. Mitak.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [45, 47]
    },
    {
      "id": 93,
      "firstName": "Piotr",
      "lastName": "Ofiara",
      "birthDate": "1921",
      "deathDate": "2004-06-03",
      "birthPlace": "Ludwików",
      "occupation": null,
      "family": "ofiara",
      "biography": "Syn Józefa Ofiary i Rozalii z d. Mitak.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [45, 47]
    },
    {
      "id": 94,
      "firstName": "Jan",
      "lastName": "Ofiara",
      "birthDate": "1925",
      "deathDate": "2001-04-30",
      "birthPlace": "Ludwików",
      "occupation": null,
      "family": "ofiara",
      "biography": "Syn Józefa Ofiary i Rozalii z d. Mitak.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [45, 47]
    },
    {
      "id": 95,
      "firstName": "Józef",
      "lastName": "Ofiara",
      "birthDate": "1926-12",
      "deathDate": "1927-01-09",
      "birthPlace": "Ludwików",
      "occupation": null,
      "family": "ofiara",
      "biography": "Syn Józefa Ofiary i Heleny z d. Sobień. Zmarł jako 2-tygodniowe dziecko.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [45, 46]
    },
    {
      "id": 96,
      "firstName": "Andrzej",
      "lastName": "Ofiara",
      "birthDate": "1927-12",
      "deathDate": "1928-01-07",
      "birthPlace": "Ludwików",
      "occupation": null,
      "family": "ofiara",
      "biography": "Syn Józefa Ofiary i Heleny z d. Sobień. Zmarł jako 2-tygodniowe dziecko.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [45, 46]
    },
    {
      "id": 97,
      "firstName": "Genowefa",
      "lastName": "Ofiara",
      "birthDate": "1930-07",
      "deathDate": "1930-08-16",
      "birthPlace": "Ludwików",
      "occupation": null,
      "family": "ofiara",
      "biography": "Córka Józefa Ofiary i Heleny z d. Sobień. Zmarła jako 3-tygodniowe dziecko.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [45, 46]
    },
    {
      "id": 98,
      "firstName": "Kazimiera",
      "lastName": "Ofiara",
      "birthDate": "1934",
      "deathDate": "1935-08-09",
      "birthPlace": "Ludwików",
      "occupation": null,
      "family": "ofiara",
      "biography": "Córka Józefa Ofiary i Heleny z d. Sobień. Zmarła jako półtoraroczne dziecko.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [45, 46]
    },
    {
      "id": 99,
      "firstName": "Roman",
      "lastName": "Ofiara",
      "birthDate": null,
      "deathDate": null,
      "birthPlace": "Ludwików",
      "occupation": null,
      "family": "ofiara",
      "biography": "Syn Józefa Ofiary i Heleny z d. Sobień.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [45, 46]
    }
  ],
  "documents": [
    {
      "id": 1,
      "personId": 1,
      "title": "Akt urodzenia Jana Gierczaka",
      "type": "birth",
      "description": "Metryka urodzenia z parafii Cerekiew",
      "imageUrl": "https://images.unsplash.com/photo-1553729784-e91953dec042?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=600"
    },
    {
      "id": 2,
      "personId": 1,
      "title": "Akt ślubu Jana i Anny",
      "type": "marriage",
      "description": "Dokument ślubu z 1845 roku",
      "imageUrl": "https://images.unsplash.com/photo-1618556450994-a6a128ef0d9d?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=600"
    }
  ],
  "places": [
    {
      "name": "Jaszowice",
      "description": {
        "pl": "Główna miejscowość rodu Gierczaków",
        "en": "The main locality of the Gierczak family"
      },
      "imageUrl": "/images/4.avif"
    },
    {
      "name": "Ludwików",
      "description": {
        "pl": "Miejsce pochodzenia rodu Ofiarów",
        "en": "The place of origin of the Ofiara family"
      },
      "imageUrl": "/images/ludwikow.png"
    },
    {
      "name": "Cerekiew",
      "description": {
        "pl": "Parafia i cmentarz rodzinny",
        "en": "Parish and family cemetery"
      },
      "imageUrl": "/images/4.avif"
    }
  ]
}


------------------------------

import { useState } from "react";
import {
  Dialog,
  DialogContent,
  DialogHeader,
  DialogTitle,
  DialogDescription,
} from "@/components/ui/dialog";
import { ScrollArea } from "@/components/ui/scroll-area";
import { Badge } from "@/components/ui/badge";
import {
  User,
  Calendar,
  MapPin,
  Briefcase,
  Users,
  FileText,
} from "lucide-react";
import { Person } from "@shared/schema";
import Lightbox from "./Lightbox";
import { useLanguage } from "@/hooks/useLanguage";

interface PersonModalProps {
  person: Person | null;
  isOpen: boolean;
  onClose: () => void;
  onPersonClick: (person: Person) => void;
  allPeople: Person[];
}

interface Document {
  id: number;
  title: string;
  type: string;
  imageUrl: string;
}

export default function PersonModal({
  person,
  isOpen,
  onClose,
  onPersonClick,
  allPeople,
}: PersonModalProps) {
  const [lightboxOpen, setLightboxOpen] = useState(false);
  const [lightboxImage, setLightboxImage] = useState<{
    src: string;
    alt: string;
  } | null>(null);
  const { t, language } = useLanguage();

  const documents: Document[] = [];

  if (!person) return null;

  const getOccupationText = (p: Person) => {
    if (!p.occupation) return null;
    if (typeof p.occupation === "object") {
      return p.occupation[language] || p.occupation.pl;
    }
    return p.occupation;
  };

  const occupationText = getOccupationText(person);

  const parents = person.parentIds
    ? allPeople.filter((p) => person.parentIds!.includes(p.id))
    : [];
  const spouses = person.spouseIds
    ? allPeople.filter((p) => person.spouseIds!.includes(p.id))
    : [];
  const children = person.childIds
    ? allPeople.filter((p) => person.childIds!.includes(p.id))
    : [];

  const familyName =
    person.family === "gierczak" ? t("family.gierczak") : t("family.ofiara");
  const familyColor =
    person.family === "gierczak" ? "heritage-burgundy" : "heritage-teal";

  const handleDocumentClick = (doc: Document) => {
    setLightboxImage({ src: doc.imageUrl, alt: doc.title });
    setLightboxOpen(true);
  };

  return (
    <>
      <Dialog open={isOpen} onOpenChange={onClose}>
        <DialogContent className="max-w-2xl max-h-[90vh]">
          <DialogHeader>
            <DialogTitle className="font-serif text-2xl heritage-text">
              {person.firstName} {person.lastName}
              {person.maidenName && (
                <span className="text-lg ml-2">
                  ({t("person.maidenName")} {person.maidenName})
                </span>
              )}
            </DialogTitle>
            <DialogDescription className={`${familyColor}`}>
              {familyName}
            </DialogDescription>
          </DialogHeader>

          <ScrollArea className="max-h-[70vh] pr-4">
            <div className="space-y-6">
              <div className="flex flex-col md:flex-row gap-6">
                <div className="md:w-1/3">
                  <div className="w-48 h-48 bg-stone-200 rounded-lg mx-auto flex items-center justify-center">
                    {person.photoUrl ? (
                      <img
                        src={person.photoUrl}
                        alt={`${person.firstName} ${person.lastName}`}
                        className="w-full h-full rounded-lg object-cover"
                      />
                    ) : (
                      <User className="w-16 h-16 text-stone-500" />
                    )}
                  </div>
                </div>

                <div className="md:w-2/3 space-y-4">
                  {(person.birthDate || person.deathDate) && (
                    <div className="flex items-center space-x-2">
                      <Calendar className="w-4 h-4 text-stone-600" />
                      <span className="heritage-text">
                        {person.birthDate || "?"}
                        {person.deathDate ? ` - ${person.deathDate}` : ""}
                      </span>
                    </div>
                  )}

                  {person.birthPlace && (
                    <div className="flex items-center space-x-2">
                      <MapPin className="w-4 h-4 text-stone-600" />
                      <span className="heritage-text">
                        {t("person.born")} {person.birthPlace}
                      </span>
                    </div>
                  )}

                  {person.deathPlace && (
                    <div className="flex items-center space-x-2">
                      <MapPin className="w-4 h-4 text-stone-600" />
                      <span className="heritage-text">
                        {t("person.died")} {person.deathPlace}
                      </span>
                    </div>
                  )}

                  {occupationText && (
                    <div className="flex items-center space-x-2">
                      <Briefcase className="w-4 h-4 text-stone-600" />
                      <span className="heritage-text">{occupationText}</span>
                    </div>
                  )}
                </div>
              </div>

              <div>
                <h4 className="font-semibold heritage-text mb-3 flex items-center">
                  <Users className="w-4 h-4 mr-2" />
                  {t("person.family")}
                </h4>

                <div className="space-y-4">
                  {parents.length > 0 && (
                    <div>
                      <h5 className="font-medium heritage-text mb-2">
                        {t("person.parents")}:
                      </h5>
                      <div className="flex flex-wrap gap-2">
                        {parents.map((p) => (
                          <Badge
                            key={p.id}
                            variant="secondary"
                            className="cursor-pointer hover:bg-stone-200"
                            onClick={() => onPersonClick(p)}
                          >
                            {p.firstName} {p.lastName}
                          </Badge>
                        ))}
                      </div>
                    </div>
                  )}

                  {spouses.length > 0 && (
                    <div>
                      <h5 className="font-medium heritage-text mb-2">
                        {t("person.spouse")}:
                      </h5>
                      <div className="flex flex-wrap gap-2">
                        {spouses.map((p) => (
                          <Badge
                            key={p.id}
                            variant="secondary"
                            className="cursor-pointer hover:bg-stone-200"
                            onClick={() => onPersonClick(p)}
                          >
                            {p.firstName} {p.lastName}
                          </Badge>
                        ))}
                      </div>
                    </div>
                  )}

                  {children.length > 0 && (
                    <div>
                      <h5 className="font-medium heritage-text mb-2">
                        {t("person.children")}:
                      </h5>
                      <div className="flex flex-wrap gap-2">
                        {children.map((p) => (
                          <Badge
                            key={p.id}
                            variant="secondary"
                            className="cursor-pointer hover:bg-stone-200"
                            onClick={() => onPersonClick(p)}
                          >
                            {p.firstName} {p.lastName}
                          </Badge>
                        ))}
                      </div>
                    </div>
                  )}
                </div>
              </div>

              {documents && documents.length > 0 && (
                <div>
                  <h4 className="font-semibold heritage-text mb-3">
                    Dokumenty:
                  </h4>
                  <div className="grid grid-cols-2 md:grid-cols-3 gap-3">
                    {documents.map((doc: Document) => (
                      <div
                        key={doc.id}
                        className="bg-stone-100 rounded-lg p-3 text-center cursor-pointer hover:bg-stone-200 transition-colors"
                        onClick={() => handleDocumentClick(doc)}
                      >
                        <FileText className="w-8 h-8 heritage-text mx-auto mb-2" />
                        <p className="text-xs heritage-text font-medium">
                          {doc.title}
                        </p>
                      </div>
                    ))}
                  </div>
                </div>
              )}
            </div>
          </ScrollArea>
        </DialogContent>
      </Dialog>

      {lightboxOpen && (
        <Lightbox
          isOpen={lightboxOpen}
          onClose={() => setLightboxOpen(false)}
          image={lightboxImage}
        />
      )}
    </>
  );
}


----------------------------------


import React, { useLayoutEffect } from "react";
import ReactFlow, {
  Background,
  Controls,
  MiniMap,
  useNodesState,
  useEdgesState,
  MarkerType,
  Edge,
  Node,
  NodeTypes,
} from "reactflow";
import "reactflow/dist/style.css";
import PersonNode from "./PersonNode";
import { Person } from "@shared/schema";
import dagre from "dagre";

interface InteractiveTreeProps {
  allPeople: Person[];
  onPersonClick: (person: Person) => void;
  showGierczak: boolean;
  showOfiara: boolean;
  showDescendants: boolean;
  showMarriages: boolean;
}

const dagreGraph = new dagre.graphlib.Graph();
dagreGraph.setDefaultEdgeLabel(() => ({}));

const nodeWidth = 260;
const nodeHeight = 130;

const nodeTypes: NodeTypes = {
  person: PersonNode,
};

const getLayoutedElements = (nodes: any[], edges: any[]) => {
  dagreGraph.setGraph({ rankdir: "TB", nodesep: 30, ranksep: 90 });

  nodes.forEach((node) => {
    dagreGraph.setNode(node.id, {
      width: node.style?.width ?? nodeWidth,
      height: node.style?.height ?? nodeHeight,
    });
  });

  edges.forEach((edge) => {
    dagreGraph.setEdge(edge.source, edge.target);
  });

  dagre.layout(dagreGraph);

  nodes.forEach((node) => {
    const nodeWithPosition = dagreGraph.node(node.id);
    node.targetPosition = "top";
    node.sourcePosition = "bottom";
    node.position = {
      x: nodeWithPosition.x - (node.style?.width ?? nodeWidth) / 2,
      y: nodeWithPosition.y - (node.style?.height ?? nodeHeight) / 2,
    };
  });

  return { nodes };
};

export default function InteractiveTree({
  allPeople,
  onPersonClick,
  showGierczak,
  showOfiara,
  showDescendants,
  showMarriages,
}: InteractiveTreeProps) {
  const [nodes, setNodes, onNodesChange] = useNodesState([]);
  const [edges, setEdges, onEdgesChange] = useEdgesState([]);

  useLayoutEffect(() => {
    if (!allPeople || allPeople.length === 0) {
      setNodes([]);
      setEdges([]);
      return;
    }

    const visiblePeople = allPeople.filter(
      (person) =>
        (person.family === "gierczak" && showGierczak) ||
        (person.family === "ofiara" && showOfiara)
    );

    const visibleNodeIds = new Set(visiblePeople.map((p) => p.id.toString()));

    const personNodes: Node[] = visiblePeople.map((person) => ({
      id: person.id.toString(),
      type: "person",
      data: {
        person,
        onClick: () => onPersonClick(person),
        family: person.family,
      },
      position: { x: 0, y: 0 },
    }));

    // --- NOWA LOGIKA UKŁADU Z WĘZŁAMI UNII ---
    const unionNodes: Node[] = [];
    const layoutEdges: Edge[] = [];
    const marriageEdgesForRender: Edge[] = [];
    const structuralEdgesForRender: Edge[] = [];

    const processedCouples = new Set<string>();

    visiblePeople.forEach((person) => {
      const personIdStr = person.id.toString();

      // Generowanie krawędzi małżeńskich (dla widoku i dla logiki unii)
      if (person.spouseIds) {
        person.spouseIds.forEach((spouseId) => {
          const spouseIdStr = spouseId.toString();
          if (person.id < spouseId && visibleNodeIds.has(spouseIdStr)) {
            marriageEdgesForRender.push({
              id: `m-${personIdStr}-${spouseIdStr}`,
              source: personIdStr,
              target: spouseIdStr,
            });
          }
        });
      }

      // Tworzenie węzłów unii i krawędzi strukturalnych
      if (person.parentIds && person.parentIds.length > 0) {
        // Logika dla par rodziców
        if (person.parentIds.length === 2) {
          const [p1, p2] = person.parentIds.sort((a, b) => a - b);
          const p1Str = p1.toString();
          const p2Str = p2.toString();
          const coupleKey = `${p1Str}-${p2Str}`;

          if (visibleNodeIds.has(p1Str) && visibleNodeIds.has(p2Str)) {
            if (!processedCouples.has(coupleKey)) {
              const unionNodeId = `union-${coupleKey}`;
              unionNodes.push({
                id: unionNodeId,
                position: { x: 0, y: 0 },
                style: { width: 0, height: 0 }, // Niewidzialny węzeł
                data: {},
              });
              layoutEdges.push({
                id: `l-${p1Str}-${unionNodeId}`,
                source: p1Str,
                target: unionNodeId,
              });
              layoutEdges.push({
                id: `l-${p2Str}-${unionNodeId}`,
                source: p2Str,
                target: unionNodeId,
              });
              processedCouples.add(coupleKey);
            }
            const unionNodeId = `union-${coupleKey}`;
            layoutEdges.push({
              id: `l-${unionNodeId}-${personIdStr}`,
              source: unionNodeId,
              target: personIdStr,
            });
          } else {
            // Jeśli tylko jeden rodzic jest widoczny
            person.parentIds.forEach((parentId) => {
              if (visibleNodeIds.has(parentId.toString())) {
                layoutEdges.push({
                  id: `l-${parentId}-${personIdStr}`,
                  source: parentId.toString(),
                  target: personIdStr,
                });
              }
            });
          }
        } else {
          // Logika dla pojedynczych rodziców
          person.parentIds.forEach((parentId) => {
            if (visibleNodeIds.has(parentId.toString())) {
              layoutEdges.push({
                id: `l-${parentId}-${personIdStr}`,
                source: parentId.toString(),
                target: personIdStr,
              });
            }
          });
        }

        // Krawędzie strukturalne dla widoku (zawsze od rodzica do dziecka)
        person.parentIds.forEach((parentId) => {
          if (visibleNodeIds.has(parentId.toString())) {
            structuralEdgesForRender.push({
              id: `s-${parentId}-${person.id}`,
              source: parentId.toString(),
              target: person.id.toString(),
            });
          }
        });
      }
    });

    const nodesForLayout = [...personNodes, ...unionNodes];
    const allEdgesForLayout = [
      ...layoutEdges,
      ...marriageEdgesForRender.map((e) => ({ ...e, id: `l-${e.id}` })),
    ];

    const { nodes: layoutedNodes } = getLayoutedElements(
      nodesForLayout,
      allEdgesForLayout
    );

    const edgesToRender: Edge[] = [];

    if (showDescendants) {
      structuralEdgesForRender.forEach((edge) => {
        edgesToRender.push({
          ...edge,
          id: `v-${edge.id}`,
          type: "smoothstep",
          markerEnd: {
            type: MarkerType.ArrowClosed,
            color: "red",
          },
          style: { stroke: "red", strokeWidth: 2 },
        });
      });
    }

    if (showMarriages) {
      marriageEdgesForRender.forEach((edge) => {
        edgesToRender.push({
          ...edge,
          id: `v-${edge.id}`,
          type: "straight",
          style: {
            stroke: "blue",
            strokeWidth: 2,
            strokeDasharray: "5,5",
          },
        });
      });
    }

    // Filtrujemy węzły unii, aby nie były renderowane w React Flow
    const finalNodes = layoutedNodes.filter(
      (node) => !node.id.startsWith("union-")
    );

    setNodes(finalNodes);
    setEdges(edgesToRender);
  }, [
    allPeople,
    showGierczak,
    showOfiara,
    showDescendants,
    showMarriages,
    setNodes,
    setEdges,
    onPersonClick,
  ]);

  return (
    <div className="w-full h-full bg-stone-50 dark:bg-stone-900">
      <ReactFlow
        nodes={nodes}
        edges={edges}
        onNodesChange={onNodesChange}
        onEdgesChange={onEdgesChange}
        nodeTypes={nodeTypes}
        fitView
        minZoom={0.1}
        style={{ zIndex: 10 }}
        className="react-flow-heritage"
      >
        <Background />
        <Controls />
        <MiniMap
          className="!bg-background border heritage-border"
          nodeStrokeWidth={3}
          nodeColor={(node) => {
            if (node.data?.family === "gierczak") {
              return "hsl(var(--heritage-burgundy))";
            }
            if (node.data?.family === "ofiara") {
              return "hsl(var(--heritage-teal))";
            }
            return "hsl(var(--muted))";
          }}
        />
      </ReactFlow>
    </div>
  );
}


----------------------------

// Plik: @/shared/schema.ts (lub podobna ścieżka)

// Typ dla zlokalizowanego tekstu (np. opisu, zawodu)
type LocalizedString = {
  pl: string;
  en: string;
};

// Definicja typu dla pojedynczej osoby
export type Person = {
  id: number;
  firstName: string;
  lastName: string;
  maidenName?: string | null;
  birthDate?: string | null;
  deathDate?: string | null;
  birthPlace?: string | null;
  deathPlace?: string | null;
  // Poprawiony typ dla zawodu
  occupation: LocalizedString | string | null;
  biography: LocalizedString | string | null;
  family: "gierczak" | "ofiara";
  photoUrl?: string | null;
  parentIds?: number[];
  spouseIds?: number[];
  childIds?: number[];
};

// Definicja typu dla dokumentu
export type Document = {
  id: number;
  personId?: number;
  title: string;
  type: string;
  description?: string;
  imageUrl: string;
};

// Definicja typu dla miejsca
export type Place = {
  name: string;
  // KLUCZOWA ZMIANA: Poprawiony typ dla opisu miejsca
  description: LocalizedString | string;
  imageUrl: string;
};

// Reszta typów, jeśli ich potrzebujesz
export type InsertPerson = Omit<Person, "id">;
export type InsertDocument = Omit<Document, "id">;


-----------------------------------

import { useState } from "react";
import {
  Dialog,
  DialogContent,
  DialogHeader,
  DialogTitle,
  DialogDescription,
} from "@/components/ui/dialog";
import { ScrollArea } from "@/components/ui/scroll-area";
import { Badge } from "@/components/ui/badge";
import {
  User,
  Calendar,
  MapPin,
  Briefcase,
  Users,
  FileText,
} from "lucide-react";
import { Person } from "@shared/schema";
import Lightbox from "./Lightbox";
import { useLanguage } from "@/hooks/useLanguage";

interface PersonModalProps {
  person: Person | null;
  isOpen: boolean;
  onClose: () => void;
  onPersonClick: (person: Person) => void;
  allPeople: Person[];
}

interface Document {
  id: number;
  title: string;
  type: string;
  imageUrl: string;
}

export default function PersonModal({
  person,
  isOpen,
  onClose,
  onPersonClick,
  allPeople,
}: PersonModalProps) {
  const [lightboxOpen, setLightboxOpen] = useState(false);
  const [lightboxImage, setLightboxImage] = useState<{
    src: string;
    alt: string;
  } | null>(null);
  const { t, language } = useLanguage();

  const documents: Document[] = [];

  if (!person) return null;

  const getOccupationText = (p: Person) => {
    if (!p.occupation) return null;
    if (typeof p.occupation === "object") {
      return p.occupation[language] || p.occupation.pl;
    }
    return p.occupation;
  };

  const occupationText = getOccupationText(person);

  const parents = person.parentIds
    ? allPeople.filter((p) => person.parentIds!.includes(p.id))
    : [];
  const spouses = person.spouseIds
    ? allPeople.filter((p) => person.spouseIds!.includes(p.id))
    : [];
  const children = person.childIds
    ? allPeople.filter((p) => person.childIds!.includes(p.id))
    : [];

  const familyName =
    person.family === "gierczak" ? t("family.gierczak") : t("family.ofiara");
  const familyColor =
    person.family === "gierczak" ? "heritage-burgundy" : "heritage-teal";

  const handleDocumentClick = (doc: Document) => {
    setLightboxImage({ src: doc.imageUrl, alt: doc.title });
    setLightboxOpen(true);
  };

  return (
    <>
      <Dialog open={isOpen} onOpenChange={onClose}>
        <DialogContent className="max-w-2xl max-h-[90vh]">
          <DialogHeader>
            <DialogTitle className="font-serif text-2xl heritage-text">
              {person.firstName} {person.lastName}
              {person.maidenName && (
                <span className="text-lg ml-2">
                  ({t("person.maidenName")} {person.maidenName})
                </span>
              )}
            </DialogTitle>
            <DialogDescription className={`${familyColor}`}>
              {familyName}
            </DialogDescription>
          </DialogHeader>

          <ScrollArea className="max-h-[70vh] pr-4">
            <div className="space-y-6">
              <div className="flex flex-col md:flex-row gap-6">
                <div className="md:w-1/3">
                  <div className="w-48 h-48 bg-stone-200 rounded-lg mx-auto flex items-center justify-center">
                    {person.photoUrl ? (
                      <img
                        src={person.photoUrl}
                        alt={`${person.firstName} ${person.lastName}`}
                        className="w-full h-full rounded-lg object-cover"
                      />
                    ) : (
                      <User className="w-16 h-16 text-stone-500" />
                    )}
                  </div>
                </div>

                <div className="md:w-2/3 space-y-4">
                  {(person.birthDate || person.deathDate) && (
                    <div className="flex items-center space-x-2">
                      <Calendar className="w-4 h-4 text-stone-600" />
                      <span className="heritage-text">
                        {person.birthDate || "?"}
                        {person.deathDate ? ` - ${person.deathDate}` : ""}
                      </span>
                    </div>
                  )}

                  {person.birthPlace && (
                    <div className="flex items-center space-x-2">
                      <MapPin className="w-4 h-4 text-stone-600" />
                      <span className="heritage-text">
                        {t("person.born")} {person.birthPlace}
                      </span>
                    </div>
                  )}

                  {person.deathPlace && (
                    <div className="flex items-center space-x-2">
                      <MapPin className="w-4 h-4 text-stone-600" />
                      <span className="heritage-text">
                        {t("person.died")} {person.deathPlace}
                      </span>
                    </div>
                  )}

                  {occupationText && (
                    <div className="flex items-center space-x-2">
                      <Briefcase className="w-4 h-4 text-stone-600" />
                      <span className="heritage-text">{occupationText}</span>
                    </div>
                  )}
                </div>
              </div>

              {/* --- POCZĄTEK DODANEGO KODU --- */}
              {person.biography && (
                <div>
                  <h4 className="font-semibold heritage-text mb-3 flex items-center">
                    <User className="w-4 h-4 mr-2" />
                    {t("person.biography")}
                  </h4>
                  <p className="text-stone-600 leading-relaxed whitespace-pre-wrap">
                    {person.biography}
                  </p>
                </div>
              )}
              {/* --- KONIEC DODANEGO KODU --- */}

              <div>
                <h4 className="font-semibold heritage-text mb-3 flex items-center">
                  <Users className="w-4 h-4 mr-2" />
                  {t("person.family")}
                </h4>

                <div className="space-y-4">
                  {parents.length > 0 && (
                    <div>
                      <h5 className="font-medium heritage-text mb-2">
                        {t("person.parents")}:
                      </h5>
                      <div className="flex flex-wrap gap-2">
                        {parents.map((p) => (
                          <Badge
                            key={p.id}
                            variant="secondary"
                            className="cursor-pointer hover:bg-stone-200"
                            onClick={() => onPersonClick(p)}
                          >
                            {p.firstName} {p.lastName}
                          </Badge>
                        ))}
                      </div>
                    </div>
                  )}

                  {spouses.length > 0 && (
                    <div>
                      <h5 className="font-medium heritage-text mb-2">
                        {t("person.spouse")}:
                      </h5>
                      <div className="flex flex-wrap gap-2">
                        {spouses.map((p) => (
                          <Badge
                            key={p.id}
                            variant="secondary"
                            className="cursor-pointer hover:bg-stone-200"
                            onClick={() => onPersonClick(p)}
                          >
                            {p.firstName} {p.lastName}
                          </Badge>
                        ))}
                      </div>
                    </div>
                  )}

                  {children.length > 0 && (
                    <div>
                      <h5 className="font-medium heritage-text mb-2">
                        {t("person.children")}:
                      </h5>
                      <div className="flex flex-wrap gap-2">
                        {children.map((p) => (
                          <Badge
                            key={p.id}
                            variant="secondary"
                            className="cursor-pointer hover:bg-stone-200"
                            onClick={() => onPersonClick(p)}
                          >
                            {p.firstName} {p.lastName}
                          </Badge>
                        ))}
                      </div>
                    </div>
                  )}
                </div>
              </div>

              {documents && documents.length > 0 && (
                <div>
                  <h4 className="font-semibold heritage-text mb-3">
                    Dokumenty:
                  </h4>
                  <div className="grid grid-cols-2 md:grid-cols-3 gap-3">
                    {documents.map((doc: Document) => (
                      <div
                        key={doc.id}
                        className="bg-stone-100 rounded-lg p-3 text-center cursor-pointer hover:bg-stone-200 transition-colors"
                        onClick={() => handleDocumentClick(doc)}
                      >
                        <FileText className="w-8 h-8 heritage-text mx-auto mb-2" />
                        <p className="text-xs heritage-text font-medium">
                          {doc.title}
                        </p>
                      </div>
                    ))}
                  </div>
                </div>
              )}
            </div>
          </ScrollArea>
        </DialogContent>
      </Dialog>

      {lightboxOpen && (
        <Lightbox
          isOpen={lightboxOpen}
          onClose={() => setLightboxOpen(false)}
          image={lightboxImage}
        />
      )}
    </>
  );
}


---------------------------

{
  "people": [
    {
      "id": 1,
      "firstName": "Tomasz",
      "lastName": "Gierczak",
      "birthDate": null,
      "deathDate": null,
      "birthPlace": "Jaszowice",
      "occupation": null,
      "family": "gierczak",
      "biography": "Protoplasta rodu Gierczak. Ożenił się z Zofią Giel vel Gielowską. Mieli 5 dzieci. Mieszkali we wsi Jaszowice k. Radomia.",
      "spouseIds": [2],
      "childIds": [3, 4, 5, 6, 7],
      "parentIds": []
    },
    {
      "id": 2,
      "firstName": "Zofia",
      "lastName": "Gerczak vel Gierczak",
      "maidenName": "Giel vel Gielowska",
      "birthDate": null,
      "deathDate": null,
      "birthPlace": null,
      "occupation": null,
      "family": "gierczak",
      "biography": "Żona Tomasza Gerczaka vel Gierczaka. Brak dostępu do danych.",
      "spouseIds": [1],
      "childIds": [3, 4, 5, 6, 7],
      "parentIds": []
    },
    {
      "id": 3,
      "firstName": "Franciszek",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1816-11-24",
      "deathDate": null,
      "birthPlace": "Jaszowice",
      "occupation": null,
      "family": "gierczak",
      "biography": "Syn Tomasza i Zofii Gerczak vel Gierczak.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [1, 2]
    },
    {
      "id": 4,
      "firstName": "Ambroży",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "ok. 1800",
      "deathDate": "1836",
      "birthPlace": "Jaszowice",
      "occupation": {
        "pl": "Gospodarz",
        "en": "Farmer"
      },
      "family": "gierczak",
      "biography": "3 x pradziadek. Urodził się pod koniec XVIII w. lub na początku XIX w. Ożenił się prawdopodobnie w 1820 z Kunegundą Kanią. Mieli 8 dzieci.",
      "spouseIds": [8],
      "childIds": [59, 60, 61, 62, 63, 13, 64, 65],
      "parentIds": [1, 2]
    },
    {
      "id": 5,
      "firstName": "Michał",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": null,
      "deathDate": "1854",
      "birthPlace": "Jaszowice",
      "occupation": null,
      "family": "gierczak",
      "biography": "Syn Tomasza i Zofii Gerczak vel Gierczak.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [1, 2]
    },
    {
      "id": 6,
      "firstName": "Andrzej",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": null,
      "deathDate": "1868",
      "birthPlace": "Jaszowice",
      "occupation": null,
      "family": "gierczak",
      "biography": "Syn Tomasza i Zofii. Ożenił się w 1837 z Teresą Pączek (Górniak, Gurniak, Gorniak, Pączkowa), której rodzicami byli Jakub i Magdalena. Ślub odbył się w parafii Cerekiew.",
      "spouseIds": [101],
      "childIds": [],
      "parentIds": [1, 2]
    },
    {
      "id": 7,
      "firstName": "Marianna",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": null,
      "deathDate": "1916",
      "birthPlace": "Jaszowice",
      "occupation": null,
      "family": "gierczak",
      "biography": "Córka Tomasza i Zofii Gerczak vel Gierczak.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [1, 2]
    },
    {
      "id": 8,
      "firstName": "Kunegunda",
      "lastName": "Remisiewska",
      "maidenName": "Kania vel Kanionka",
      "birthDate": null,
      "deathDate": null,
      "birthPlace": null,
      "occupation": null,
      "family": "gierczak",
      "biography": "Żona Ambrożego. Rodzicami Kunegundy byli Stanisław i Magdalena. Po śmierci Ambrożego wyszła za mąż w 1837 za Mikołaja Remisiewskiego.",
      "spouseIds": [4, 107],
      "childIds": [59, 60, 61, 62, 63, 13, 64, 65],
      "parentIds": []
    },
    {
      "id": 13,
      "firstName": "Karol",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1828",
      "deathDate": "1903",
      "birthPlace": "Jaszowice",
      "occupation": {
        "pl": "Gospodarz",
        "en": "Farmer"
      },
      "family": "gierczak",
      "biography": "Syn Ambrożego i Kunegundy. Żoną Karola została 23.11.1857 Tekla Kozyra. Zamieszkali w Gulinku. Mieli 3 dzieci.",
      "spouseIds": [18],
      "childIds": [19, 68, 69],
      "parentIds": [4, 8]
    },
    {
      "id": 18,
      "firstName": "Tekla",
      "lastName": "Kozyra vel Kozera",
      "maidenName": "Adamczyk",
      "birthDate": "1831",
      "deathDate": "1909",
      "birthPlace": null,
      "occupation": null,
      "family": "gierczak",
      "biography": "Żona Karola Gerczaka. Rodzicami Tekli byli Adam i Józefa Kredowska.",
      "spouseIds": [13],
      "childIds": [19, 68, 69],
      "parentIds": []
    },
    {
      "id": 19,
      "firstName": "Paweł",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1867",
      "deathDate": "1935",
      "birthPlace": "Gulinek",
      "occupation": {
        "pl": "Gospodarz",
        "en": "Farmer"
      },
      "family": "gierczak",
      "biography": "Syn Karola i Tekli. Pojął za żonę w 1887 Katarzynę Czerwińską. Mieli 10 dzieci. Był dziadkiem Józefa ur. w 1930.",
      "spouseIds": [22],
      "childIds": [70, 71, 72, 26, 73, 74, 75, 76, 77, 78],
      "parentIds": [13, 18]
    },
    {
      "id": 22,
      "firstName": "Katarzyna",
      "lastName": "Gerczak vel Gierczak",
      "maidenName": "Czerwińska",
      "birthDate": null,
      "deathDate": null,
      "birthPlace": null,
      "occupation": null,
      "family": "gierczak",
      "biography": "Żona Pawła. Rodzicami Katarzyny byli Mateusz i Marianna Kieraga.",
      "spouseIds": [19],
      "childIds": [70, 71, 72, 26, 73, 74, 75, 76, 77, 78],
      "parentIds": []
    },
    {
      "id": 26,
      "firstName": "Jan",
      "lastName": "Gierczak",
      "birthDate": "1891",
      "deathDate": null,
      "birthPlace": "Gulinek",
      "occupation": {
        "pl": "Gospodarz",
        "en": "Farmer"
      },
      "family": "gierczak",
      "biography": "Syn Pawła i Katarzyny. Ojciec Józefa ur. 1930. Z Agnieszką Baćmagą ożenił się w 1917. Mieli ośmioro dzieci.",
      "spouseIds": [32],
      "childIds": [79, 80, 81, 82, 83, 84, 39, 85],
      "parentIds": [19, 22]
    },
    {
      "id": 32,
      "firstName": "Agnieszka",
      "lastName": "Gierczak",
      "maidenName": "Baćmaga z d. Szewczyk",
      "birthDate": "1894-04-13",
      "deathDate": null,
      "birthPlace": null,
      "occupation": null,
      "family": "gierczak",
      "biography": "Żona Jana, babcia autora. Urodziła się z rodziców Kazimierza i Antonimy Szewczyk. Mieli ośmioro dzieci.",
      "spouseIds": [26],
      "childIds": [79, 80, 81, 82, 83, 84, 39, 85],
      "parentIds": []
    },
    {
      "id": 39,
      "firstName": "Józef",
      "lastName": "Gierczak",
      "birthDate": "1930",
      "deathDate": "1996",
      "birthPlace": "Gulinek",
      "occupation": {
        "pl": "Robotnik bezrolny",
        "en": "Landless worker"
      },
      "family": "gierczak",
      "biography": "Syn Jana i Agnieszki, ojciec autora. Z Marianną Ofiarą ożenił się w 1952. Mieli troje dzieci.",
      "spouseIds": [41],
      "childIds": [86, 87, 88],
      "parentIds": [26, 32]
    },
    {
      "id": 41,
      "firstName": "Marianna",
      "lastName": "Gierczak",
      "maidenName": "Ofiara z d. Sobień",
      "birthDate": "1931",
      "deathDate": "1987",
      "birthPlace": "Ludwików",
      "occupation": null,
      "family": "ofiara",
      "biography": "Żona Józefa Gierczaka, matka autora. Za Józefa Gierczaka wyszła w 1952. Córka Józefa Ofiary i jego drugiej żony, Heleny z d. Sobień.",
      "spouseIds": [39],
      "childIds": [86, 87, 88],
      "parentIds": [45, 46]
    },
    {
      "id": 45,
      "firstName": "Józef",
      "lastName": "Ofiara",
      "birthDate": "1896",
      "deathDate": "1968",
      "birthPlace": "Ludwików",
      "occupation": {
        "pl": "Gospodarz",
        "en": "Farmer"
      },
      "family": "ofiara",
      "biography": "Dziadek autora. Syn Andrzeja Ofiary i Franciszki Szaruch. W 1918 poślubił Rozalię Mitak (zm. 1925), z którą miał 3 synów. Po jej śmierci ożenił się w 1926 z Heleną Sobień, z którą miał 6 dzieci.",
      "spouseIds": [47, 46],
      "childIds": [92, 93, 94, 95, 96, 97, 98, 41, 99],
      "parentIds": [57, 58]
    },
    {
      "id": 46,
      "firstName": "Helena",
      "lastName": "Ofiara",
      "maidenName": "Sobień",
      "birthDate": "1905-01-09",
      "deathDate": "1978-09-06",
      "birthPlace": null,
      "occupation": null,
      "family": "ofiara",
      "biography": "Babcia autora, druga żona Józefa Ofiary. Z Józefem miała sześcioro dzieci. Miała liczne rodzeństwo rodzone i przyrodnie.",
      "spouseIds": [45],
      "childIds": [95, 96, 97, 98, 41, 99],
      "parentIds": [119, 120]
    },
    {
      "id": 47,
      "firstName": "Rozalia",
      "lastName": "Ofiara",
      "maidenName": "Mitak",
      "birthDate": "1892",
      "deathDate": "1925",
      "birthPlace": null,
      "occupation": null,
      "family": "ofiara",
      "biography": "Pierwsza żona Józefa Ofiary. Córka Michała Mitaka i Ewy Drużdżel. Zmarła w wieku 33 lat. Matka Stanisława, Piotra i Jana.",
      "spouseIds": [45],
      "childIds": [92, 93, 94],
      "parentIds": [121, 120]
    },
    {
      "id": 57,
      "firstName": "Andrzej",
      "lastName": "Ofiara",
      "birthDate": null,
      "deathDate": null,
      "birthPlace": "Ludwików",
      "occupation": {
        "pl": "Gospodarz",
        "en": "Farmer"
      },
      "family": "ofiara",
      "biography": "Pradziadek autora. Ożenił się z Franciszką Szaruch (Saruch). Mieli 4 dzieci.",
      "spouseIds": [58],
      "childIds": [89, 90, 45, 91],
      "parentIds": []
    },
    {
      "id": 58,
      "firstName": "Franciszka",
      "lastName": "Ofiara",
      "maidenName": "Szaruch",
      "birthDate": null,
      "deathDate": null,
      "birthPlace": null,
      "occupation": null,
      "family": "ofiara",
      "biography": "Żona Andrzeja Ofiary. Brak danych.",
      "spouseIds": [57],
      "childIds": [89, 90, 45, 91],
      "parentIds": []
    },
    {
      "id": 59,
      "firstName": "Józefa",
      "lastName": "Wieracha",
      "maidenName": "Gerczak vel Gierczak",
      "birthDate": null,
      "deathDate": null,
      "birthPlace": "Jaszowice",
      "occupation": null,
      "family": "gierczak",
      "biography": "Córka Ambrożego i Kunegundy. W 1841 wyszła za mąż za Józefa Wierachę.",
      "spouseIds": [102],
      "childIds": [],
      "parentIds": [4, 8]
    },
    {
      "id": 60,
      "firstName": "Jadwiga",
      "lastName": "Kornafel",
      "maidenName": "Gerczak vel Gierczak",
      "birthDate": null,
      "deathDate": "1884",
      "birthPlace": "Jaszowice",
      "occupation": null,
      "family": "gierczak",
      "biography": "Córka Ambrożego i Kunegundy. W 1842 poślubiła Franciszka Kornafela.",
      "spouseIds": [103],
      "childIds": [],
      "parentIds": [4, 8]
    },
    {
      "id": 61,
      "firstName": "Marianna",
      "lastName": "Stępień",
      "maidenName": "Gerczak vel Gierczak",
      "birthDate": "1833",
      "deathDate": null,
      "birthPlace": "Jaszowice",
      "occupation": null,
      "family": "gierczak",
      "biography": "Córka Ambrożego i Kunegundy. W 1852 wyszła za mąż za Antoniego Stępnia.",
      "spouseIds": [104],
      "childIds": [],
      "parentIds": [4, 8]
    },
    {
      "id": 62,
      "firstName": "Katarzyna",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": null,
      "deathDate": "1821",
      "birthPlace": "Jaszowice",
      "occupation": null,
      "family": "gierczak",
      "biography": "Córka Ambrożego i Kunegundy.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [4, 8]
    },
    {
      "id": 63,
      "firstName": "Kacper",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1826",
      "deathDate": "1903",
      "birthPlace": "Jaszowice",
      "occupation": null,
      "family": "gierczak",
      "biography": "Syn Ambrożego i Kunegundy. Pierwszą żoną była Marianna Moskwa, z którą miał dwoje dzieci. Po jej śmierci, w 1893 ożenił się z wdową Franciszką Mortką.",
      "spouseIds": [105, 106],
      "childIds": [66, 67],
      "parentIds": [4, 8]
    },
    {
      "id": 64,
      "firstName": "Ludwika",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1831",
      "deathDate": null,
      "birthPlace": "Jaszowice",
      "occupation": null,
      "family": "gierczak",
      "biography": "Córka Ambrożego i Kunegundy.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [4, 8]
    },
    {
      "id": 65,
      "firstName": "Franciszka",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1835",
      "deathDate": null,
      "birthPlace": "Jaszowice",
      "occupation": null,
      "family": "gierczak",
      "biography": "Córka Ambrożego i Kunegundy.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [4, 8]
    },
    {
      "id": 66,
      "firstName": "Marianna",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1857",
      "deathDate": "1860",
      "birthPlace": "Jaszowice",
      "occupation": null,
      "family": "gierczak",
      "biography": "Córka Kacpra i jego pierwszej żony, Marianny Moskwy.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [63, 105]
    },
    {
      "id": 67,
      "firstName": "Jędrzej",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1859",
      "deathDate": null,
      "birthPlace": "Jaszowice",
      "occupation": null,
      "family": "gierczak",
      "biography": "Syn Kacpra i jego pierwszej żony, Marianny Moskwy.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [63, 105]
    },
    {
      "id": 68,
      "firstName": "Antonina",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1869",
      "deathDate": null,
      "birthPlace": "Gulinek",
      "occupation": null,
      "family": "gierczak",
      "biography": "Córka Karola i Tekli.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [13, 18]
    },
    {
      "id": 69,
      "firstName": "Józefa",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1872",
      "deathDate": "1880",
      "birthPlace": "Gulinek",
      "occupation": null,
      "family": "gierczak",
      "biography": "Córka Karola i Tekli.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [13, 18]
    },
    {
      "id": 70,
      "firstName": "Józefa",
      "lastName": "Walczak",
      "maidenName": "Gerczak vel Gierczak",
      "birthDate": null,
      "deathDate": null,
      "birthPlace": "Gulinek",
      "occupation": null,
      "family": "gierczak",
      "biography": "Córka Pawła i Katarzyny. Wyszła za mąż w 1928 za wdowca Władysława Walczaka.",
      "spouseIds": [111],
      "childIds": [],
      "parentIds": [19, 22]
    },
    {
      "id": 71,
      "firstName": "Adam",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1888",
      "deathDate": "1889-03-06",
      "birthPlace": "Gulinek",
      "occupation": null,
      "family": "gierczak",
      "biography": "Syn Pawła i Katarzyny. Zmarł jako 3-miesięczne dziecko.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [19, 22]
    },
    {
      "id": 72,
      "firstName": "Józef",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1890",
      "deathDate": "1890",
      "birthPlace": "Gulinek",
      "occupation": null,
      "family": "gierczak",
      "biography": "Syn Pawła i Katarzyny. Zmarł po 6 tygodniach.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [19, 22]
    },
    {
      "id": 73,
      "firstName": "Stanisław",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1893",
      "deathDate": null,
      "birthPlace": "Gulinek",
      "occupation": null,
      "family": "gierczak",
      "biography": "Syn Pawła i Katarzyny. Ożenił się w 1921 z Anielą Burakowską c. Andrzeja i Teofili w parafii Błotnica.",
      "spouseIds": [108],
      "childIds": [],
      "parentIds": [19, 22]
    },
    {
      "id": 74,
      "firstName": "Zofia",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1900",
      "deathDate": null,
      "birthPlace": "Gulinek",
      "occupation": null,
      "family": "gierczak",
      "biography": "Córka Pawła i Katarzyny.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [19, 22]
    },
    {
      "id": 75,
      "firstName": "Antoni",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1903",
      "deathDate": null,
      "birthPlace": "Gulinek",
      "occupation": null,
      "family": "gierczak",
      "biography": "Syn Pawła i Katarzyny. Wziął za żonę Honoratę Musiałek c. Franciszka i Józefy Banasiak. Ślub odbył się w 1931 w Zakrzewie.",
      "spouseIds": [109],
      "childIds": [],
      "parentIds": [19, 22]
    },
    {
      "id": 76,
      "firstName": "Rozalia",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": null,
      "deathDate": "1906",
      "birthPlace": "Gulinek",
      "occupation": null,
      "family": "gierczak",
      "biography": "Córka Pawła i Katarzyny.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [19, 22]
    },
    {
      "id": 77,
      "firstName": "Franciszek",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1910",
      "deathDate": null,
      "birthPlace": "Gulinek",
      "occupation": null,
      "family": "gierczak",
      "biography": "Syn Pawła i Katarzyny. Ożenił się w 1932 z Feliksą Szczygłowską c. Jana i Karoliny Kozłowskiej. Ślub odbył się w parafii Kowala-Stępocina.",
      "spouseIds": [110],
      "childIds": [],
      "parentIds": [19, 22]
    },
    {
      "id": 78,
      "firstName": "Stanisława",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1911",
      "deathDate": "1911",
      "birthPlace": "Gulinek",
      "occupation": null,
      "family": "gierczak",
      "biography": "Córka Pawła i Katarzyny. Zmarła po 3 tygodniach.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [19, 22]
    },
    {
      "id": 79,
      "firstName": "Jan",
      "lastName": "Gierczak",
      "birthDate": "1918",
      "deathDate": "1918",
      "birthPlace": "Gulinek",
      "occupation": null,
      "family": "gierczak",
      "biography": "Syn Jana i Agnieszki. Żył 2 dni.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [26, 32]
    },
    {
      "id": 80,
      "firstName": "Marianna",
      "lastName": "Gierczak",
      "birthDate": "1918",
      "deathDate": "1918",
      "birthPlace": "Gulinek",
      "occupation": null,
      "family": "gierczak",
      "biography": "Córka Jana i Agnieszki. Żyła 2 tygodnie.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [26, 32]
    },
    {
      "id": 81,
      "firstName": "Janina",
      "lastName": "Gierczak",
      "birthDate": "1920",
      "deathDate": "1920",
      "birthPlace": "Gulinek",
      "occupation": null,
      "family": "gierczak",
      "biography": "Córka Jana i Agnieszki. Żyła 8 tygodni.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [26, 32]
    },
    {
      "id": 82,
      "firstName": "Stefan",
      "lastName": "Gierczak",
      "birthDate": "1921",
      "deathDate": "2017",
      "birthPlace": "Gulinek",
      "occupation": null,
      "family": "gierczak",
      "biography": "Syn Jana i Agnieszki.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [26, 32]
    },
    {
      "id": 83,
      "firstName": "Władysław",
      "lastName": "Gierczak",
      "birthDate": "1923",
      "deathDate": "2004-12-02",
      "birthPlace": "Gulinek",
      "occupation": null,
      "family": "gierczak",
      "biography": "Syn Jana i Agnieszki.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [26, 32]
    },
    {
      "id": 84,
      "firstName": "Tadeusz",
      "lastName": "Gierczak",
      "birthDate": "192x",
      "deathDate": "1974",
      "birthPlace": "Gulinek",
      "occupation": null,
      "family": "gierczak",
      "biography": "Syn Jana i Agnieszki.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [26, 32]
    },
    {
      "id": 85,
      "firstName": "Zofia",
      "lastName": "Gierczak",
      "birthDate": "19xx",
      "deathDate": "2022",
      "birthPlace": "Gulinek",
      "occupation": null,
      "family": "gierczak",
      "biography": "Córka Jana i Agnieszki.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [26, 32]
    },
    {
      "id": 86,
      "firstName": "Witold",
      "lastName": "Gierczak",
      "birthDate": null,
      "deathDate": null,
      "birthPlace": "Radom",
      "occupation": null,
      "family": "gierczak",
      "biography": "Syn Józefa i Marianny. Zmarł jako roczne dziecko.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [39, 41]
    },
    {
      "id": 87,
      "firstName": "Adam",
      "lastName": "Gierczak",
      "birthDate": "1956",
      "deathDate": null,
      "birthPlace": "Radom",
      "occupation": null,
      "family": "gierczak",
      "biography": "Syn Józefa i Marianny, brat autora.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [39, 41]
    },
    {
      "id": 88,
      "firstName": "Maria",
      "lastName": "Gierczak",
      "birthDate": "1958",
      "deathDate": null,
      "birthPlace": "Radom",
      "occupation": null,
      "family": "gierczak",
      "biography": "Córka Józefa i Marianny, siostra autora.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [39, 41]
    },
    {
      "id": 89,
      "firstName": "Ignacy",
      "lastName": "Ofiara",
      "birthDate": null,
      "deathDate": null,
      "birthPlace": "Ludwików",
      "occupation": null,
      "family": "ofiara",
      "biography": "Syn Andrzeja i Franciszki. W 1908 ożenił się z wdową Katarzyną Sikorską (Jurczak) c. Andrzeja i Marianny Hudzik.",
      "spouseIds": [112],
      "childIds": [],
      "parentIds": [57, 58]
    },
    {
      "id": 90,
      "firstName": "Antoni",
      "lastName": "Ofiara",
      "birthDate": null,
      "deathDate": null,
      "birthPlace": "Ludwików",
      "occupation": null,
      "family": "ofiara",
      "biography": "Syn Andrzeja i Franciszki. Ożenił się w 1910 z wdową Rozalią Rojek (Drużdżel) c. Kazimierza i Małgorzaty Podkowiak.",
      "spouseIds": [113],
      "childIds": [],
      "parentIds": [57, 58]
    },
    {
      "id": 91,
      "firstName": "Katarzyna",
      "lastName": "Piwowarczyk",
      "maidenName": "Ofiara",
      "birthDate": null,
      "deathDate": "1944-11-09",
      "birthPlace": "Ludwików",
      "occupation": null,
      "family": "ofiara",
      "biography": "Córka Andrzeja i Franciszki.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [57, 58]
    },
    {
      "id": 92,
      "firstName": "Stanisław",
      "lastName": "Ofiara",
      "birthDate": "1919",
      "deathDate": null,
      "birthPlace": "Ludwików",
      "occupation": null,
      "family": "ofiara",
      "biography": "Syn Józefa Ofiary i jego pierwszej żony, Rozalii z d. Mitak.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [45, 47]
    },
    {
      "id": 93,
      "firstName": "Piotr",
      "lastName": "Ofiara",
      "birthDate": "1921",
      "deathDate": "2004-06-03",
      "birthPlace": "Ludwików",
      "occupation": null,
      "family": "ofiara",
      "biography": "Syn Józefa Ofiary i jego pierwszej żony, Rozalii z d. Mitak.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [45, 47]
    },
    {
      "id": 94,
      "firstName": "Jan",
      "lastName": "Ofiara",
      "birthDate": "1925",
      "deathDate": "2001-04-30",
      "birthPlace": "Ludwików",
      "occupation": null,
      "family": "ofiara",
      "biography": "Syn Józefa Ofiary i jego pierwszej żony, Rozalii z d. Mitak.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [45, 47]
    },
    {
      "id": 95,
      "firstName": "Józef",
      "lastName": "Ofiara",
      "birthDate": "1926-12",
      "deathDate": "1927-01-09",
      "birthPlace": "Ludwików",
      "occupation": null,
      "family": "ofiara",
      "biography": "Syn Józefa Ofiary i Heleny z d. Sobień. Zmarł jako 2-tygodniowe dziecko.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [45, 46]
    },
    {
      "id": 96,
      "firstName": "Andrzej",
      "lastName": "Ofiara",
      "birthDate": "1927-12",
      "deathDate": "1928-01-07",
      "birthPlace": "Ludwików",
      "occupation": null,
      "family": "ofiara",
      "biography": "Syn Józefa Ofiary i Heleny z d. Sobień. Zmarł jako 2-tygodniowe dziecko.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [45, 46]
    },
    {
      "id": 97,
      "firstName": "Genowefa",
      "lastName": "Ofiara",
      "birthDate": "1930-07",
      "deathDate": "1930-08-16",
      "birthPlace": "Ludwików",
      "occupation": null,
      "family": "ofiara",
      "biography": "Córka Józefa Ofiary i Heleny z d. Sobień. Zmarła jako 3-tygodniowe dziecko.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [45, 46]
    },
    {
      "id": 98,
      "firstName": "Kazimiera",
      "lastName": "Ofiara",
      "birthDate": "1934",
      "deathDate": "1935-08-09",
      "birthPlace": "Ludwików",
      "occupation": null,
      "family": "ofiara",
      "biography": "Córka Józefa Ofiary i Heleny z d. Sobień. Zmarła jako półtoraroczne dziecko.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [45, 46]
    },
    {
      "id": 99,
      "firstName": "Roman",
      "lastName": "Ofiara",
      "birthDate": null,
      "deathDate": null,
      "birthPlace": "Ludwików",
      "occupation": null,
      "family": "ofiara",
      "biography": "Syn Józefa Ofiary i Heleny z d. Sobień.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [45, 46]
    },
    {
      "id": 101,
      "firstName": "Teresa",
      "lastName": "Gerczak vel Gierczak",
      "maidenName": "Pączek",
      "birthDate": null,
      "deathDate": null,
      "birthPlace": null,
      "occupation": null,
      "family": "gierczak",
      "biography": "Żona Andrzeja Gerczaka (syna Tomasza). Jej rodzicami byli Jakub i Magdalena.",
      "spouseIds": [6],
      "childIds": [],
      "parentIds": []
    },
    {
      "id": 102,
      "firstName": "Józef",
      "lastName": "Wieracha",
      "birthDate": null,
      "deathDate": null,
      "birthPlace": null,
      "occupation": null,
      "family": "gierczak",
      "biography": "Mąż Józefy Gerczak (córki Ambrożego).",
      "spouseIds": [59],
      "childIds": [],
      "parentIds": []
    },
    {
      "id": 103,
      "firstName": "Franciszek",
      "lastName": "Kornafel",
      "birthDate": null,
      "deathDate": null,
      "birthPlace": null,
      "occupation": null,
      "family": "gierczak",
      "biography": "Mąż Jadwigi Gerczak (córki Ambrożego).",
      "spouseIds": [60],
      "childIds": [],
      "parentIds": []
    },
    {
      "id": 104,
      "firstName": "Antoni",
      "lastName": "Stępień",
      "birthDate": null,
      "deathDate": null,
      "birthPlace": null,
      "occupation": null,
      "family": "gierczak",
      "biography": "Mąż Marianny Gerczak (córki Ambrożego).",
      "spouseIds": [61],
      "childIds": [],
      "parentIds": []
    },
    {
      "id": 105,
      "firstName": "Marianna",
      "lastName": "Gerczak vel Gierczak",
      "maidenName": "Moskwa vel Moskwina",
      "birthDate": null,
      "deathDate": "przed 1893",
      "birthPlace": null,
      "occupation": null,
      "family": "gierczak",
      "biography": "Pierwsza żona Kacpra Gerczaka. Matka Jędrzeja i Marianny.",
      "spouseIds": [63],
      "childIds": [66, 67],
      "parentIds": []
    },
    {
      "id": 106,
      "firstName": "Franciszka",
      "lastName": "Gerczak vel Gierczak",
      "maidenName": "Mortka z d. Indrzejoska",
      "birthDate": null,
      "deathDate": null,
      "birthPlace": null,
      "occupation": null,
      "family": "gierczak",
      "biography": "Druga żona Kacpra Gerczaka, którą poślubił jako wdowiec w 1893 roku.",
      "spouseIds": [63],
      "childIds": [],
      "parentIds": []
    },
    {
      "id": 107,
      "firstName": "Mikołaj",
      "lastName": "Remisiewski",
      "birthDate": null,
      "deathDate": null,
      "birthPlace": null,
      "occupation": null,
      "family": "gierczak",
      "biography": "Drugi mąż Kunegundy z d. Kania, wdowy po Ambrożym Gerczaku. Syn Łukasza i Moniki Łosiak.",
      "spouseIds": [8],
      "childIds": [],
      "parentIds": []
    },
    {
      "id": 108,
      "firstName": "Aniela",
      "lastName": "Gerczak vel Gierczak",
      "maidenName": "Burakowska",
      "birthDate": null,
      "deathDate": null,
      "birthPlace": null,
      "occupation": null,
      "family": "gierczak",
      "biography": "Żona Stanisława Gerczaka (syna Pawła). Córka Andrzeja i Teofili. Ślub w parafii Błotnica w 1921 r.",
      "spouseIds": [73],
      "childIds": [],
      "parentIds": []
    },
    {
      "id": 109,
      "firstName": "Honorata",
      "lastName": "Gerczak vel Gierczak",
      "maidenName": "Musiałek",
      "birthDate": null,
      "deathDate": null,
      "birthPlace": null,
      "occupation": null,
      "family": "gierczak",
      "biography": "Żona Antoniego Gerczaka (syna Pawła). Córka Franciszka i Józefy Banasiak. Ślub w Zakrzewie w 1931 r.",
      "spouseIds": [75],
      "childIds": [],
      "parentIds": []
    },
    {
      "id": 110,
      "firstName": "Feliksa",
      "lastName": "Gerczak vel Gierczak",
      "maidenName": "Szczygłowska",
      "birthDate": null,
      "deathDate": null,
      "birthPlace": null,
      "occupation": null,
      "family": "gierczak",
      "biography": "Żona Franciszka Gerczaka (syna Pawła). Córka Jana i Karoliny Kozłowskiej. Ślub w parafii Kowala-Stępocina w 1932 r.",
      "spouseIds": [77],
      "childIds": [],
      "parentIds": []
    },
    {
      "id": 111,
      "firstName": "Władysław",
      "lastName": "Walczak",
      "birthDate": null,
      "deathDate": null,
      "birthPlace": null,
      "occupation": null,
      "family": "gierczak",
      "biography": "Mąż Józefy Gerczak (córki Pawła). Ślub w 1928 r.",
      "spouseIds": [70],
      "childIds": [],
      "parentIds": []
    },
    {
      "id": 112,
      "firstName": "Katarzyna",
      "lastName": "Ofiara",
      "maidenName": "Sikorska (Jurczak)",
      "birthDate": null,
      "deathDate": null,
      "birthPlace": null,
      "occupation": null,
      "family": "ofiara",
      "biography": "Żona Ignacego Ofiary. Córka Andrzeja i Marianny Hudzik. Ślub w Błotnicy w 1908 r.",
      "spouseIds": [89],
      "childIds": [],
      "parentIds": []
    },
    {
      "id": 113,
      "firstName": "Rozalia",
      "lastName": "Ofiara",
      "maidenName": "Rojek (Drużdżel)",
      "birthDate": null,
      "deathDate": null,
      "birthPlace": null,
      "occupation": null,
      "family": "ofiara",
      "biography": "Żona Antoniego Ofiary. Córka Kazimierza i Małgorzaty Podkowiak. Ślub w 1910 r.",
      "spouseIds": [90],
      "childIds": [],
      "parentIds": []
    },
    {
      "id": 114,
      "firstName": "Franciszka",
      "lastName": "Sobień",
      "maidenName": "Sobień",
      "birthDate": "1895-07-15",
      "deathDate": null,
      "birthPlace": null,
      "occupation": null,
      "family": "ofiara",
      "biography": "Siostra Heleny Ofiary (z d. Sobień). Córka Karola i Ewy.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [119, 120]
    },
    {
      "id": 115,
      "firstName": "Anna",
      "lastName": "Kozyra",
      "maidenName": "Sobień",
      "birthDate": "1898",
      "deathDate": "1927",
      "birthPlace": null,
      "occupation": null,
      "family": "ofiara",
      "biography": "Siostra Heleny Ofiary (z d. Sobień). Córka Karola i Ewy. W 1920 r. wyszła za mąż za Władysława Kozyrę.",
      "spouseIds": [126],
      "childIds": [],
      "parentIds": [119, 120]
    },
    {
      "id": 116,
      "firstName": "Zofia",
      "lastName": "Odzimek",
      "maidenName": "Sobień",
      "birthDate": "1903",
      "deathDate": null,
      "birthPlace": null,
      "occupation": null,
      "family": "ofiara",
      "biography": "Siostra Heleny Ofiary (z d. Sobień). Córka Karola i Ewy. W 1922 r. wyszła za mąż za Michała Odzimka.",
      "spouseIds": [127],
      "childIds": [],
      "parentIds": [119, 120]
    },
    {
      "id": 117,
      "firstName": "Jan",
      "lastName": "Sobień",
      "maidenName": null,
      "birthDate": "1900-12-12",
      "deathDate": null,
      "birthPlace": null,
      "occupation": null,
      "family": "ofiara",
      "biography": "Brat Heleny Ofiary (z d. Sobień). Syn Karola i Ewy. W 1926 r. ożenił się ze Stanisławą Bocheńską.",
      "spouseIds": [128],
      "childIds": [],
      "parentIds": [119, 120]
    },
    {
      "id": 118,
      "firstName": "Józef",
      "lastName": "Sobień",
      "maidenName": null,
      "birthDate": "1908",
      "deathDate": null,
      "birthPlace": null,
      "occupation": null,
      "family": "ofiara",
      "biography": "Brat Heleny Ofiary (z d. Sobień). Syn Karola i Ewy.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [119, 120]
    },
    {
      "id": 119,
      "firstName": "Karol",
      "lastName": "Sobień",
      "maidenName": null,
      "birthDate": null,
      "deathDate": null,
      "birthPlace": null,
      "occupation": null,
      "family": "ofiara",
      "biography": "Ojciec Heleny Ofiary (z d. Sobień), mąż Ewy Drużdżel.",
      "spouseIds": [120],
      "childIds": [114, 115, 116, 46, 117, 118],
      "parentIds": []
    },
    {
      "id": 120,
      "firstName": "Ewa",
      "lastName": "Sobień",
      "maidenName": "Drużdżel",
      "birthDate": null,
      "deathDate": null,
      "birthPlace": null,
      "occupation": null,
      "family": "ofiara",
      "biography": "Matka Heleny Ofiary (z d. Sobień). Jej pierwszym mężem był Michał Mitak, z którym miała czworo dzieci. Drugim mężem był Karol Sobień, z którym miała sześcioro dzieci.",
      "spouseIds": [121, 119],
      "childIds": [122, 123, 47, 125, 114, 115, 116, 46, 117, 118],
      "parentIds": []
    },
    {
      "id": 121,
      "firstName": "Michał",
      "lastName": "Mitak",
      "maidenName": null,
      "birthDate": null,
      "deathDate": "przed 1895",
      "birthPlace": null,
      "occupation": null,
      "family": "ofiara",
      "biography": "Pierwszy mąż Ewy Drużdżel. Ojciec Weroniki, Marianny, Rozalii i Jana.",
      "spouseIds": [120],
      "childIds": [122, 123, 47, 125],
      "parentIds": []
    },
    {
      "id": 122,
      "firstName": "Weronika",
      "lastName": "Mitak",
      "maidenName": "Mitak",
      "birthDate": "1886",
      "deathDate": "1998-12-27",
      "birthPlace": null,
      "occupation": null,
      "family": "ofiara",
      "biography": "Córka Michała Mitaka i Ewy Drużdżel. Przyrodnia siostra Heleny Ofiary.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [121, 120]
    },
    {
      "id": 123,
      "firstName": "Marianna",
      "lastName": "Mitak",
      "maidenName": "Mitak",
      "birthDate": "1889",
      "deathDate": "1980-04-10",
      "birthPlace": null,
      "occupation": null,
      "family": "ofiara",
      "biography": "Córka Michała Mitaka i Ewy Drużdżel. Przyrodnia siostra Heleny Ofiary.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [121, 120]
    },
    {
      "id": 125,
      "firstName": "Jan",
      "lastName": "Mitak",
      "maidenName": null,
      "birthDate": "1894",
      "deathDate": null,
      "birthPlace": null,
      "occupation": null,
      "family": "ofiara",
      "biography": "Syn Michała Mitaka i Ewy Drużdżel. Przyrodni brat Heleny Ofiary.",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [121, 120]
    },
    {
      "id": 126,
      "firstName": "Władysław",
      "lastName": "Kozyra",
      "maidenName": null,
      "birthDate": null,
      "deathDate": null,
      "birthPlace": null,
      "occupation": null,
      "family": "ofiara",
      "biography": "Mąż Anny Sobień. Syn Józefa i Weroniki Korczak.",
      "spouseIds": [115],
      "childIds": [],
      "parentIds": []
    },
    {
      "id": 127,
      "firstName": "Michał",
      "lastName": "Odzimek",
      "maidenName": null,
      "birthDate": null,
      "deathDate": null,
      "birthPlace": null,
      "occupation": null,
      "family": "ofiara",
      "biography": "Mąż Zofii Sobień. Syn Walentego i Zofii Kowalik.",
      "spouseIds": [116],
      "childIds": [],
      "parentIds": []
    },
    {
      "id": 128,
      "firstName": "Stanisława",
      "lastName": "Sobień",
      "maidenName": "Bocheńska",
      "birthDate": null,
      "deathDate": null,
      "birthPlace": null,
      "occupation": null,
      "family": "ofiara",
      "biography": "Żona Jana Sobienia. Córka Walentego i Marianny Zarębskiej.",
      "spouseIds": [117],
      "childIds": [],
      "parentIds": []
    }
  ],
  "documents": [
    {
      "id": 1,
      "personId": 1,
      "title": "Akt urodzenia Jana Gierczaka",
      "type": "birth",
      "description": "Metryka urodzenia z parafii Cerekiew",
      "imageUrl": "https://images.unsplash.com/photo-1553729784-e91953dec042?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=600"
    },
    {
      "id": 2,
      "personId": 1,
      "title": "Akt ślubu Jana i Anny",
      "type": "marriage",
      "description": "Dokument ślubu z 1845 roku",
      "imageUrl": "https://images.unsplash.com/photo-1618556450994-a6a128ef0d9d?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=600"
    }
  ],
  "places": [
    {
      "name": "Jaszowice",
      "description": {
        "pl": "Główna miejscowość rodu Gierczaków",
        "en": "The main locality of the Gierczak family"
      },
      "imageUrl": "/images/4.avif"
    },
    {
      "name": "Ludwików",
      "description": {
        "pl": "Miejsce pochodzenia rodu Ofiarów",
        "en": "The place of origin of the Ofiara family"
      },
      "imageUrl": "/images/ludwikow.png"
    },
    {
      "name": "Cerekiew",
      "description": {
        "pl": "Parafia i cmentarz rodzinny",
        "en": "Parish and family cemetery"
      },
      "imageUrl": "/images/4.avif"
    },
    {
      "name": "Gulinek",
      "description": {
        "pl": "Wieś, w której zamieszkali Karol Gerczak z Teklą Kozyrą, a później ich potomkowie.",
        "en": "A village where Karol Gerczak and Tekla Kozyra, and later their descendants, lived."
      },
      "imageUrl": "/images/gulinek.jpg"
    }
  ]
}


--------------------------------

import React, { useLayoutEffect } from "react";
import ReactFlow, {
  Background,
  Controls,
  MiniMap,
  useNodesState,
  useEdgesState,
  MarkerType,
  Edge,
  Node,
  NodeTypes,
} from "reactflow";
import "reactflow/dist/style.css";
import PersonNode from "./PersonNode";
import { Person } from "@shared/schema";
import dagre from "dagre";

interface InteractiveTreeProps {
  allPeople: Person[];
  onPersonClick: (person: Person) => void;
  showGierczak: boolean;
  showOfiara: boolean;
  showDescendants: boolean;
  showMarriages: boolean;
}

const dagreGraph = new dagre.graphlib.Graph();
dagreGraph.setDefaultEdgeLabel(() => ({}));

const nodeWidth = 260;
const nodeHeight = 130;

const nodeTypes: NodeTypes = {
  person: PersonNode,
};

const getLayoutedElements = (nodes: any[], edges: any[]) => {
  dagreGraph.setGraph({ rankdir: "TB", nodesep: 30, ranksep: 90 });

  nodes.forEach((node) => {
    dagreGraph.setNode(node.id, {
      width: node.style?.width ?? nodeWidth,
      height: node.style?.height ?? nodeHeight,
    });
  });

  edges.forEach((edge) => {
    dagreGraph.setEdge(edge.source, edge.target);
  });

  dagre.layout(dagreGraph);

  nodes.forEach((node) => {
    const nodeWithPosition = dagreGraph.node(node.id);
    node.targetPosition = "top";
    node.sourcePosition = "bottom";
    node.position = {
      x: nodeWithPosition.x - (node.style?.width ?? nodeWidth) / 2,
      y: nodeWithPosition.y - (node.style?.height ?? nodeHeight) / 2,
    };
  });

  return { nodes };
};

export default function InteractiveTree({
  allPeople,
  onPersonClick,
  showGierczak,
  showOfiara,
  showDescendants,
  showMarriages,
}: InteractiveTreeProps) {
  const [nodes, setNodes, onNodesChange] = useNodesState([]);
  const [edges, setEdges, onEdgesChange] = useEdgesState([]);

  useLayoutEffect(() => {
    if (!allPeople || allPeople.length === 0) {
      setNodes([]);
      setEdges([]);
      return;
    }

    const visiblePeople = allPeople.filter(
      (person) =>
        (person.family === "gierczak" && showGierczak) ||
        (person.family === "ofiara" && showOfiara)
    );

    const visibleNodeIds = new Set(visiblePeople.map((p) => p.id.toString()));

    const personNodes: Node[] = visiblePeople.map((person) => ({
      id: person.id.toString(),
      type: "person",
      data: {
        person,
        onClick: () => onPersonClick(person),
        family: person.family,
      },
      position: { x: 0, y: 0 },
    }));

    const unionNodes: Node[] = [];
    const layoutEdges: Edge[] = [];
    const marriageEdgesForRender: Edge[] = [];
    const structuralEdgesForRender: Edge[] = [];

    const processedCouples = new Set<string>();

    visiblePeople.forEach((person) => {
      const personIdStr = person.id.toString();

      if (person.spouseIds) {
        person.spouseIds.forEach((spouseId) => {
          const spouseIdStr = spouseId.toString();
          if (person.id < spouseId && visibleNodeIds.has(spouseIdStr)) {
            marriageEdgesForRender.push({
              id: `m-${personIdStr}-${spouseIdStr}`,
              source: personIdStr,
              target: spouseIdStr,
            });
          }
        });
      }

      if (person.parentIds && person.parentIds.length > 0) {
        if (person.parentIds.length === 2) {
          const [p1, p2] = person.parentIds.sort((a, b) => a - b);
          const p1Str = p1.toString();
          const p2Str = p2.toString();
          const coupleKey = `${p1Str}-${p2Str}`;

          if (visibleNodeIds.has(p1Str) && visibleNodeIds.has(p2Str)) {
            if (!processedCouples.has(coupleKey)) {
              const unionNodeId = `union-${coupleKey}`;
              unionNodes.push({
                id: unionNodeId,
                position: { x: 0, y: 0 },
                style: { width: 1, height: 1 }, // Mały, ale niezerowy rozmiar
                data: {},
              });
              layoutEdges.push({
                id: `l-${p1Str}-${unionNodeId}`,
                source: p1Str,
                target: unionNodeId,
              });
              layoutEdges.push({
                id: `l-${p2Str}-${unionNodeId}`,
                source: p2Str,
                target: unionNodeId,
              });
              processedCouples.add(coupleKey);
            }
            const unionNodeId = `union-${coupleKey}`;
            layoutEdges.push({
              id: `l-${unionNodeId}-${personIdStr}`,
              source: unionNodeId,
              target: personIdStr,
            });
          } else {
            person.parentIds.forEach((parentId) => {
              if (visibleNodeIds.has(parentId.toString())) {
                layoutEdges.push({
                  id: `l-${parentId}-${personIdStr}`,
                  source: parentId.toString(),
                  target: personIdStr,
                });
              }
            });
          }
        } else {
          person.parentIds.forEach((parentId) => {
            if (visibleNodeIds.has(parentId.toString())) {
              layoutEdges.push({
                id: `l-${parentId}-${personIdStr}`,
                source: parentId.toString(),
                target: personIdStr,
              });
            }
          });
        }

        person.parentIds.forEach((parentId) => {
          if (visibleNodeIds.has(parentId.toString())) {
            structuralEdgesForRender.push({
              id: `s-${parentId}-${person.id}`,
              source: parentId.toString(),
              target: person.id.toString(),
            });
          }
        });
      }
    });

    const nodesForLayout = [...personNodes, ...unionNodes];

    // --- KLUCZOWA POPRAWKA ---
    // Dodajemy do layoutu tylko te krawędzie małżeńskie,
    // dla których NIE stworzyliśmy węzła unii.
    const marriageEdgesForLayout = marriageEdgesForRender.filter((edge) => {
      const coupleKey = `${edge.source}-${edge.target}`;
      return !processedCouples.has(coupleKey);
    });

    const allEdgesForLayout = [...layoutEdges, ...marriageEdgesForLayout];
    // --- KONIEC POPRAWKI ---

    const { nodes: layoutedNodes } = getLayoutedElements(
      nodesForLayout,
      allEdgesForLayout
    );

    const edgesToRender: Edge[] = [];

    if (showDescendants) {
      structuralEdgesForRender.forEach((edge) => {
        edgesToRender.push({
          ...edge,
          id: `v-${edge.id}`,
          type: "smoothstep",
          markerEnd: {
            type: MarkerType.ArrowClosed,
            color: "red",
          },
          style: { stroke: "red", strokeWidth: 2 },
        });
      });
    }

    if (showMarriages) {
      marriageEdgesForRender.forEach((edge) => {
        edgesToRender.push({
          ...edge,
          id: `v-${edge.id}`,
          type: "straight",
          style: {
            stroke: "blue",
            strokeWidth: 2,
            strokeDasharray: "5,5",
          },
        });
      });
    }

    const finalNodes = layoutedNodes.filter(
      (node) => !node.id.startsWith("union-")
    );

    setNodes(finalNodes);
    setEdges(edgesToRender);
  }, [
    allPeople,
    showGierczak,
    showOfiara,
    showDescendants,
    showMarriages,
    setNodes,
    setEdges,
    onPersonClick,
  ]);

  return (
    <div className="w-full h-full bg-stone-50 dark:bg-stone-900">
      <ReactFlow
        nodes={nodes}
        edges={edges}
        onNodesChange={onNodesChange}
        onEdgesChange={onEdgesChange}
        nodeTypes={nodeTypes}
        fitView
        minZoom={0.1}
        style={{ zIndex: 10 }}
        className="react-flow-heritage"
      >
        <Background />
        <Controls />
        <MiniMap
          className="!bg-background border heritage-border"
          nodeStrokeWidth={3}
          nodeColor={(node) => {
            if (node.data?.family === "gierczak") {
              return "hsl(var(--heritage-burgundy))";
            }
            if (node.data?.family === "ofiara") {
              return "hsl(var(--heritage-teal))";
            }
            return "hsl(var(--muted))";
          }}
        />
      </ReactFlow>
    </div>
  );
}


-------------------------------

import React, { useLayoutEffect } from "react";
import ReactFlow, {
  Background,
  Controls,
  MiniMap,
  useNodesState,
  useEdgesState,
  MarkerType,
  Edge,
  Node,
  NodeTypes,
} from "reactflow";
import "reactflow/dist/style.css";
import PersonNode from "./PersonNode";
import { Person } from "@shared/schema";
import dagre from "dagre";

interface InteractiveTreeProps {
  allPeople: Person[];
  onPersonClick: (person: Person) => void;
  showGierczak: boolean;
  showOfiara: boolean;
  showDescendants: boolean;
  showMarriages: boolean;
}

const dagreGraph = new dagre.graphlib.Graph();
dagreGraph.setDefaultEdgeLabel(() => ({}));

const nodeWidth = 260;
const nodeHeight = 130;

const nodeTypes: NodeTypes = {
  person: PersonNode,
};

const getLayoutedElements = (nodes: any[], edges: any[]) => {
  dagreGraph.setGraph({ rankdir: "TB", nodesep: 30, ranksep: 90 });

  nodes.forEach((node) => {
    dagreGraph.setNode(node.id, {
      width: node.style?.width ?? nodeWidth,
      height: node.style?.height ?? nodeHeight,
    });
  });

  edges.forEach((edge) => {
    dagreGraph.setEdge(edge.source, edge.target);
  });

  dagre.layout(dagreGraph);

  nodes.forEach((node) => {
    const nodeWithPosition = dagreGraph.node(node.id);
    node.targetPosition = "top";
    node.sourcePosition = "bottom";
    node.position = {
      x: nodeWithPosition.x - (node.style?.width ?? nodeWidth) / 2,
      y: nodeWithPosition.y - (node.style?.height ?? nodeHeight) / 2,
    };
  });

  return { nodes };
};

export default function InteractiveTree({
  allPeople,
  onPersonClick,
  showGierczak,
  showOfiara,
  showDescendants,
  showMarriages,
}: InteractiveTreeProps) {
  const [nodes, setNodes, onNodesChange] = useNodesState([]);
  const [edges, setEdges, onEdgesChange] = useEdgesState([]);

  useLayoutEffect(() => {
    if (!allPeople || allPeople.length === 0) {
      setNodes([]);
      setEdges([]);
      return;
    }

    // --- KROK 1: Budujemy graf na podstawie WSZYSTKICH osób ---
    const allPersonNodes: Node[] = allPeople.map((person) => ({
      id: person.id.toString(),
      type: "person",
      data: {
        person,
        onClick: () => onPersonClick(person),
        family: person.family,
      },
      position: { x: 0, y: 0 },
    }));

    const unionNodes: Node[] = [];
    const layoutEdges: Edge[] = [];
    const processedCouples = new Set<string>();

    allPeople.forEach((person) => {
      const personIdStr = person.id.toString();

      if (person.parentIds && person.parentIds.length === 2) {
        const [p1, p2] = person.parentIds.sort((a, b) => a - b);
        const coupleKey = `${p1}-${p2}`;

        if (!processedCouples.has(coupleKey)) {
          const unionNodeId = `union-${coupleKey}`;
          unionNodes.push({
            id: unionNodeId,
            position: { x: 0, y: 0 },
            style: { width: 1, height: 1 },
            data: {},
          });
          layoutEdges.push({
            id: `l-${p1}-${unionNodeId}`,
            source: p1.toString(),
            target: unionNodeId,
          });
          layoutEdges.push({
            id: `l-${p2}-${unionNodeId}`,
            source: p2.toString(),
            target: unionNodeId,
          });
          processedCouples.add(coupleKey);
        }
        layoutEdges.push({
          id: `l-union-${coupleKey}-${personIdStr}`,
          source: `union-${coupleKey}`,
          target: personIdStr,
        });
      } else if (person.parentIds && person.parentIds.length === 1) {
        layoutEdges.push({
          id: `l-${person.parentIds[0]}-${personIdStr}`,
          source: person.parentIds[0].toString(),
          target: personIdStr,
        });
      }
    });

    // Dodajemy krawędzie małżeńskie dla par bezdzietnych, aby trzymały się razem
    allPeople.forEach((person) => {
      if (person.spouseIds) {
        person.spouseIds.forEach((spouseId) => {
          if (person.id < spouseId) {
            const coupleKey = `${person.id}-${spouseId}`;
            if (!processedCouples.has(coupleKey)) {
              layoutEdges.push({
                id: `l-m-${coupleKey}`,
                source: person.id.toString(),
                target: spouseId.toString(),
              });
            }
          }
        });
      }
    });

    const nodesForLayout = [...allPersonNodes, ...unionNodes];

    // --- KROK 2: Obliczamy pozycje dla kompletnego grafu ---
    const { nodes: layoutedNodes } = getLayoutedElements(
      nodesForLayout,
      layoutEdges
    );
    const nodeMap = new Map(layoutedNodes.map((node) => [node.id, node]));

    // --- KROK 3: Filtrujemy, co ma być widoczne dla użytkownika ---
    const visibleNodeIds = new Set(
      allPeople
        .filter(
          (p) =>
            (p.family === "gierczak" && showGierczak) ||
            (p.family === "ofiara" && showOfiara)
        )
        .map((p) => p.id.toString())
    );

    const finalNodes = Array.from(nodeMap.values()).filter((node) =>
      visibleNodeIds.has(node.id)
    );

    const edgesToRender: Edge[] = [];
    if (showDescendants) {
      allPeople.forEach((person) => {
        if (person.parentIds) {
          person.parentIds.forEach((parentId) => {
            if (
              visibleNodeIds.has(person.id.toString()) &&
              visibleNodeIds.has(parentId.toString())
            ) {
              edgesToRender.push({
                id: `s-${parentId}-${person.id}`,
                source: parentId.toString(),
                target: person.id.toString(),
                type: "smoothstep",
                markerEnd: { type: MarkerType.ArrowClosed, color: "red" },
                style: { stroke: "red", strokeWidth: 2 },
              });
            }
          });
        }
      });
    }

    if (showMarriages) {
      allPeople.forEach((person) => {
        if (person.spouseIds) {
          person.spouseIds.forEach((spouseId) => {
            if (
              person.id < spouseId &&
              visibleNodeIds.has(person.id.toString()) &&
              visibleNodeIds.has(spouseId.toString())
            ) {
              edgesToRender.push({
                id: `m-${person.id}-${spouseId}`,
                source: person.id.toString(),
                target: spouseId.toString(),
                type: "straight",
                style: {
                  stroke: "blue",
                  strokeWidth: 2,
                  strokeDasharray: "5,5",
                },
              });
            }
          });
        }
      });
    }

    setNodes(finalNodes);
    setEdges(edgesToRender);
  }, [
    allPeople,
    showGierczak,
    showOfiara,
    showDescendants,
    showMarriages,
    setNodes,
    setEdges,
    onPersonClick,
  ]);

  return (
    <div className="w-full h-full bg-stone-50 dark:bg-stone-900">
      <ReactFlow
        nodes={nodes}
        edges={edges}
        onNodesChange={onNodesChange}
        onEdgesChange={onEdgesChange}
        nodeTypes={nodeTypes}
        fitView
        minZoom={0.1}
        style={{ zIndex: 10 }}
        className="react-flow-heritage"
      >
        <Background />
        <Controls />
        <MiniMap
          className="!bg-background border heritage-border"
          nodeStrokeWidth={3}
          nodeColor={(node) => {
            if (node.data?.family === "gierczak")
              return "hsl(var(--heritage-burgundy))";
            if (node.data?.family === "ofiara")
              return "hsl(var(--heritage-teal))";
            return "hsl(var(--muted))";
          }}
        />
      </ReactFlow>
    </div>
  );
}


---------------------------dobry-------------------------

import React, { useLayoutEffect } from "react";
import ReactFlow, {
  Background,
  Controls,
  MiniMap,
  useNodesState,
  useEdgesState,
  MarkerType,
  Edge,
  Node,
  NodeTypes,
  Position,
} from "reactflow";
import "reactflow/dist/style.css";
import PersonNode from "./PersonNode";
import { Person } from "@shared/schema";
import dagre from "dagre";

interface InteractiveTreeProps {
  allPeople: Person[];
  onPersonClick: (person: Person) => void;
  showGierczak: boolean;
  showOfiara: boolean;
  showDescendants: boolean;
  showMarriages: boolean;
}

type LayoutEdge = Edge & {
  minlen?: number;
  weight?: number;
};

const dagreGraph = new dagre.graphlib.Graph();
dagreGraph.setDefaultEdgeLabel(() => ({}));

const nodeWidth = 260;
const nodeHeight = 130;

const nodeTypes: NodeTypes = {
  person: PersonNode,
};

const getLayoutedElements = (nodes: Node[], edges: LayoutEdge[]) => {
  dagreGraph.setGraph({ rankdir: "TB", nodesep: 25, ranksep: 90 });

  nodes.forEach((node) => {
    const width = node.id.startsWith("union-") ? 0 : nodeWidth;
    const height = node.id.startsWith("union-") ? 0 : nodeHeight;
    dagreGraph.setNode(node.id, { width, height });
  });

  edges.forEach((edge) => {
    dagreGraph.setEdge(edge.source, edge.target, {
      minlen: edge.minlen || 1,
      weight: edge.weight || 1,
    });
  });

  dagre.layout(dagreGraph);

  nodes.forEach((node) => {
    const nodeWithPosition = dagreGraph.node(node.id);
    if (nodeWithPosition) {
      node.targetPosition = Position.Top;
      node.sourcePosition = Position.Bottom;
      node.position = {
        x: nodeWithPosition.x - nodeWithPosition.width / 2,
        y: nodeWithPosition.y - nodeWithPosition.height / 2,
      };
    }
  });

  return { nodes };
};

export default function InteractiveTree({
  allPeople,
  onPersonClick,
  showGierczak,
  showOfiara,
  showDescendants,
  showMarriages,
}: InteractiveTreeProps) {
  const [nodes, setNodes, onNodesChange] = useNodesState([]);
  const [edges, setEdges, onEdgesChange] = useEdgesState([]);

  useLayoutEffect(() => {
    if (!allPeople || allPeople.length === 0) {
      setNodes([]);
      setEdges([]);
      return;
    }

    const allPersonNodes: Node[] = allPeople.map((person) => ({
      id: person.id.toString(),
      type: "person",
      data: {
        person,
        onClick: () => onPersonClick(person),
        family: person.family,
      },
      position: { x: 0, y: 0 },
    }));

    const unionNodes: Node[] = [];
    const layoutEdges: LayoutEdge[] = [];

    // --- OSTATECZNA LOGIKA UKŁADU ---
    allPeople.forEach((person) => {
      const personIdStr = person.id.toString();

      // 1. Połączenia z dziećmi przez węzły unii
      if (person.parentIds && person.parentIds.length === 2) {
        const [p1, p2] = person.parentIds.sort((a, b) => a - b);
        const coupleKey = `${p1}-${p2}`;
        const unionNodeId = `union-${coupleKey}`;

        if (!unionNodes.find((n) => n.id === unionNodeId)) {
          unionNodes.push({
            id: unionNodeId,
            position: { x: 0, y: 0 },
            data: {},
          });
          // Krawędzie od rodziców do unii
          layoutEdges.push({
            id: `l-${p1}-${unionNodeId}`,
            source: p1.toString(),
            target: unionNodeId,
            weight: 2,
          });
          layoutEdges.push({
            id: `l-${p2}-${unionNodeId}`,
            source: p2.toString(),
            target: unionNodeId,
            weight: 2,
          });
        }
        // Krawędź od unii do dziecka
        layoutEdges.push({
          id: `l-${unionNodeId}-${personIdStr}`,
          source: unionNodeId,
          target: personIdStr,
          weight: 2,
        });
      } else if (person.parentIds && person.parentIds.length === 1) {
        // Połączenie dla pojedynczego rodzica
        layoutEdges.push({
          id: `l-${person.parentIds[0]}-${personIdStr}`,
          source: person.parentIds[0].toString(),
          target: personIdStr,
          weight: 2,
        });
      }

      // 2. Niewidzialne krawędzie WYMUSZAJĄCE ten sam rząd dla małżonków
      if (person.spouseIds) {
        person.spouseIds.forEach((spouseId) => {
          if (person.id < spouseId) {
            layoutEdges.push({
              id: `rank-${person.id}-${spouseId}`,
              source: person.id.toString(),
              target: spouseId.toString(),
              minlen: 1, // Długość pozioma
              weight: 10, // Bardzo silny "magnes"
            });
          }
        });
      }
    });

    const gierczakProgenitorId = "1";
    const ofiaraProgenitorId = "57";
    layoutEdges.push({
      id: "stacking-edge",
      source: gierczakProgenitorId,
      target: ofiaraProgenitorId,
      minlen: 3,
      weight: 1,
    });

    const nodesForLayout = [...allPersonNodes, ...unionNodes];
    const { nodes: layoutedNodes } = getLayoutedElements(
      nodesForLayout,
      layoutEdges
    );
    const nodeMap = new Map(layoutedNodes.map((node) => [node.id, node]));

    // Logika filtrowania i renderowania (pozostaje bez zmian)
    const visibleNodeIds = new Set(
      allPeople
        .filter(
          (p) =>
            (p.family === "gierczak" && showGierczak) ||
            (p.family === "ofiara" && showOfiara)
        )
        .map((p) => p.id.toString())
    );

    const finalNodes = Array.from(nodeMap.values()).filter((node) =>
      visibleNodeIds.has(node.id)
    );

    const edgesToRender: Edge[] = [];
    if (showDescendants) {
      allPeople.forEach((person) => {
        if (person.parentIds) {
          person.parentIds.forEach((parentId) => {
            if (
              visibleNodeIds.has(person.id.toString()) &&
              visibleNodeIds.has(parentId.toString())
            ) {
              edgesToRender.push({
                id: `s-${parentId}-${person.id}`,
                source: parentId.toString(),
                target: person.id.toString(),
                type: "smoothstep",
                markerEnd: { type: MarkerType.ArrowClosed, color: "red" },
                style: { stroke: "red", strokeWidth: 2 },
              });
            }
          });
        }
      });
    }

    if (showMarriages) {
      allPeople.forEach((person) => {
        if (person.spouseIds) {
          person.spouseIds.forEach((spouseId) => {
            if (
              person.id < spouseId &&
              visibleNodeIds.has(person.id.toString()) &&
              visibleNodeIds.has(spouseId.toString())
            ) {
              edgesToRender.push({
                id: `m-${person.id}-${spouseId}`,
                source: person.id.toString(),
                target: spouseId.toString(),
                type: "straight",
                style: {
                  stroke: "blue",
                  strokeWidth: 2,
                  strokeDasharray: "5,5",
                },
              });
            }
          });
        }
      });
    }

    setNodes(finalNodes);
    setEdges(edgesToRender);
  }, [
    allPeople,
    showGierczak,
    showOfiara,
    showDescendants,
    showMarriages,
    setNodes,
    setEdges,
    onPersonClick,
  ]);

  return (
    <div className="w-full h-full bg-stone-50 dark:bg-stone-900">
      <ReactFlow
        nodes={nodes}
        edges={edges}
        onNodesChange={onNodesChange}
        onEdgesChange={onEdgesChange}
        nodeTypes={nodeTypes}
        fitView
        minZoom={0.1}
        style={{ zIndex: 10 }}
        className="react-flow-heritage"
      >
        <Background />
        <Controls />
        <MiniMap
          className="!bg-background border heritage-border"
          nodeStrokeWidth={3}
          nodeColor={(node) => {
            if (node.data?.family === "gierczak")
              return "hsl(var(--heritage-burgundy))";
            if (node.data?.family === "ofiara")
              return "hsl(var(--heritage-teal))";
            return "hsl(var(--muted))";
          }}
        />
      </ReactFlow>
    </div>
  );
}


-------------------------------------

import React, { useLayoutEffect } from "react";
import ReactFlow, {
  Background,
  Controls,
  MiniMap,
  useNodesState,
  useEdgesState,
  MarkerType,
  Edge,
  Node,
  NodeTypes,
  Position,
  BackgroundVariant,
} from "reactflow";
import "reactflow/dist/style.css";
import PersonNode from "./PersonNode";
import { Person } from "@shared/schema";
import dagre from "dagre";

interface InteractiveTreeProps {
  allPeople: Person[];
  onPersonClick: (person: Person) => void;
  showGierczak: boolean;
  showOfiara: boolean;
  showDescendants: boolean;
  showMarriages: boolean;
}

type LayoutEdge = Edge & {
  minlen?: number;
  weight?: number;
};

const dagreGraph = new dagre.graphlib.Graph();
dagreGraph.setDefaultEdgeLabel(() => ({}));

const nodeWidth = 260;
const nodeHeight = 130;

const nodeTypes: NodeTypes = {
  person: PersonNode,
};

const getLayoutedElements = (nodes: Node[], edges: LayoutEdge[]) => {
  // Konfiguracja dagre z lepszymi parametrami dla drzewa genealogicznego
  dagreGraph.setGraph({
    rankdir: "TB",
    nodesep: 40, // Zwiększona odległość między węzłami na tym samym poziomie
    ranksep: 120, // Zwiększona odległość między poziomami
    marginx: 20, // Marginesy
    marginy: 20,
    align: "UL", // Wyrównanie do lewej góry
  });

  nodes.forEach((node) => {
    const width = node.id.startsWith("union-") ? 0 : nodeWidth;
    const height = node.id.startsWith("union-") ? 0 : nodeHeight;
    dagreGraph.setNode(node.id, { width, height });
  });

  edges.forEach((edge) => {
    dagreGraph.setEdge(edge.source, edge.target, {
      minlen: edge.minlen || 1,
      weight: edge.weight || 1,
    });
  });

  dagre.layout(dagreGraph);

  nodes.forEach((node) => {
    const nodeWithPosition = dagreGraph.node(node.id);
    if (nodeWithPosition) {
      node.targetPosition = Position.Top;
      node.sourcePosition = Position.Bottom;
      node.position = {
        x: nodeWithPosition.x - nodeWithPosition.width / 2,
        y: nodeWithPosition.y - nodeWithPosition.height / 2,
      };
    }
  });

  return { nodes };
};

// Funkcja pomocnicza do znajdowania poziomu generacji
const getGenerationLevel = (person: Person, allPeople: Person[]): number => {
  const visited = new Set<number>();

  const findLevel = (personId: number, currentLevel: number): number => {
    if (visited.has(personId)) return currentLevel;
    visited.add(personId);

    const currentPerson = allPeople.find((p) => p.id === personId);
    if (
      !currentPerson ||
      !currentPerson.parentIds ||
      currentPerson.parentIds.length === 0
    ) {
      return currentLevel;
    }

    return Math.max(
      ...currentPerson.parentIds.map((parentId) =>
        findLevel(parentId, currentLevel + 1)
      )
    );
  };

  return findLevel(person.id, 0);
};

export default function InteractiveTree({
  allPeople,
  onPersonClick,
  showGierczak,
  showOfiara,
  showDescendants,
  showMarriages,
}: InteractiveTreeProps) {
  const [nodes, setNodes, onNodesChange] = useNodesState([]);
  const [edges, setEdges, onEdgesChange] = useEdgesState([]);

  useLayoutEffect(() => {
    if (!allPeople || allPeople.length === 0) {
      setNodes([]);
      setEdges([]);
      return;
    }

    // Filtrowanie osób do wyświetlenia
    const visiblePeople = allPeople.filter(
      (p) =>
        (p.family === "gierczak" && showGierczak) ||
        (p.family === "ofiara" && showOfiara)
    );

    if (visiblePeople.length === 0) {
      setNodes([]);
      setEdges([]);
      return;
    }

    // Tworzenie węzłów dla osób
    const allPersonNodes: Node[] = visiblePeople.map((person) => {
      const generationLevel = getGenerationLevel(person, allPeople);

      return {
        id: person.id.toString(),
        type: "person",
        data: {
          person,
          onClick: () => onPersonClick(person),
          family: person.family,
          generation: generationLevel,
        },
        position: { x: 0, y: 0 },
      };
    });

    const unionNodes: Node[] = [];
    const layoutEdges: LayoutEdge[] = [];

    // Tworzenie węzłów unii i krawędzi dla relacji rodzic-dziecko
    visiblePeople.forEach((person) => {
      const personIdStr = person.id.toString();

      // Połączenia rodzic-dziecko przez węzły unii
      if (person.parentIds && person.parentIds.length === 2) {
        const [p1, p2] = person.parentIds.sort((a, b) => a - b);

        // Sprawdź czy oboje rodzice są widoczni
        const parent1Visible = visiblePeople.some((p) => p.id === p1);
        const parent2Visible = visiblePeople.some((p) => p.id === p2);

        if (parent1Visible && parent2Visible) {
          const coupleKey = `${p1}-${p2}`;
          const unionNodeId = `union-${coupleKey}`;

          if (!unionNodes.find((n) => n.id === unionNodeId)) {
            unionNodes.push({
              id: unionNodeId,
              position: { x: 0, y: 0 },
              data: { isUnion: true },
            });

            // Krawędzie od rodziców do unii z umiarkowaną wagą
            layoutEdges.push({
              id: `union-${p1}-${unionNodeId}`,
              source: p1.toString(),
              target: unionNodeId,
              weight: 3,
              minlen: 1,
            });
            layoutEdges.push({
              id: `union-${p2}-${unionNodeId}`,
              source: p2.toString(),
              target: unionNodeId,
              weight: 3,
              minlen: 1,
            });
          }

          // Krawędź od unii do dziecka
          layoutEdges.push({
            id: `union-${unionNodeId}-${personIdStr}`,
            source: unionNodeId,
            target: personIdStr,
            weight: 5,
            minlen: 1,
          });
        }
      } else if (person.parentIds && person.parentIds.length === 1) {
        // Pojedynczy rodzic
        const parentVisible = visiblePeople.some(
          (p) => p.id === person.parentIds![0]
        );
        if (parentVisible) {
          layoutEdges.push({
            id: `parent-${person.parentIds[0]}-${personIdStr}`,
            source: person.parentIds[0].toString(),
            target: personIdStr,
            weight: 5,
            minlen: 1,
          });
        }
      }
    });

    // Krawędzie dla wymuszenia pozycji małżonków na tym samym poziomie
    visiblePeople.forEach((person) => {
      if (person.spouseIds && person.spouseIds.length > 0) {
        person.spouseIds.forEach((spouseId) => {
          const spouseVisible = visiblePeople.some((p) => p.id === spouseId);
          if (person.id < spouseId && spouseVisible) {
            layoutEdges.push({
              id: `spouse-rank-${person.id}-${spouseId}`,
              source: person.id.toString(),
              target: spouseId.toString(),
              minlen: 1,
              weight: 4, // Zmniejszona waga dla mniej agresywnego wymuszania
            });
          }
        });
      }
    });

    // Separacja rodzin - dodanie krawędzi organizacyjnych tylko jeśli obie rodziny są widoczne
    if (showGierczak && showOfiara) {
      const gierczakRoot = visiblePeople.find((p) => p.id === 1); // Tomasz Gierczak
      const ofiaraRoot = visiblePeople.find((p) => p.id === 57); // Andrzej Ofiara

      if (gierczakRoot && ofiaraRoot) {
        // Delikatna krawędź separująca dla lepszego układu
        layoutEdges.push({
          id: "family-separator",
          source: "1",
          target: "57",
          minlen: 8, // Większa minimalna odległość
          weight: 0.5, // Bardzo niska waga, żeby nie zakłócać układu
        });
      }
    }

    const nodesForLayout = [...allPersonNodes, ...unionNodes];
    const { nodes: layoutedNodes } = getLayoutedElements(
      nodesForLayout,
      layoutEdges
    );

    // Tworzenie mapy węzłów dla łatwiejszego dostępu
    const nodeMap = new Map(layoutedNodes.map((node) => [node.id, node]));
    const visibleNodeIds = new Set(visiblePeople.map((p) => p.id.toString()));

    // Filtrowanie węzłów do wyświetlenia (bez węzłów unii w finalnym widoku)
    const finalNodes = Array.from(nodeMap.values()).filter(
      (node) => visibleNodeIds.has(node.id) || node.data?.isUnion
    );

    // Tworzenie krawędzi do renderowania
    const edgesToRender: Edge[] = [];

    // Krawędzie potomstwa
    if (showDescendants) {
      visiblePeople.forEach((person) => {
        if (person.parentIds && person.parentIds.length > 0) {
          person.parentIds.forEach((parentId) => {
            const parentVisible = visiblePeople.some((p) => p.id === parentId);
            if (parentVisible) {
              edgesToRender.push({
                id: `descendant-${parentId}-${person.id}`,
                source: parentId.toString(),
                target: person.id.toString(),
                type: "smoothstep",
                markerEnd: { type: MarkerType.ArrowClosed, color: "#dc2626" },
                style: {
                  stroke: "#dc2626",
                  strokeWidth: 2,
                  strokeDasharray: "0", // Solidna linia dla lepszej czytelności
                },
                animated: false,
              });
            }
          });
        }
      });
    }

    // Krawędzie małżeńskie
    if (showMarriages) {
      visiblePeople.forEach((person) => {
        if (person.spouseIds && person.spouseIds.length > 0) {
          person.spouseIds.forEach((spouseId) => {
            const spouseVisible = visiblePeople.some((p) => p.id === spouseId);
            if (person.id < spouseId && spouseVisible) {
              edgesToRender.push({
                id: `marriage-${person.id}-${spouseId}`,
                source: person.id.toString(),
                target: spouseId.toString(),
                type: "straight",
                style: {
                  stroke: "#2563eb",
                  strokeWidth: 3,
                  strokeDasharray: "8,4", // Wyraźniejszy wzór przerywanej linii
                },
                animated: false,
              });
            }
          });
        }
      });
    }

    setNodes(finalNodes);
    setEdges(edgesToRender);
  }, [
    allPeople,
    showGierczak,
    showOfiara,
    showDescendants,
    showMarriages,
    setNodes,
    setEdges,
    onPersonClick,
  ]);

  return (
    <div className="w-full h-full bg-stone-50 dark:bg-stone-900">
      <ReactFlow
        nodes={nodes}
        edges={edges}
        onNodesChange={onNodesChange}
        onEdgesChange={onEdgesChange}
        nodeTypes={nodeTypes}
        fitView
        fitViewOptions={{
          padding: 0.1,
          minZoom: 0.1,
          maxZoom: 1.5,
        }}
        minZoom={0.05}
        maxZoom={2}
        style={{ zIndex: 10 }}
        className="react-flow-heritage"
        defaultViewport={{ x: 0, y: 0, zoom: 0.8 }}
      >
        <Background
          variant={BackgroundVariant.Dots}
          gap={20}
          size={1}
          style={{ opacity: 0.3 }}
        />
        <Controls
          position="top-left"
          showZoom={true}
          showFitView={true}
          showInteractive={true}
        />
        <MiniMap
          className="!bg-background border heritage-border"
          nodeStrokeWidth={3}
          nodeColor={(node) => {
            if (node.data?.family === "gierczak")
              return "hsl(var(--heritage-burgundy))";
            if (node.data?.family === "ofiara")
              return "hsl(var(--heritage-teal))";
            return "hsl(var(--muted))";
          }}
          position="bottom-right"
          style={{
            height: 120,
            width: 200,
          }}
        />
      </ReactFlow>
    </div>
  );
}


-------------------------------------

"use client"

import * as React from "react"
import * as DialogPrimitive from "@radix-ui/react-dialog"
import { X } from "lucide-react"

import { cn } from "@/lib/utils"

const Dialog = DialogPrimitive.Root

const DialogTrigger = DialogPrimitive.Trigger

const DialogPortal = DialogPrimitive.Portal

const DialogClose = DialogPrimitive.Close

const DialogOverlay = React.forwardRef<
  React.ElementRef<typeof DialogPrimitive.Overlay>,
  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>
>(({ className, ...props }, ref) => (
  <DialogPrimitive.Overlay
    ref={ref}
    className={cn(
      "fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",
      className
    )}
    {...props}
  />
))
DialogOverlay.displayName = DialogPrimitive.Overlay.displayName

const DialogContent = React.forwardRef<
  React.ElementRef<typeof DialogPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>
>(({ className, children, ...props }, ref) => (
  <DialogPortal>
    <DialogOverlay />
    <DialogPrimitive.Content
      ref={ref}
      className={cn(
        "fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",
        className
      )}
      {...props}
    >
      {children}
      <DialogPrimitive.Close className="absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground">
        <X className="h-4 w-4" />
        <span className="sr-only">Close</span>
      </DialogPrimitive.Close>
    </DialogPrimitive.Content>
  </DialogPortal>
))
DialogContent.displayName = DialogPrimitive.Content.displayName

const DialogHeader = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn(
      "flex flex-col space-y-1.5 text-center sm:text-left",
      className
    )}
    {...props}
  />
)
DialogHeader.displayName = "DialogHeader"

const DialogFooter = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn(
      "flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",
      className
    )}
    {...props}
  />
)
DialogFooter.displayName = "DialogFooter"

const DialogTitle = React.forwardRef<
  React.ElementRef<typeof DialogPrimitive.Title>,
  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>
>(({ className, ...props }, ref) => (
  <DialogPrimitive.Title
    ref={ref}
    className={cn(
      "text-lg font-semibold leading-none tracking-tight",
      className
    )}
    {...props}
  />
))
DialogTitle.displayName = DialogPrimitive.Title.displayName

const DialogDescription = React.forwardRef<
  React.ElementRef<typeof DialogPrimitive.Description>,
  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>
>(({ className, ...props }, ref) => (
  <DialogPrimitive.Description
    ref={ref}
    className={cn("text-sm text-muted-foreground", className)}
    {...props}
  />
))
DialogDescription.displayName = DialogPrimitive.Description.displayName

export {
  Dialog,
  DialogPortal,
  DialogOverlay,
  DialogClose,
  DialogTrigger,
  DialogContent,
  DialogHeader,
  DialogFooter,
  DialogTitle,
  DialogDescription,
}


---------------------

import { Dialog, DialogContent } from '@/components/ui/dialog';
import { Button } from '@/components/ui/button';
import { X } from 'lucide-react';

interface LightboxProps {
  isOpen: boolean;
  onClose: () => void;
  image: {
    src: string;
    alt: string;
  } | null;
}

export default function Lightbox({ isOpen, onClose, image }: LightboxProps) {
  if (!image) return null;

  return (
    <Dialog open={isOpen} onOpenChange={onClose}>
      <DialogContent className="max-w-4xl max-h-screen p-0 bg-black/90 border-none">
        <div className="relative flex items-center justify-center min-h-[50vh]">
          <img 
            src={image.src} 
            alt={image.alt}
            className="max-w-full max-h-[80vh] object-contain rounded-lg"
          />
          
          <Button
            variant="ghost"
            size="icon"
            className="absolute top-4 right-4 text-white hover:bg-white/20"
            onClick={onClose}
          >
            <X className="w-6 h-6" />
          </Button>
          
          {image.alt && (
            <div className="absolute bottom-4 left-4 right-4 text-white text-center bg-black/50 backdrop-blur-sm rounded-lg p-3">
              {image.alt}
            </div>
          )}
        </div>
      </DialogContent>
    </Dialog>
  );
}


-------------------------------

import { createContext, useContext, useState } from "react";
import { useLocation } from "wouter";

type Language = "pl" | "en";

type LanguageProviderProps = {
  children: React.ReactNode;
  defaultLanguage?: Language;
};

type LanguageProviderState = {
  language: Language;
  setLanguage: (language: Language) => void;
  t: (key: string, replacements?: Record<string, string | number>) => string;
  p: (key: string) => string;
};

const translations = {
  pl: {
    "nav.title": "Korzenie rodu Gierczak i Ofiara",
    "nav.title.mobile": "Genealogia",
    "nav.home": "Strona Główna",
    "nav.tree": "Drzewo Interaktywne",
    "nav.families": "Rody",
    "nav.index": "Indeks Osób",
    "nav.gallery": "Galeria",
    "nav.sources": "Źródła",

    "theme.light": "Jasny",
    "theme.dark": "Ciemny",
    "theme.system": "System",

    "family.gierczak": "Ród Gierczaków",
    "family.ofiara": "Ród Ofiarów",

    "home.title": "Historia Rodów",
    "home.description":
      "Odkryj fascynującą historię dwóch rodów z okolic Radomia. Prześledź losy pokoleń, poznaj ich historie i zobacz, jak przeplatały się ich życiowe ścieżki.",
    "home.cta.tree": "Zobacz Interaktywne Drzewo",
    "home.cta.history": "Poznaj Historię",
    "home.about.title": "Początki Rodów",
    "home.about.p1":
      "Historia rodzin Gierczak i Ofiara sięga głęboko w przeszłość okolic radomskich. Te dwa rody, związane z Jaszowicami i Ludwikowem, tworzą fascynującą opowieść o życiu na ziemiach polskich na przestrzeni wieków.",
    "home.about.p2":
      "Dzięki zachowanym metrykom, aktom kościelnym i przekazom rodzinnym, możemy prześledzić losy pokoleń, poznać ich zawody, miejsca zamieszkania i najważniejsze wydarzenia z ich życia.",
    "home.branches.title": "Gałęzie Rodzinne",
    "home.branches.subtitle": "Poznaj historię i pochodzenie każdego z rodów",
    "home.branches.gierczak.cta": "Poznaj Wszystkich Gierczaków",
    "home.branches.ofiara.cta": "Poznaj Wszystkich Ofiarów",
    "home.explore.title": "Rozpocznij Eksplorację",
    "home.explore.subtitle":
      "Wybierz jeden ze sposobów poznawania historii rodzin",
    "home.explore.tree.title": "Drzewo Genealogiczne",
    "home.explore.tree.desc":
      "Interaktywne drzewo z wszystkimi członkami rodzin",
    "home.explore.index.title": "Indeks Osób",
    "home.explore.index.desc": "Alfabetyczna lista wszystkich osób w bazie",
    "home.explore.gallery.title": "Galeria",
    "home.explore.gallery.desc":
      "Zdjęcia, dokumenty i miejsca związane z rodzinami",

    "tree.title": "Interaktywne Drzewo Genealogiczne",
    "tree.subtitle":
      "Eksploruj powiązania rodzinne. Kliknij na osobę, aby zobaczyć szczegóły",
    "tree.filter.all": "Wszystkie Rodziny",
    "tree.legend.descendants": "Potomkowie",
    "tree.legend.marriages": "Małżeństwa",

    "index.title": "Indeks Osób",
    "index.subtitle":
      "Alfabetyczny spis wszystkich osób w bazie genealogicznej",
    "index.searchPlaceholder": "Szukaj osoby...",
    "index.clear": "Wyczyść",
    "index.resultsFound": "Znaleziono {count} osób",
    "index.resultsForLetter": ' na literę "{letter}"',
    "index.resultsForSearch": ' pasujących do "{term}"',
    "index.noResults.title": "Nie znaleziono osób",
    "index.noResults.desc":
      "Spróbuj zmienić kryteria wyszukiwania lub wyczyść filtry.",
    "index.noResults.cta": "Wyczyść filtry",
    "index.showMore": "Pokaż więcej osób",

    "gallery.title": "Galeria Rodzinna",
    "gallery.subtitle":
      "Portrety, dokumenty i miejsca związane z historią rodzin.",
    "gallery.filter.all": "Wszystkie",
    "gallery.filter.portraits": "Portrety",
    "gallery.filter.documents": "Dokumenty",
    "gallery.filter.places": "Miejsca",
    "gallery.results": "{count} elementów",

    "sources.title": "Źródła i Bibliografia",
    "sources.subtitle":
      "Dokumentacja źródeł wykorzystanych w badaniach genealogicznych.",
    "sources.about.title": "O projekcie",
    "sources.about.p1":
      "Ten projekt genealogiczny powstał w wyniku wieloletnich badań nad historią rodów Gierczak i Ofiara z okolic Radomia. Zebrane informacje pochodzą z różnorodnych źródeł archiwalnych, kościelnych oraz przekazów rodzinnych.",
    "sources.about.p2":
      "Wszystkie dane zostały starannie zweryfikowane i skonfrontowane z dostępnymi dokumentami. Projekt jest kontynuowany - nowe informacje są regularnie dodawane do bazy danych.",
    "sources.archive.title": "Źródła archiwalne",
    "sources.contact.title": "Masz dodatkowe informacje?",
    "sources.contact.desc":
      "Jeśli posiadasz dokumenty, zdjęcia lub wspomnienia związane z rodzinami Gierczak i Ofiara, skontaktuj się z nami. Każda informacja jest cenna dla uzupełnienia historii rodzin.",
    "sources.section.stateArchives.title": "Archiwa państwowe",
    "sources.section.stateArchives.item1":
      "Archiwum Państwowe w Radomiu - księgi metrykalne parafii Cerekiew",
    "sources.section.stateArchives.item2":
      "Archiwum Diecezjalne w Sandomierzu - akta parafialne XVIII-XX w.",
    "sources.section.stateArchives.item3":
      "Urząd Stanu Cywilnego w Radomiu - akty stanu cywilnego",
    "sources.section.churchSources.title": "Źródła kościelne",
    "sources.section.churchSources.item1":
      "Księgi chrztów parafii pw. św. Stanisława w Cerekwi (1780-1950)",
    "sources.section.churchSources.item2":
      "Księgi ślubów parafii Cerekiew (1790-1940)",
    "sources.section.churchSources.item3":
      "Księgi zmarłych cmentarza parafialnego w Cerekwi",
    "sources.section.churchSources.item4":
      "Kronika parafialna - zapisy o mieszkańcach Jaszowic i Ludwikowa",
    "sources.section.familyAccounts.title": "Przekazy rodzinne",
    "sources.section.familyAccounts.item1":
      "Dokumenty osobiste zachowane w rodzinie",
    "sources.section.familyAccounts.item2":
      "Relacje ustne przekazywane przez pokolenia",
    "sources.section.familyAccounts.item3":
      "Fotografie rodzinne z XIX i XX wieku",
    "sources.section.familyAccounts.item4":
      "Korespondencja między członkami rodzin",
    "sources.section.literature.title": "Literatura i opracowania",
    "sources.section.literature.item1":
      'Jan Kowalski - "Historia wsi radomskich" (1985)',
    "sources.section.literature.item2":
      'Maria Nowak - "Genealogie rodzin ziemi radomskiej" (2001)',
    "sources.section.literature.item3":
      "Słownik geograficzny Królestwa Polskiego - hasła: Jaszowice, Ludwików",

    "familyBranch.history.title": "Historia rodu",
    "familyBranch.history.places": "Główne miejscowości",
    "familyBranch.history.membersInDb": "osób w bazie",
    "familyBranch.members.title": "Członkowie rodziny",
    "familyBranch.members.viewInTree": "Zobacz w drzewie",
    "familyBranch.members.noData.title": "Brak danych",
    "familyBranch.members.noData.desc":
      "Nie znaleziono osób z tej gałęzi rodziny w bazie danych.",
    "familyBranch.places.title": "Kluczowe miejsca",
    "familyBranch.notFound.title": "Nieznana rodzina",
    "familyBranch.notFound.desc": "Wybierz prawidłową gałąź rodzinną.",

    "person.born": "ur.",
    "person.died": "zm.",
    "person.maidenName": "z d.",
    "person.occupation": "Zawód",
    "person.biography": "Biografia",
    "person.family": "Rodzina",
    "person.parents": "Rodzice",
    "person.spouse": "Małżonek / Małżonka",
    "person.children": "Dzieci",

    "places.gierczak.main": "Główna miejscowość rodu Gierczaków",
    "places.ofiara.main": "Miejsce pochodzenia rodu Ofiarów",

    "footer.title": "Korzenie rodu",
    "footer.description":
      "Cyfrowe archiwum i interaktywne drzewo genealogiczne rodów Gierczak i Ofiara z okolic Radomia.",
    "footer.nav.title": "Nawigacja",
    "footer.nav.home": "Strona Główna",
    "footer.nav.tree": "Drzewo Interaktywne",
    "footer.nav.gierczak": "Ród Gierczaków",
    "footer.nav.ofiara": "Ród Ofiarów",
    "footer.nav.gallery": "Galeria",
    "footer.contact.title": "Kontakt",
    "footer.contact.email": "[kontakt@genealogia.pl]",
    "footer.contact.location": "Okolice Radomia",
    "footer.contact.projectInfo":
      "Projekt genealogiczny\nzachowujący pamięć o przodkach",
    "footer.copyright":
      "© {year} Korzenie rodu Gierczak i Ofiara. Wszystkie prawa zastrzeżone.",

    paths: {
      home: "/",
      tree: "/drzewo",
      index: "/indeks-osob",
      gallery: "/galeria",
      sources: "/zrodla",
      familyBase: "/rod",
    },
  },
  en: {
    "nav.title": "Roots of the Gierczak & Ofiara Family",
    "nav.title.mobile": "Genealogy",
    "nav.home": "Home",
    "nav.tree": "Interactive Tree",
    "nav.families": "Families",
    "nav.index": "Person Index",
    "nav.gallery": "Gallery",
    "nav.sources": "Sources",

    "theme.light": "Light",
    "theme.dark": "Dark",
    "theme.system": "System",

    "family.gierczak": "Gierczak Family",
    "family.ofiara": "Ofiara Family",

    "home.title": "History of the Families",
    "home.description":
      "Discover the fascinating history of two families from the Radom area. Trace the fate of generations, learn their stories and see how their life paths intertwined.",
    "home.cta.tree": "View Interactive Tree",
    "home.cta.history": "Learn the History",
    "home.about.title": "The Beginnings of the Families",
    "home.about.p1":
      "The history of the Gierczak and Ofiara families dates far back into the past of the Radom area. These two families, connected with Jaszowice and Ludwików, create a fascinating story of life on Polish lands over the centuries.",
    "home.about.p2":
      "Thanks to preserved metrics, church records, and family accounts, we can trace the destinies of generations, learn about their professions, places of residence, and the most important events of their lives.",
    "home.branches.title": "Family Branches",
    "home.branches.subtitle": "Learn the history and origin of each family",
    "home.branches.gierczak.cta": "Meet All the Gierczaks",
    "home.branches.ofiara.cta": "Meet All the Ofiaras",
    "home.explore.title": "Start Exploring",
    "home.explore.subtitle":
      "Choose one of the ways to learn the family history",
    "home.explore.tree.title": "Genealogical Tree",
    "home.explore.tree.desc": "Interactive tree with all family members",
    "home.explore.index.title": "Person Index",
    "home.explore.index.desc":
      "Alphabetical list of all people in the database",
    "home.explore.gallery.title": "Gallery",
    "home.explore.gallery.desc":
      "Photos, documents, and places related to the families",

    "tree.title": "Interactive Genealogical Tree",
    "tree.subtitle":
      "Explore family connections. Click on a person to see details",
    "tree.filter.all": "All Families",
    "tree.legend.descendants": "Descendants",
    "tree.legend.marriages": "Marriages",

    "index.title": "Person Index",
    "index.subtitle":
      "Alphabetical list of all people in the genealogical database",
    "index.searchPlaceholder": "Search for a person...",
    "index.clear": "Clear",
    "index.resultsFound": "Found {count} people",
    "index.resultsForLetter": ' for letter "{letter}"',
    "index.resultsForSearch": ' matching "{term}"',
    "index.noResults.title": "No People Found",
    "index.noResults.desc":
      "Try changing the search criteria or clearing the filters.",
    "index.noResults.cta": "Clear filters",
    "index.showMore": "Show more people",

    "gallery.title": "Family Gallery",
    "gallery.subtitle":
      "Portraits, documents, and places related to the family history.",
    "gallery.filter.all": "All",
    "gallery.filter.portraits": "Portraits",
    "gallery.filter.documents": "Documents",
    "gallery.filter.places": "Places",
    "gallery.results": "{count} items",

    "sources.title": "Sources and Bibliography",
    "sources.subtitle":
      "Documentation of sources used in genealogical research.",
    "sources.about.title": "About the project",
    "sources.about.p1":
      "This genealogical project is the result of many years of research into the history of the Gierczak and Ofiara families from the Radom area. The information gathered comes from a variety of archival, church, and family sources.",
    "sources.about.p2":
      "All data has been carefully verified and cross-referenced with available documents. The project is ongoing - new information is regularly added to the database.",
    "sources.archive.title": "Archival Sources",
    "sources.contact.title": "Do you have additional information?",
    "sources.contact.desc":
      "If you have documents, photos, or memories related to the Gierczak and Ofiara families, please contact us. Every piece of information is valuable for completing the family history.",
    "sources.section.stateArchives.title": "State Archives",
    "sources.section.stateArchives.item1":
      "State Archives in Radom - parish registers of the Cerekiew parish",
    "sources.section.stateArchives.item2":
      "Diocesan Archives in Sandomierz - parish records from the 18th-20th centuries",
    "sources.section.stateArchives.item3":
      "Civil Registry Office in Radom - civil status records",
    "sources.section.churchSources.title": "Church Sources",
    "sources.section.churchSources.item1":
      "Baptismal records of the St. Stanislaus parish in Cerekiew (1780-1950)",
    "sources.section.churchSources.item2":
      "Marriage records of the Cerekiew parish (1790-1940)",
    "sources.section.churchSources.item3":
      "Death records from the parish cemetery in Cerekiew",
    "sources.section.churchSources.item4":
      "Parish chronicle - records about the inhabitants of Jaszowice and Ludwików",
    "sources.section.familyAccounts.title": "Family Accounts",
    "sources.section.familyAccounts.item1":
      "Personal documents preserved in the family",
    "sources.section.familyAccounts.item2":
      "Oral accounts passed down through generations",
    "sources.section.familyAccounts.item3":
      "Family photographs from the 19th and 20th centuries",
    "sources.section.familyAccounts.item4":
      "Correspondence between family members",
    "sources.section.literature.title": "Literature and Studies",
    "sources.section.literature.item1":
      'Jan Kowalski - "History of the Radom Villages" (1985)',
    "sources.section.literature.item2":
      'Maria Nowak - "Genealogies of Families from the Radom Land" (2001)',
    "sources.section.literature.item3":
      "Geographical Dictionary of the Kingdom of Poland - entries: Jaszowice, Ludwików",

    "familyBranch.history.title": "History of the Family",
    "familyBranch.history.places": "Main Locations",
    "familyBranch.history.membersInDb": "people in database",
    "familyBranch.members.title": "Family Members",
    "familyBranch.members.viewInTree": "View in Tree",
    "familyBranch.members.noData.title": "No Data",
    "familyBranch.members.noData.desc":
      "No people from this family branch were found in the database.",
    "familyBranch.places.title": "Key Places",
    "familyBranch.notFound.title": "Unknown family",
    "familyBranch.notFound.desc": "Please select a valid family branch.",

    "person.born": "b.",
    "person.died": "d.",
    "person.maidenName": "née",
    "person.occupation": "Occupation",
    "person.biography": "Biography",
    "person.family": "Family",
    "person.parents": "Parents",
    "person.spouse": "Spouse",
    "person.children": "Children",

    "places.gierczak.main": "The main locality of the Gierczak family",
    "places.ofiara.main": "The place of origin of the Ofiara family",

    "footer.title": "Family Roots",
    "footer.description":
      "A digital archive and interactive genealogical tree of the Gierczak and Ofiara families from the Radom area.",
    "footer.nav.title": "Navigation",
    "footer.nav.home": "Home",
    "footer.nav.tree": "Interactive Tree",
    "footer.nav.gierczak": "Gierczak Family",
    "footer.nav.ofiara": "Ofiara Family",
    "footer.nav.gallery": "Gallery",
    "footer.contact.title": "Contact",
    "footer.contact.email": "[contact@genealogy.com]",
    "footer.contact.location": "Radom Area",
    "footer.contact.projectInfo":
      "A genealogical project\npreserving the memory of ancestors",
    "footer.copyright":
      "© {year} Roots of the Gierczak & Ofiara Family. All rights reserved.",

    paths: {
      home: "/",
      tree: "/tree",
      index: "/person-index",
      gallery: "/gallery",
      sources: "/sources",
      familyBase: "/family",
    },
  },
};

const initialState: LanguageProviderState = {
  language: "pl",
  setLanguage: () => null,
  t: () => "",
  p: () => "",
};

const LanguageProviderContext =
  createContext<LanguageProviderState>(initialState);

export function LanguageProvider({
  children,
  defaultLanguage = "pl",
  ...props
}: LanguageProviderProps) {
  const [language, setLanguage] = useState<Language>(
    () =>
      (localStorage.getItem("genealogy-language") as Language) ||
      defaultLanguage
  );

  const [location, setLocation] = useLocation();

  const t = (
    key: string,
    replacements?: Record<string, string | number>
  ): string => {
    let translation = (translations[language] as any)[key] || key;
    if (replacements) {
      Object.keys(replacements).forEach((rKey) => {
        translation = translation.replace(
          `{${rKey}}`,
          String(replacements[rKey])
        );
      });
    }
    return translation;
  };

  const p = (key: string): string => {
    return (translations[language].paths as any)[key] || "/";
  };

  const handleSetLanguage = (newLanguage: Language) => {
    if (language !== newLanguage) {
      localStorage.setItem("genealogy-language", newLanguage);
      setLanguage(newLanguage);

      const currentPathKey = Object.keys(translations[language].paths).find(
        (key) => (translations[language].paths as any)[key] === location
      );

      if (currentPathKey) {
        const newPath = (translations[newLanguage].paths as any)[
          currentPathKey
        ];
        setLocation(newPath || "/");
      } else {
        setLocation(translations[newLanguage].paths.home);
      }
    }
  };

  const value = {
    language,
    setLanguage: handleSetLanguage,
    t,
    p,
  };

  return (
    <LanguageProviderContext.Provider {...props} value={value}>
      {children}
    </LanguageProviderContext.Provider>
  );
}

export const useLanguage = () => {
  const context = useContext(LanguageProviderContext);
  if (context === undefined)
    throw new Error("useLanguage must be used within a LanguageProvider");
  return context;
};


-------------------------------

import { useState } from "react";
import { Button } from "@/components/ui/button";
import { Card, CardContent } from "@/components/ui/card";
import Lightbox from "@/components/ui/Lightbox";
import { Images, FileText, MapPin } from "lucide-react";
import SEO from "@/components/SEO";
import { useLanguage } from "@/hooks/useLanguage";

type GalleryCategory = "all" | "portraits" | "documents" | "places";

interface GalleryItem {
  id: string;
  src: string;
  alt: string;
  category: GalleryCategory;
  title: string;
  description?: string;
}

export default function GalleryView() {
  const { t } = useLanguage();
  const [selectedCategory, setSelectedCategory] =
    useState<GalleryCategory>("all");
  const [lightboxOpen, setLightboxOpen] = useState(false);
  const [lightboxImage, setLightboxImage] = useState<{
    src: string;
    alt: string;
  } | null>(null);

  const galleryItems: GalleryItem[] = [
    {
      id: "portrait-1",
      src: "/images/6.jpg",
      alt: "Portret rodzinny z początku XX wieku",
      category: "portraits",
      title: "Portret rodzinny",
      description: "Rodzina (Sobień?), około 1900 roku",
    },
    {
      id: "portrait-2",
      src: "/images/33.png",
      alt: "Zdjęcie mojej mamy z okresu powojennego",
      category: "portraits",
      title: "Zdjęcie portretowe",
      description: "Marianna Ofiara",
    },
    {
      id: "portrait-3",
      src: "/images/przodek.png",
      alt: "Portret starszego człowieka w tradycyjnym stroju",
      category: "portraits",
      title: "Portret przodka",
      description:
        "Jeden z najstarszych członków rodu z czasów pańszczyźnianych",
    },
    {
      id: "portrait-4",
      src: "/images/28.png",
      alt: "Portret rodzinny z początku XX wieku",
      category: "portraits",
      title: "Portret prababci i pradziadka (?)",
      description: "Członkowie rodziny Sobień (Drużdżel)",
    },
    {
      id: "doc-1",
      src: "/images/14.jpg",
      alt: "Akt ślubu Jana i Agnieszki",
      category: "documents",
      title: "Akt ślubu Jana i Agnieszki Gierczak 14.11.1917",
      description: "Księga parafialna w Zakrzowie (Zakrzewie)",
    },
    {
      id: "doc-2",
      src: "/images/11.jpg",
      alt: "Moja mama jako matka chrzestna Zofii Bilskiej",
      category: "portraits",
      title: "Gulinek, 1960",
      description: "I Komunia Św. Zofii Bilskiej",
    },
    {
      id: "doc-3",
      src: "/images/12.png",
      alt: "Stary dokument prawny z pieczęcią woskową",
      category: "documents",
      title: "Dokument prawny",
      description: "Zapis w Księdze Parafialnej w Zakrzowie (Zakrzewie)",
    },
    {
      id: "doc-4",
      src: "/images/1.png",
      alt: "Ręcznie napisane drzewo genealogiczne",
      category: "documents",
      title: "Drzewo genealogiczne",
      description: "Ręcznie sporządzone drzewo rodzinne",
    },
    {
      id: "place-1",
      src: "/images/31.png",
      alt: "I Komunia Św. mojego wujka Romana Ofiary",
      category: "portraits",
      title: "I Komunia Św. mojego wujka Romana Ofiary",
      description: "I Komunia Św. mojego wujka Romana Ofiary z babcią Heleną",
    },
    {
      id: "place-2",
      src: "/images/24.jpg",
      alt: "Historyczne zabudowania wsi Jaszowice",
      category: "places",
      title: "Wieś Jaszowice",
      description: "Główne miejsce zamieszkania rodu Gierczaków",
    },
    {
      id: "place-3",
      src: "/images/1.jfif",
      alt: "Stary cmentarz z nagrobkami rodzinnymi",
      category: "places",
      title: "Stary cmentarz",
      description:
        "Miejsce spoczynku przodków, prababci Ewy i pradziadka Karola",
    },
  ];

  const categories = [
    { id: "all" as const, name: t("gallery.filter.all"), icon: Images },
    {
      id: "portraits" as const,
      name: t("gallery.filter.portraits"),
      icon: Images,
    },
    {
      id: "documents" as const,
      name: t("gallery.filter.documents"),
      icon: FileText,
    },
    { id: "places" as const, name: t("gallery.filter.places"), icon: MapPin },
  ];

  const filteredItems =
    selectedCategory === "all"
      ? galleryItems
      : galleryItems.filter((item) => item.category === selectedCategory);

  const handleImageClick = (item: GalleryItem) => {
    setLightboxImage({
      src: item.src,
      alt: `${item.title} - ${item.description || item.alt}`,
    });
    setLightboxOpen(true);
  };

  return (
    <>
      <SEO title={t("gallery.title")} description={t("gallery.subtitle")} />

      <div className="min-h-screen bg-stone-50">
        <div className="bg-white shadow-sm border-b heritage-border">
          <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div className="text-center">
              <h1 className="font-serif text-3xl md:text-4xl font-semibold heritage-text mb-4">
                {t("gallery.title")}
              </h1>
              <p className="text-xl text-stone-600 max-w-3xl mx-auto">
                {t("gallery.subtitle")}
              </p>
            </div>
          </div>
        </div>

        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
          <div className="flex flex-wrap justify-center gap-4 mb-12">
            {categories.map((category) => {
              const IconComponent = category.icon;
              const isActive = selectedCategory === category.id;
              return (
                <Button
                  key={category.id}
                  variant={isActive ? "default" : "outline"}
                  className={`px-6 py-2 ${
                    isActive
                      ? "btn-heritage-burgundy"
                      : "heritage-border heritage-text hover:bg-stone-100"
                  }`}
                  onClick={() => setSelectedCategory(category.id)}
                >
                  <IconComponent className="w-4 h-4 mr-2" />
                  {category.name}
                </Button>
              );
            })}
          </div>

          <div className="text-center mb-8">
            <p className="text-stone-600">
              {categories.find((c) => c.id === selectedCategory)?.name} -{" "}
              <span className="font-semibold heritage-text">
                {t("gallery.results", { count: filteredItems.length })}
              </span>
            </p>
          </div>

          {filteredItems.length > 0 ? (
            <div className="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
              {filteredItems.map((item) => (
                <Card
                  key={item.id}
                  className="group cursor-pointer hover:shadow-lg transition-all overflow-hidden"
                  onClick={() => handleImageClick(item)}
                >
                  <div className="relative">
                    <img
                      src={item.src}
                      alt={item.alt}
                      className="w-full h-48 object-cover transition-transform group-hover:scale-105"
                    />
                    <div className="absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center">
                      <div className="text-white text-center">
                        <Images className="w-8 h-8 mx-auto mb-2" />
                        <p className="text-sm font-medium">
                          {t("gallery.zoom")}
                        </p>
                      </div>
                    </div>

                    <div className="absolute top-2 right-2">
                      <span
                        className={`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium text-white ${
                          item.category === "portraits"
                            ? "bg-blue-500"
                            : item.category === "documents"
                            ? "bg-green-500"
                            : item.category === "places"
                            ? "bg-orange-500"
                            : "bg-stone-500"
                        }`}
                      >
                        {categories.find((c) => c.id === item.category)?.name}
                      </span>
                    </div>
                  </div>

                  <CardContent className="p-3">
                    <h3 className="font-semibold heritage-text text-sm mb-1 truncate">
                      {item.title}
                    </h3>
                    {item.description && (
                      <p className="text-xs text-stone-600 line-clamp-2">
                        {item.description}
                      </p>
                    )}
                  </CardContent>
                </Card>
              ))}
            </div>
          ) : (
            <div className="text-center py-12">
              <Images className="w-16 h-16 text-stone-400 mx-auto mb-4" />
              <h3 className="text-lg font-semibold heritage-text mb-2">
                {t("gallery.noResults.title")}
              </h3>
              <p className="text-stone-600 mb-4">
                {t("gallery.noResults.desc")}
              </p>
              <Button
                variant="outline"
                onClick={() => setSelectedCategory("all")}
                className="heritage-border heritage-text hover:bg-stone-100"
              >
                {t("gallery.noResults.cta")}
              </Button>
            </div>
          )}
        </div>

        <Lightbox
          isOpen={lightboxOpen}
          onClose={() => setLightboxOpen(false)}
          image={lightboxImage}
        />
      </div>
    </>
  );
}


------------------------------

import { useState } from "react";
import {
  Dialog,
  DialogContent,
  DialogHeader,
  DialogTitle,
  DialogDescription,
} from "@/components/ui/dialog";
import { ScrollArea } from "@/components/ui/scroll-area";
import { Badge } from "@/components/ui/badge";
import {
  User,
  Calendar,
  MapPin,
  Briefcase,
  Users,
  FileText,
} from "lucide-react";
import { Person } from "@shared/schema";
import Lightbox from "./Lightbox";
import { useLanguage } from "@/hooks/useLanguage";

interface PersonModalProps {
  person: Person | null;
  isOpen: boolean;
  onClose: () => void;
  onPersonClick: (person: Person) => void;
  allPeople: Person[];
}

interface Document {
  id: number;
  title: string;
  type: string;
  imageUrl: string;
}

export default function PersonModal({
  person,
  isOpen,
  onClose,
  onPersonClick,
  allPeople,
}: PersonModalProps) {
  const [lightboxOpen, setLightboxOpen] = useState(false);
  const [lightboxImage, setLightboxImage] = useState<{
    src: string;
    alt: string;
  } | null>(null);
  const { t, language } = useLanguage();

  const documents: Document[] = [];

  if (!person) return null;

  // --- NOWA, UNIWERSALNA FUNKCJA DO OBSŁUGI ZLOKALIZOWANYCH TEKSTÓW ---
  const getDynamicText = (
    field: { pl: string; en: string } | string | null | undefined
  ) => {
    if (!field) return null;
    if (typeof field === "object" && field !== null && "pl" in field) {
      return field[language as keyof typeof field] || field.pl;
    }
    return field;
  };

  const occupationText = getDynamicText(person.occupation);
  const biographyText = getDynamicText(person.biography);
  // --- KONIEC ZMIAN W LOGICE ---

  const parents = person.parentIds
    ? allPeople.filter((p) => person.parentIds!.includes(p.id))
    : [];
  const spouses = person.spouseIds
    ? allPeople.filter((p) => person.spouseIds!.includes(p.id))
    : [];
  const children = person.childIds
    ? allPeople.filter((p) => person.childIds!.includes(p.id))
    : [];

  const familyName =
    person.family === "gierczak" ? t("family.gierczak") : t("family.ofiara");
  const familyColor =
    person.family === "gierczak" ? "heritage-burgundy" : "heritage-teal";

  const handleDocumentClick = (doc: Document) => {
    setLightboxImage({ src: doc.imageUrl, alt: doc.title });
    setLightboxOpen(true);
  };

  return (
    <>
      <Dialog open={isOpen} onOpenChange={onClose}>
        <DialogContent className="max-w-2xl max-h-[90vh]">
          <DialogHeader>
            <DialogTitle className="font-serif text-2xl heritage-text">
              {person.firstName} {person.lastName}
              {person.maidenName && (
                <span className="text-lg ml-2">
                  ({t("person.maidenName")} {person.maidenName})
                </span>
              )}
            </DialogTitle>
            <DialogDescription className={`${familyColor}`}>
              {familyName}
            </DialogDescription>
          </DialogHeader>

          <ScrollArea className="max-h-[70vh] pr-4">
            <div className="space-y-6">
              <div className="flex flex-col md:flex-row gap-6">
                <div className="md:w-1/3">
                  <div className="w-48 h-48 bg-stone-200 rounded-lg mx-auto flex items-center justify-center">
                    {person.photoUrl ? (
                      <img
                        src={person.photoUrl}
                        alt={`${person.firstName} ${person.lastName}`}
                        className="w-full h-full rounded-lg object-cover"
                      />
                    ) : (
                      <User className="w-16 h-16 text-stone-500" />
                    )}
                  </div>
                </div>

                <div className="md:w-2/3 space-y-4">
                  {(person.birthDate || person.deathDate) && (
                    <div className="flex items-center space-x-2">
                      <Calendar className="w-4 h-4 text-stone-600" />
                      <span className="heritage-text">
                        {person.birthDate || "?"}
                        {person.deathDate ? ` - ${person.deathDate}` : ""}
                      </span>
                    </div>
                  )}

                  {person.birthPlace && (
                    <div className="flex items-center space-x-2">
                      <MapPin className="w-4 h-4 text-stone-600" />
                      <span className="heritage-text">
                        {t("person.born")} {person.birthPlace}
                      </span>
                    </div>
                  )}

                  {person.deathPlace && (
                    <div className="flex items-center space-x-2">
                      <MapPin className="w-4 h-4 text-stone-600" />
                      <span className="heritage-text">
                        {t("person.died")} {person.deathPlace}
                      </span>
                    </div>
                  )}

                  {occupationText && (
                    <div className="flex items-center space-x-2">
                      <Briefcase className="w-4 h-4 text-stone-600" />
                      <span className="heritage-text">{occupationText}</span>
                    </div>
                  )}
                </div>
              </div>

              {/* ZMIANA TUTAJ: Używamy nowej zmiennej biographyText */}
              {biographyText && (
                <div>
                  <h4 className="font-semibold heritage-text mb-3 flex items-center">
                    <User className="w-4 h-4 mr-2" />
                    {t("person.biography")}
                  </h4>
                  <p className="text-stone-600 leading-relaxed whitespace-pre-wrap">
                    {biographyText}
                  </p>
                </div>
              )}

              <div>
                <h4 className="font-semibold heritage-text mb-3 flex items-center">
                  <Users className="w-4 h-4 mr-2" />
                  {t("person.family")}
                </h4>

                <div className="space-y-4">
                  {parents.length > 0 && (
                    <div>
                      <h5 className="font-medium heritage-text mb-2">
                        {t("person.parents")}:
                      </h5>
                      <div className="flex flex-wrap gap-2">
                        {parents.map((p) => (
                          <Badge
                            key={p.id}
                            variant="secondary"
                            className="cursor-pointer hover:bg-stone-200"
                            onClick={() => onPersonClick(p)}
                          >
                            {p.firstName} {p.lastName}
                          </Badge>
                        ))}
                      </div>
                    </div>
                  )}

                  {spouses.length > 0 && (
                    <div>
                      <h5 className="font-medium heritage-text mb-2">
                        {t("person.spouse")}:
                      </h5>
                      <div className="flex flex-wrap gap-2">
                        {spouses.map((p) => (
                          <Badge
                            key={p.id}
                            variant="secondary"
                            className="cursor-pointer hover:bg-stone-200"
                            onClick={() => onPersonClick(p)}
                          >
                            {p.firstName} {p.lastName}
                          </Badge>
                        ))}
                      </div>
                    </div>
                  )}

                  {children.length > 0 && (
                    <div>
                      <h5 className="font-medium heritage-text mb-2">
                        {t("person.children")}:
                      </h5>
                      <div className="flex flex-wrap gap-2">
                        {children.map((p) => (
                          <Badge
                            key={p.id}
                            variant="secondary"
                            className="cursor-pointer hover:bg-stone-200"
                            onClick={() => onPersonClick(p)}
                          >
                            {p.firstName} {p.lastName}
                          </Badge>
                        ))}
                      </div>
                    </div>
                  )}
                </div>
              </div>

              {documents && documents.length > 0 && (
                <div>
                  <h4 className="font-semibold heritage-text mb-3">
                    Dokumenty:
                  </h4>
                  <div className="grid grid-cols-2 md:grid-cols-3 gap-3">
                    {documents.map((doc: Document) => (
                      <div
                        key={doc.id}
                        className="bg-stone-100 rounded-lg p-3 text-center cursor-pointer hover:bg-stone-200 transition-colors"
                        onClick={() => handleDocumentClick(doc)}
                      >
                        <FileText className="w-8 h-8 heritage-text mx-auto mb-2" />
                        <p className="text-xs heritage-text font-medium">
                          {doc.title}
                        </p>
                      </div>
                    ))}
                  </div>
                </div>
              )}
            </div>
          </ScrollArea>
        </DialogContent>
      </Dialog>

      {lightboxOpen && (
        <Lightbox
          isOpen={lightboxOpen}
          onClose={() => setLightboxOpen(false)}
          image={lightboxImage}
        />
      )}
    </>
  );
}


-----------------------------------

import React from "react";
import { Handle, Position, NodeProps } from "reactflow";
import { User, Calendar } from "lucide-react";
import { Person } from "@shared/schema";
import { useLanguage } from "@/hooks/useLanguage";

type PersonNodeData = {
  person: Person;
  onClick: () => void;
  family: "gierczak" | "ofiara";
};

export default function PersonNode({ data }: NodeProps<PersonNodeData>) {
  const { language } = useLanguage();
  const { person, onClick, family } = data;
  const isGierczak = family === "gierczak";

  const borderColor = isGierczak
    ? "border-[hsl(var(--heritage-burgundy))]"
    : "border-[hsl(var(--heritage-teal))]";
  const accentColor = isGierczak
    ? "text-[hsl(var(--heritage-burgundy))]"
    : "text-[hsl(var(--heritage-teal))]";

  const getOccupationText = (p: Person) => {
    if (!p.occupation) return null;
    if (typeof p.occupation === "object") {
      return p.occupation[language] || p.occupation.pl;
    }
    return p.occupation;
  };

  const occupationText = getOccupationText(person);

  return (
    <div
      className={`person-node bg-white border-2 ${borderColor} rounded-lg p-4 shadow-md cursor-pointer hover:shadow-lg transition-all min-w-[220px]`}
      onClick={onClick}
    >
      <Handle
        type="target"
        position={Position.Top}
        className="w-2 h-2 bg-stone-400"
      />

      <div className="text-center">
        <div className="w-16 h-16 bg-stone-200 rounded-full mx-auto mb-3 flex items-center justify-center">
          {person.photoUrl ? (
            <img
              src={person.photoUrl}
              alt={`${person.firstName} ${person.lastName}`}
              className="w-full h-full rounded-full object-cover"
            />
          ) : (
            <User className="w-8 h-8 text-stone-500" />
          )}
        </div>

        <h4 className="font-semibold text-sm heritage-text mb-1">
          {person.firstName} {person.lastName}
        </h4>

        {(person.birthDate || person.deathDate) && (
          <p className="text-xs text-stone-600 flex items-center justify-center">
            <Calendar className="w-3 h-3 mr-1" />
            {person.birthDate}
            {person.deathDate ? ` - ${person.deathDate}` : ""}
          </p>
        )}

        {person.birthPlace && (
          <p className="text-xs text-stone-500 mt-1">{person.birthPlace}</p>
        )}

        {occupationText && (
          <p className={`text-xs ${accentColor} font-medium mt-1`}>
            {occupationText}
          </p>
        )}
      </div>

      <Handle
        type="source"
        position={Position.Bottom}
        className="w-2 h-2 bg-stone-400"
      />
    </div>
  );
}


-------------------------------

{
  "people": [
    {
      "id": 1,
      "firstName": "Tomasz",
      "lastName": "Gierczak",
      "photoUrl": "/images/tomasz.png",
      "family": "gierczak",
      "spouseIds": [2],
      "childIds": [3, 4, 5, 6, 7],
      "parentIds": [],
      "biography": {
        "pl": "Protoplasta rodu Gierczak. Ożenił się z Zofią Giel vel Gielowską. Mieli 5 dzieci. Mieszkali we wsi Jaszowice k. Radomia.",
        "en": "Progenitor of the Gierczak family. He married Zofia Giel vel Gielowska. They had 5 children. They lived in the village of Jaszowice near Radom."
      }
    },
    {
      "id": 2,
      "firstName": "Zofia",
      "lastName": "Gerczak vel Gierczak",
      "maidenName": "Giel vel Gielowska",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [1],
      "childIds": [3, 4, 5, 6, 7],
      "parentIds": [],
      "biography": {
        "pl": "Żona Tomasza Gerczaka vel Gierczaka. Brak dostępu do danych.",
        "en": "Wife of Tomasz Gerczak vel Gierczak. No data available."
      }
    },
    {
      "id": 3,
      "firstName": "Franciszek",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1816-11-24",
      "deathDate": null,
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [1, 2],
      "biography": {
        "pl": "Syn Tomasza i Zofii Gerczak vel Gierczak.",
        "en": "Son of Tomasz and Zofia Gerczak vel Gierczak."
      }
    },
    {
      "id": 4,
      "firstName": "Ambroży",
      "lastName": "Gerczak vel Gierczak",
      "photoUrl": "/images/ambrozy.png",
      "family": "gierczak",
      "spouseIds": [8],
      "childIds": [59, 60, 61, 62, 63, 13, 64, 65],
      "parentIds": [1, 2],
      "occupation": { "pl": "Gospodarz", "en": "Farmer" },
      "biography": {
        "pl": "3 x pradziadek. Urodził się pod koniec XVIII w. lub na początku XIX w. Ożenił się prawdopodobnie w 1820 z Kunegundą Kanią. Mieli 8 dzieci.",
        "en": "3rd great-grandfather. Born at the end of the 18th or beginning of the 19th century. He probably married Kunegunda Kania in 1820. They had 8 children."
      }
    },
    {
      "id": 5,
      "firstName": "Michał",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": null,
      "deathDate": "1854",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [1, 2],
      "biography": {
        "pl": "Syn Tomasza i Zofii Gerczak vel Gierczak.",
        "en": "Son of Tomasz and Zofia Gerczak vel Gierczak."
      }
    },
    {
      "id": 6,
      "firstName": "Andrzej",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": null,
      "deathDate": "1868",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [101],
      "childIds": [],
      "parentIds": [1, 2],
      "biography": {
        "pl": "Syn Tomasza i Zofii. Ożenił się w 1837 z Teresą Pączek (Górniak, Gurniak, Gorniak, Pączkowa), której rodzicami byli Jakub i Magdalena. Ślub odbył się w parafii Cerekiew.",
        "en": "Son of Tomasz and Zofia. He married Teresa Pączek (Górniak, Gurniak, Gorniak, Pączkowa) in 1837, whose parents were Jakub and Magdalena. The wedding took place in the Cerekiew parish."
      }
    },
    {
      "id": 7,
      "firstName": "Marianna",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": null,
      "deathDate": "1916",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [1, 2],
      "biography": {
        "pl": "Córka Tomasza i Zofii Gerczak vel Gierczak.",
        "en": "Daughter of Tomasz and Zofia Gerczak vel Gierczak."
      }
    },
    {
      "id": 8,
      "firstName": "Kunegunda",
      "lastName": "Remisiewska",
      "maidenName": "Kania vel Kanionka",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [4, 107],
      "childIds": [59, 60, 61, 62, 63, 13, 64, 65],
      "parentIds": [],
      "biography": {
        "pl": "Żona Ambrożego. Rodzicami Kunegundy byli Stanisław i Magdalena. Po śmierci Ambrożego wyszła za mąż w 1837 za Mikołaja Remisiewskiego.",
        "en": "Wife of Ambroży. Kunegunda's parents were Stanisław and Magdalena. After Ambroży's death, she married Mikołaj Remisiewski in 1837."
      }
    },
    {
      "id": 13,
      "firstName": "Karol",
      "lastName": "Gerczak vel Gierczak",
      "photoUrl": "/images/Karol.jpg",
      "family": "gierczak",
      "spouseIds": [18],
      "childIds": [19, 68, 69],
      "parentIds": [4, 8],
      "occupation": { "pl": "Gospodarz", "en": "Farmer" },
      "biography": {
        "pl": "Syn Ambrożego i Kunegundy. Żoną Karola została 23.11.1857 Tekla Kozyra. Zamieszkali w Gulinku. Mieli 3 dzieci.",
        "en": "Son of Ambroży and Kunegunda. Karol's wife became Tekla Kozyra on November 23, 1857. They settled in Gulinek. They had 3 children."
      }
    },
    {
      "id": 18,
      "firstName": "Tekla",
      "lastName": "Kozyra vel Kozera",
      "maidenName": "Adamczyk",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [13],
      "childIds": [19, 68, 69],
      "parentIds": [],
      "biography": {
        "pl": "Żona Karola Gerczaka. Rodzicami Tekli byli Adam i Józefa Kredowska.",
        "en": "Wife of Karol Gerczak. Tekla's parents were Adam and Józefa Kredowska."
      }
    },
    {
      "id": 19,
      "firstName": "Paweł",
      "lastName": "Gerczak vel Gierczak",
      "photoUrl": "/images/Pawel.jpg",
      "family": "gierczak",
      "spouseIds": [22],
      "childIds": [70, 71, 72, 26, 73, 74, 75, 76, 77, 78],
      "parentIds": [13, 18],
      "occupation": { "pl": "Gospodarz", "en": "Farmer" },
      "biography": {
        "pl": "Syn Karola i Tekli. Pojął za żonę w 1887 Katarzynę Czerwińską. Mieli 10 dzieci. Był dziadkiem Józefa ur. w 1930.",
        "en": "Son of Karol and Tekla. He married Katarzyna Czerwińska in 1887. They had 10 children. He was the grandfather of Józef, born in 1930."
      }
    },
    {
      "id": 22,
      "firstName": "Katarzyna",
      "lastName": "Gerczak vel Gierczak",
      "maidenName": "Czerwińska",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [19],
      "childIds": [70, 71, 72, 26, 73, 74, 75, 76, 77, 78],
      "parentIds": [],
      "biography": {
        "pl": "Żona Pawła. Rodzicami Katarzyny byli Mateusz i Marianna Kieraga.",
        "en": "Wife of Paweł. Katarzyna's parents were Mateusz and Marianna Kieraga."
      }
    },
    {
      "id": 26,
      "firstName": "Jan",
      "lastName": "Gierczak",
      "photoUrl": "/images/4.jpg",
      "family": "gierczak",
      "spouseIds": [32],
      "childIds": [79, 80, 81, 82, 83, 84, 39, 85],
      "parentIds": [19, 22],
      "occupation": { "pl": "Gospodarz", "en": "Farmer" },
      "biography": {
        "pl": "Syn Pawła i Katarzyny. Ojciec Józefa ur. 1930. Z Agnieszką Baćmagą ożenił się w 1917. Mieli ośmioro dzieci.",
        "en": "Son of Paweł and Katarzyna. Father of Józef, born in 1930. He married Agnieszka Baćmaga in 1917. They had eight children."
      }
    },
    {
      "id": 32,
      "firstName": "Agnieszka",
      "lastName": "Gierczak",
      "maidenName": "Baćmaga z d. Szewczyk",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [26],
      "childIds": [79, 80, 81, 82, 83, 84, 39, 85],
      "parentIds": [],
      "biography": {
        "pl": "Żona Jana, babcia autora. Urodziła się z rodziców Kazimierza i Antonimy Szewczyk. Mieli ośmioro dzieci.",
        "en": "Wife of Jan, the author's grandmother. She was born to Kazimierz and Antonina Szewczyk. They had eight children."
      }
    },
    {
      "id": 39,
      "firstName": "Józef",
      "lastName": "Gierczak",
      "photoUrl": "/images/51.png",
      "family": "gierczak",
      "spouseIds": [41],
      "childIds": [86, 87, 88],
      "parentIds": [26, 32],
      "occupation": { "pl": "Robotnik bezrolny", "en": "Landless worker" },
      "biography": {
        "pl": "Syn Jana i Agnieszki, ojciec autora. Z Marianną Ofiarą ożenił się w 1952. Mieli troje dzieci.",
        "en": "Son of Jan and Agnieszka, the author's father. He married Marianna Ofiara in 1952. They had three children."
      }
    },
    {
      "id": 41,
      "firstName": "Marianna",
      "lastName": "Gierczak",
      "maidenName": "Ofiara z d. Sobień",
      "photoUrl": "/images/43.png",
      "family": "ofiara",
      "spouseIds": [39],
      "childIds": [86, 87, 88],
      "parentIds": [45, 46],
      "biography": {
        "pl": "Żona Józefa Gierczaka, matka autora. Za Józefa Gierczaka wyszła w 1952. Córka Józefa Ofiary i jego drugiej żony, Heleny z d. Sobień.",
        "en": "Wife of Józef Gierczak, the author's mother. She married Józef Gierczak in 1952. Daughter of Józef Ofiara and his second wife, Helena née Sobień."
      }
    },
    {
      "id": 45,
      "firstName": "Józef",
      "lastName": "Ofiara",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [47, 46],
      "childIds": [92, 93, 94, 95, 96, 97, 98, 41, 99],
      "parentIds": [57, 58],
      "occupation": { "pl": "Gospodarz", "en": "Farmer" },
      "biography": {
        "pl": "Dziadek autora. Syn Andrzeja Ofiary i Franciszki Szaruch. W 1918 poślubił Rozalię Mitak (zm. 1925), z którą miał 3 synów. Po jej śmierci ożenił się w 1926 z Heleną Sobień, z którą miał 6 dzieci.",
        "en": "The author's grandfather. Son of Andrzej Ofiara and Franciszka Szaruch. In 1918, he married Rozalia Mitak (d. 1925), with whom he had 3 sons. After her death, he married Helena Sobień in 1926, with whom he had 6 children."
      }
    },
    {
      "id": 46,
      "firstName": "Helena",
      "lastName": "Ofiara",
      "maidenName": "Sobień",
      "photoUrl": "/images/8.png",
      "family": "ofiara",
      "spouseIds": [45],
      "childIds": [95, 96, 97, 98, 41, 99],
      "parentIds": [119, 120],
      "biography": {
        "pl": "Babcia autora, druga żona Józefa Ofiary. Z Józefem miała sześcioro dzieci. Miała liczne rodzeństwo rodzone i przyrodnie.",
        "en": "The author's grandmother, the second wife of Józef Ofiara. She had six children with Józef. She had numerous full and half-siblings."
      }
    },
    {
      "id": 47,
      "firstName": "Rozalia",
      "lastName": "Ofiara",
      "maidenName": "Mitak",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [45],
      "childIds": [92, 93, 94],
      "parentIds": [121, 120],
      "biography": {
        "pl": "Pierwsza żona Józefa Ofiary. Córka Michała Mitaka i Ewy Drużdżel. Zmarła w wieku 33 lat. Matka Stanisława, Piotra i Jana.",
        "en": "First wife of Józef Ofiara. Daughter of Michał Mitak and Ewa Drużdżel. She died at the age of 33. Mother of Stanisław, Piotr, and Jan."
      }
    },
    {
      "id": 57,
      "firstName": "Andrzej",
      "lastName": "Ofiara",
      "photoUrl": "/images/andrzej.png",
      "family": "ofiara",
      "spouseIds": [58],
      "childIds": [89, 90, 45, 91],
      "parentIds": [],
      "occupation": { "pl": "Gospodarz", "en": "Farmer" },
      "biography": {
        "pl": "Pradziadek autora. Ożenił się z Franciszką Szaruch (Saruch). Mieli 4 dzieci.",
        "en": "The author's great-grandfather. He married Franciszka Szaruch (Saruch). They had 4 children."
      }
    },
    {
      "id": 58,
      "firstName": "Franciszka",
      "lastName": "Ofiara",
      "maidenName": "Szaruch",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [57],
      "childIds": [89, 90, 45, 91],
      "parentIds": [],
      "biography": {
        "pl": "Żona Andrzeja Ofiary. Brak danych.",
        "en": "Wife of Andrzej Ofiara. No data available."
      }
    },
    {
      "id": 59,
      "firstName": "Józefa",
      "lastName": "Wieracha",
      "maidenName": "Gerczak vel Gierczak",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [102],
      "childIds": [],
      "parentIds": [4, 8],
      "biography": {
        "pl": "Córka Ambrożego i Kunegundy. W 1841 wyszła za mąż za Józefa Wierachę.",
        "en": "Daughter of Ambroży and Kunegunda. In 1841, she married Józef Wieracha."
      }
    },
    {
      "id": 60,
      "firstName": "Jadwiga",
      "lastName": "Kornafel",
      "maidenName": "Gerczak vel Gierczak",
      "birthDate": null,
      "deathDate": "1884",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [103],
      "childIds": [],
      "parentIds": [4, 8],
      "biography": {
        "pl": "Córka Ambrożego i Kunegundy. W 1842 poślubiła Franciszka Kornafela.",
        "en": "Daughter of Ambroży and Kunegunda. In 1842, she married Franciszek Kornafel."
      }
    },
    {
      "id": 61,
      "firstName": "Marianna",
      "lastName": "Stępień",
      "maidenName": "Gerczak vel Gierczak",
      "birthDate": "1833",
      "deathDate": null,
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [104],
      "childIds": [],
      "parentIds": [4, 8],
      "biography": {
        "pl": "Córka Ambrożego i Kunegundy. W 1852 wyszła za mąż za Antoniego Stępnia.",
        "en": "Daughter of Ambroży and Kunegunda. In 1852, she married Antoni Stępień."
      }
    },
    {
      "id": 62,
      "firstName": "Katarzyna",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": null,
      "deathDate": "1821",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [4, 8],
      "biography": {
        "pl": "Córka Ambrożego i Kunegundy.",
        "en": "Daughter of Ambroży and Kunegunda."
      }
    },
    {
      "id": 63,
      "firstName": "Kacper",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1826",
      "deathDate": "1903",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [105, 106],
      "childIds": [66, 67],
      "parentIds": [4, 8],
      "biography": {
        "pl": "Syn Ambrożego i Kunegundy. Pierwszą żoną była Marianna Moskwa, z którą miał dwoje dzieci. Po jej śmierci, w 1893 ożenił się z wdową Franciszką Mortką.",
        "en": "Son of Ambroży and Kunegunda. His first wife was Marianna Moskwa, with whom he had two children. After her death, in 1893, he married the widow Franciszka Mortka."
      }
    },
    {
      "id": 64,
      "firstName": "Ludwika",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1831",
      "deathDate": null,
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [4, 8],
      "biography": {
        "pl": "Córka Ambrożego i Kunegundy.",
        "en": "Daughter of Ambroży and Kunegunda."
      }
    },
    {
      "id": 65,
      "firstName": "Franciszka",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1835",
      "deathDate": null,
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [4, 8],
      "biography": {
        "pl": "Córka Ambrożego i Kunegundy.",
        "en": "Daughter of Ambroży and Kunegunda."
      }
    },
    {
      "id": 66,
      "firstName": "Marianna",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1857",
      "deathDate": "1860",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [63, 105],
      "biography": {
        "pl": "Córka Kacpra i jego pierwszej żony, Marianny Moskwy.",
        "en": "Daughter of Kacper and his first wife, Marianna Moskwa."
      }
    },
    {
      "id": 67,
      "firstName": "Jędrzej",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1859",
      "deathDate": null,
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [63, 105],
      "biography": {
        "pl": "Syn Kacpra i jego pierwszej żony, Marianny Moskwy.",
        "en": "Son of Kacper and his first wife, Marianna Moskwa."
      }
    },
    {
      "id": 68,
      "firstName": "Antonina",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1869",
      "deathDate": null,
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [13, 18],
      "biography": {
        "pl": "Córka Karola i Tekli.",
        "en": "Daughter of Karol and Tekla."
      }
    },
    {
      "id": 69,
      "firstName": "Józefa",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1872",
      "deathDate": "1880",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [13, 18],
      "biography": {
        "pl": "Córka Karola i Tekli.",
        "en": "Daughter of Karol and Tekla."
      }
    },
    {
      "id": 70,
      "firstName": "Józefa",
      "lastName": "Walczak",
      "maidenName": "Gerczak vel Gierczak",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [111],
      "childIds": [],
      "parentIds": [19, 22],
      "biography": {
        "pl": "Córka Pawła i Katarzyny. Wyszła za mąż w 1928 za wdowca Władysława Walczaka.",
        "en": "Daughter of Paweł and Katarzyna. She married the widower Władysław Walczak in 1928."
      }
    },
    {
      "id": 71,
      "firstName": "Adam",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1888",
      "deathDate": "1889-03-06",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [19, 22],
      "biography": {
        "pl": "Syn Pawła i Katarzyny. Zmarł jako 3-miesięczne dziecko.",
        "en": "Son of Paweł and Katarzyna. Died as a 3-month-old infant."
      }
    },
    {
      "id": 72,
      "firstName": "Józef",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1890",
      "deathDate": "1890",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [19, 22],
      "biography": {
        "pl": "Syn Pawła i Katarzyny. Zmarł po 6 tygodniach.",
        "en": "Son of Paweł and Katarzyna. Died after 6 weeks."
      }
    },
    {
      "id": 73,
      "firstName": "Stanisław",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1893",
      "deathDate": null,
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [108],
      "childIds": [],
      "parentIds": [19, 22],
      "biography": {
        "pl": "Syn Pawła i Katarzyny. Ożenił się w 1921 z Anielą Burakowską c. Andrzeja i Teofili w parafii Błotnica.",
        "en": "Son of Paweł and Katarzyna. He married Aniela Burakowska, daughter of Andrzej and Teofila, in the Błotnica parish in 1921."
      }
    },
    {
      "id": 74,
      "firstName": "Zofia",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1900",
      "deathDate": null,
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [19, 22],
      "biography": {
        "pl": "Córka Pawła i Katarzyny.",
        "en": "Daughter of Paweł and Katarzyna."
      }
    },
    {
      "id": 75,
      "firstName": "Antoni",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1903",
      "deathDate": null,
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [109],
      "childIds": [],
      "parentIds": [19, 22],
      "biography": {
        "pl": "Syn Pawła i Katarzyny. Wziął za żonę Honoratę Musiałek c. Franciszka i Józefy Banasiak. Ślub odbył się w 1931 w Zakrzewie.",
        "en": "Son of Paweł and Katarzyna. He married Honorata Musiałek, daughter of Franciszek and Józefa Banasiak. The wedding took place in Zakrzew in 1931."
      }
    },
    {
      "id": 76,
      "firstName": "Rozalia",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": null,
      "deathDate": "1906",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [19, 22],
      "biography": {
        "pl": "Córka Pawła i Katarzyny.",
        "en": "Daughter of Paweł and Katarzyna."
      }
    },
    {
      "id": 77,
      "firstName": "Franciszek",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1910",
      "deathDate": null,
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [110],
      "childIds": [],
      "parentIds": [19, 22],
      "biography": {
        "pl": "Syn Pawła i Katarzyny. Ożenił się w 1932 z Feliksą Szczygłowską c. Jana i Karoliny Kozłowskiej. Ślub odbył się w parafii Kowala-Stępocina.",
        "en": "Son of Paweł and Katarzyna. He married Feliksa Szczygłowska, daughter of Jan and Karolina Kozłowska, in 1932. The wedding took place in the Kowala-Stępocina parish."
      }
    },
    {
      "id": 78,
      "firstName": "Stanisława",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1911",
      "deathDate": "1911",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [19, 22],
      "biography": {
        "pl": "Córka Pawła i Katarzyny. Zmarła po 3 tygodniach.",
        "en": "Daughter of Paweł and Katarzyna. Died after 3 weeks."
      }
    },
    {
      "id": 79,
      "firstName": "Jan",
      "lastName": "Gierczak",
      "birthDate": "1918",
      "deathDate": "1918",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [26, 32],
      "biography": {
        "pl": "Syn Jana i Agnieszki. Żył 2 dni.",
        "en": "Son of Jan and Agnieszka. Lived for 2 days."
      }
    },
    {
      "id": 80,
      "firstName": "Marianna",
      "lastName": "Gierczak",
      "birthDate": "1918",
      "deathDate": "1918",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [26, 32],
      "biography": {
        "pl": "Córka Jana i Agnieszki. Żyła 2 tygodnie.",
        "en": "Daughter of Jan and Agnieszka. Lived for 2 weeks."
      }
    },
    {
      "id": 81,
      "firstName": "Janina",
      "lastName": "Gierczak",
      "birthDate": "1920",
      "deathDate": "1920",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [26, 32],
      "biography": {
        "pl": "Córka Jana i Agnieszki. Żyła 8 tygodni.",
        "en": "Daughter of Jan and Agnieszka. Lived for 8 weeks."
      }
    },
    {
      "id": 82,
      "firstName": "Stefan",
      "lastName": "Gierczak",
      "birthDate": "1921",
      "deathDate": "2017",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [26, 32],
      "biography": {
        "pl": "Syn Jana i Agnieszki.",
        "en": "Son of Jan and Agnieszka."
      }
    },
    {
      "id": 83,
      "firstName": "Władysław",
      "lastName": "Gierczak",
      "birthDate": "1923",
      "deathDate": "2004-12-02",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [26, 32],
      "biography": {
        "pl": "Syn Jana i Agnieszki.",
        "en": "Son of Jan and Agnieszka."
      }
    },
    {
      "id": 84,
      "firstName": "Tadeusz",
      "lastName": "Gierczak",
      "birthDate": "192x",
      "deathDate": "1974",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [26, 32],
      "biography": {
        "pl": "Syn Jana i Agnieszki.",
        "en": "Son of Jan and Agnieszka."
      }
    },
    {
      "id": 85,
      "firstName": "Zofia",
      "lastName": "Gierczak",
      "birthDate": "19xx",
      "deathDate": "2022",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [26, 32],
      "biography": {
        "pl": "Córka Jana i Agnieszki.",
        "en": "Daughter of Jan and Agnieszka."
      }
    },
    {
      "id": 86,
      "firstName": "Witold",
      "lastName": "Gierczak",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [39, 41],
      "biography": {
        "pl": "Syn Józefa i Marianny. Zmarł jako roczne dziecko.",
        "en": "Son of Józef and Marianna. Died as a one-year-old child."
      }
    },
    {
      "id": 87,
      "firstName": "Adam",
      "lastName": "Gierczak",
      "birthDate": "1956",
      "deathDate": null,
      "photoUrl": "/images/6.jpeg",
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [39, 41],
      "biography": {
        "pl": "Syn Józefa i Marianny.",
        "en": "Son of Józef and Marianna."
      }
    },
    {
      "id": 88,
      "firstName": "Maria",
      "lastName": "Gierczak",
      "birthDate": "1958",
      "deathDate": null,
      "photoUrl": "/images/7.jfif",
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [39, 41],
      "biography": {
        "pl": "Córka Józefa i Marianny, siostra autora.",
        "en": "Daughter of Józef and Marianna, the author's sister."
      }
    },
    {
      "id": 89,
      "firstName": "Ignacy",
      "lastName": "Ofiara",
      "birthDate": null,
      "deathDate": null,
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [112],
      "childIds": [],
      "parentIds": [57, 58],
      "biography": {
        "pl": "Syn Andrzeja i Franciszki. W 1908 ożenił się z wdową Katarzyną Sikorską (Jurczak) c. Andrzeja i Marianny Hudzik.",
        "en": "Son of Andrzej and Franciszka. In 1908, he married the widow Katarzyna Sikorska (Jurczak), daughter of Andrzej and Marianna Hudzik."
      }
    },
    {
      "id": 90,
      "firstName": "Antoni",
      "lastName": "Ofiara",
      "birthDate": null,
      "deathDate": null,
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [113],
      "childIds": [],
      "parentIds": [57, 58],
      "biography": {
        "pl": "Syn Andrzeja i Franciszki. Ożenił się w 1910 z wdową Rozalią Rojek (Drużdżel) c. Kazimierza i Małgorzaty Podkowiak.",
        "en": "Son of Andrzej and Franciszka. In 1910, he married the widow Rozalia Rojek (Drużdżel), daughter of Kazimierz and Małgorzata Podkowiak."
      }
    },
    {
      "id": 91,
      "firstName": "Katarzyna",
      "lastName": "Piwowarczyk",
      "maidenName": "Ofiara",
      "birthDate": null,
      "deathDate": "1944-11-09",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [57, 58],
      "biography": {
        "pl": "Córka Andrzeja i Franciszki.",
        "en": "Daughter of Andrzej and Franciszka."
      }
    },
    {
      "id": 92,
      "firstName": "Stanisław",
      "lastName": "Ofiara",
      "birthDate": "1919",
      "deathDate": null,
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [45, 47],
      "biography": {
        "pl": "Syn Józefa Ofiary i jego pierwszej żony, Rozalii z d. Mitak.",
        "en": "Son of Józef Ofiara and his first wife, Rozalia née Mitak."
      }
    },
    {
      "id": 93,
      "firstName": "Piotr",
      "lastName": "Ofiara",
      "birthDate": "1921",
      "deathDate": "2004-06-03",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [45, 47],
      "biography": {
        "pl": "Syn Józefa Ofiary i jego pierwszej żony, Rozalii z d. Mitak.",
        "en": "Son of Józef Ofiara and his first wife, Rozalia née Mitak."
      }
    },
    {
      "id": 94,
      "firstName": "Jan",
      "lastName": "Ofiara",
      "birthDate": "1925",
      "deathDate": "2001-04-30",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [45, 47],
      "biography": {
        "pl": "Syn Józefa Ofiary i jego pierwszej żony, Rozalii z d. Mitak.",
        "en": "Son of Józef Ofiara and his first wife, Rozalia née Mitak."
      }
    },
    {
      "id": 95,
      "firstName": "Józef",
      "lastName": "Ofiara",
      "birthDate": "1926-12",
      "deathDate": "1927-01-09",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [45, 46],
      "biography": {
        "pl": "Syn Józefa Ofiary i Heleny z d. Sobień. Zmarł jako 2-tygodniowe dziecko.",
        "en": "Son of Józef Ofiara and Helena née Sobień. Died as a 2-week-old infant."
      }
    },
    {
      "id": 96,
      "firstName": "Andrzej",
      "lastName": "Ofiara",
      "birthDate": "1927-12",
      "deathDate": "1928-01-07",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [45, 46],
      "biography": {
        "pl": "Syn Józefa Ofiary i Heleny z d. Sobień. Zmarł jako 2-tygodniowe dziecko.",
        "en": "Son of Józef Ofiara and Helena née Sobień. Died as a 2-week-old infant."
      }
    },
    {
      "id": 97,
      "firstName": "Genowefa",
      "lastName": "Ofiara",
      "birthDate": "1930-07",
      "deathDate": "1930-08-16",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [45, 46],
      "biography": {
        "pl": "Córka Józefa Ofiary i Heleny z d. Sobień. Zmarła jako 3-tygodniowe dziecko.",
        "en": "Daughter of Józef Ofiara and Helena née Sobień. Died as a 3-week-old infant."
      }
    },
    {
      "id": 98,
      "firstName": "Kazimiera",
      "lastName": "Ofiara",
      "birthDate": "1934",
      "deathDate": "1935-08-09",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [45, 46],
      "biography": {
        "pl": "Córka Józefa Ofiary i Heleny z d. Sobień. Zmarła jako półtoraroczne dziecko.",
        "en": "Daughter of Józef Ofiara and Helena née Sobień. Died as a one-and-a-half-year-old child."
      }
    },
    {
      "id": 99,
      "firstName": "Roman",
      "lastName": "Ofiara",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [45, 46],
      "biography": {
        "pl": "Syn Józefa Ofiary i Heleny z d. Sobień.",
        "en": "Son of Józef Ofiara and Helena née Sobień."
      }
    },
    {
      "id": 101,
      "firstName": "Teresa",
      "lastName": "Gerczak vel Gierczak",
      "maidenName": "Pączek",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [6],
      "childIds": [],
      "parentIds": [],
      "biography": {
        "pl": "Żona Andrzeja Gerczaka (syna Tomasza). Jej rodzicami byli Jakub i Magdalena.",
        "en": "Wife of Andrzej Gerczak (son of Tomasz). Her parents were Jakub and Magdalena."
      }
    },
    {
      "id": 102,
      "firstName": "Józef",
      "lastName": "Wieracha",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [59],
      "childIds": [],
      "parentIds": [],
      "biography": {
        "pl": "Mąż Józefy Gerczak (córki Ambrożego).",
        "en": "Husband of Józefa Gerczak (daughter of Ambroży)."
      }
    },
    {
      "id": 103,
      "firstName": "Franciszek",
      "lastName": "Kornafel",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [60],
      "childIds": [],
      "parentIds": [],
      "biography": {
        "pl": "Mąż Jadwigi Gerczak (córki Ambrożego).",
        "en": "Husband of Jadwiga Gerczak (daughter of Ambroży)."
      }
    },
    {
      "id": 104,
      "firstName": "Antoni",
      "lastName": "Stępień",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [61],
      "childIds": [],
      "parentIds": [],
      "biography": {
        "pl": "Mąż Marianny Gerczak (córki Ambrożego).",
        "en": "Husband of Marianna Gerczak (daughter of Ambroży)."
      }
    },
    {
      "id": 105,
      "firstName": "Marianna",
      "lastName": "Gerczak vel Gierczak",
      "maidenName": "Moskwa vel Moskwina",
      "deathDate": "przed 1893",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [63],
      "childIds": [66, 67],
      "parentIds": [],
      "biography": {
        "pl": "Pierwsza żona Kacpra Gerczaka. Matka Jędrzeja i Marianny.",
        "en": "First wife of Kacper Gerczak. Mother of Jędrzej and Marianna."
      }
    },
    {
      "id": 106,
      "firstName": "Franciszka",
      "lastName": "Gerczak vel Gierczak",
      "maidenName": "Mortka z d. Indrzejoska",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [63],
      "childIds": [],
      "parentIds": [],
      "biography": {
        "pl": "Druga żona Kacpra Gerczaka, którą poślubił jako wdowiec w 1893 roku.",
        "en": "Second wife of Kacper Gerczak, whom he married as a widower in 1893."
      }
    },
    {
      "id": 107,
      "firstName": "Mikołaj",
      "lastName": "Remisiewski",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [8],
      "childIds": [],
      "parentIds": [],
      "biography": {
        "pl": "Drugi mąż Kunegundy z d. Kania, wdowy po Ambrożym Gerczaku. Syn Łukasza i Moniki Łosiak.",
        "en": "Second husband of Kunegunda née Kania, widow of Ambroży Gerczak. Son of Łukasz and Monika Łosiak."
      }
    },
    {
      "id": 108,
      "firstName": "Aniela",
      "lastName": "Gerczak vel Gierczak",
      "maidenName": "Burakowska",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [73],
      "childIds": [],
      "parentIds": [],
      "biography": {
        "pl": "Żona Stanisława Gerczaka (syna Pawła). Córka Andrzeja i Teofili. Ślub w parafii Błotnica w 1921 r.",
        "en": "Wife of Stanisław Gerczak (son of Paweł). Daughter of Andrzej and Teofila. Wedding in the Błotnica parish in 1921."
      }
    },
    {
      "id": 109,
      "firstName": "Honorata",
      "lastName": "Gerczak vel Gierczak",
      "maidenName": "Musiałek",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [75],
      "childIds": [],
      "parentIds": [],
      "biography": {
        "pl": "Żona Antoniego Gerczaka (syna Pawła). Córka Franciszka i Józefy Banasiak. Ślub w Zakrzewie w 1931 r.",
        "en": "Wife of Antoni Gerczak (son of Paweł). Daughter of Franciszek and Józefa Banasiak. Wedding in Zakrzew in 1931."
      }
    },
    {
      "id": 110,
      "firstName": "Feliksa",
      "lastName": "Gerczak vel Gierczak",
      "maidenName": "Szczygłowska",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [77],
      "childIds": [],
      "parentIds": [],
      "biography": {
        "pl": "Żona Franciszka Gerczaka (syna Pawła). Córka Jana i Karoliny Kozłowskiej. Ślub w parafii Kowala-Stępocina w 1932 r.",
        "en": "Wife of Franciszek Gerczak (son of Paweł). Daughter of Jan and Karolina Kozłowska. Wedding in the Kowala-Stępocina parish in 1932."
      }
    },
    {
      "id": 111,
      "firstName": "Władysław",
      "lastName": "Walczak",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [70],
      "childIds": [],
      "parentIds": [],
      "biography": {
        "pl": "Mąż Józefy Gerczak (córki Pawła). Ślub w 1928 r.",
        "en": "Husband of Józefa Gerczak (daughter of Paweł). Wedding in 1928."
      }
    },
    {
      "id": 112,
      "firstName": "Katarzyna",
      "lastName": "Ofiara",
      "maidenName": "Sikorska (Jurczak)",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [89],
      "childIds": [],
      "parentIds": [],
      "biography": {
        "pl": "Żona Ignacego Ofiary. Córka Andrzeja i Marianny Hudzik. Ślub w Błotnicy w 1908 r.",
        "en": "Wife of Ignacy Ofiara. Daughter of Andrzej and Marianna Hudzik. Wedding in the Błotnica parish in 1908."
      }
    },
    {
      "id": 113,
      "firstName": "Rozalia",
      "lastName": "Ofiara",
      "maidenName": "Rojek (Drużdżel)",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [90],
      "childIds": [],
      "parentIds": [],
      "biography": {
        "pl": "Żona Antoniego Ofiary. Córka Kazimierza i Małgorzaty Podkowiak. Ślub w 1910 r.",
        "en": "Wife of Antoni Ofiara. Daughter of Kazimierz and Małgorzata Podkowiak. Wedding in 1910."
      }
    },
    {
      "id": 114,
      "firstName": "Franciszka",
      "lastName": "Sobień",
      "maidenName": "Sobień",
      "birthDate": "1895-07-15",
      "deathDate": null,
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [119, 120],
      "biography": {
        "pl": "Siostra Heleny Ofiary (z d. Sobień). Córka Karola i Ewy.",
        "en": "Sister of Helena Ofiara (née Sobień). Daughter of Karol and Ewa."
      }
    },
    {
      "id": 115,
      "firstName": "Anna",
      "lastName": "Kozyra",
      "maidenName": "Sobień",
      "birthDate": "1898",
      "deathDate": "1927",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [126],
      "childIds": [],
      "parentIds": [119, 120],
      "biography": {
        "pl": "Siostra Heleny Ofiary (z d. Sobień). Córka Karola i Ewy. W 1920 r. wyszła za mąż za Władysława Kozyrę.",
        "en": "Sister of Helena Ofiara (née Sobień). Daughter of Karol and Ewa. In 1920, she married Władysław Kozyra."
      }
    },
    {
      "id": 116,
      "firstName": "Zofia",
      "lastName": "Odzimek",
      "maidenName": "Sobień",
      "birthDate": "1903",
      "deathDate": null,
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [127],
      "childIds": [],
      "parentIds": [119, 120],
      "biography": {
        "pl": "Siostra Heleny Ofiary (z d. Sobień). Córka Karola i Ewy. W 1922 r. wyszła za mąż za Michała Odzimka.",
        "en": "Sister of Helena Ofiara (née Sobień). Daughter of Karol and Ewa. In 1922, she married Michał Odzimek."
      }
    },
    {
      "id": 117,
      "firstName": "Jan",
      "lastName": "Sobień",
      "birthDate": "1900-12-12",
      "deathDate": null,
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [128],
      "childIds": [],
      "parentIds": [119, 120],
      "biography": {
        "pl": "Brat Heleny Ofiary (z d. Sobień). Syn Karola i Ewy. W 1926 r. ożenił się ze Stanisławą Bocheńską.",
        "en": "Brother of Helena Ofiara (née Sobień). Son of Karol and Ewa. In 1926, he married Stanisława Bocheńska."
      }
    },
    {
      "id": 118,
      "firstName": "Józef",
      "lastName": "Sobień",
      "birthDate": "1908",
      "deathDate": null,
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [119, 120],
      "biography": {
        "pl": "Brat Heleny Ofiary (z d. Sobień). Syn Karola i Ewy.",
        "en": "Brother of Helena Ofiara (née Sobień). Son of Karol and Ewa."
      }
    },
    {
      "id": 121,
      "firstName": "Michał",
      "lastName": "Mitak",
      "deathDate": "przed 1895",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [120],
      "childIds": [122, 123, 47, 125],
      "parentIds": [],
      "biography": {
        "pl": "Pierwszy mąż Ewy Drużdżel. Ojciec Weroniki, Marianny, Rozalii i Jana.",
        "en": "First husband of Ewa Drużdżel. Father of Weronika, Marianna, Rozalia, and Jan."
      }
    },
    {
      "id": 122,
      "firstName": "Weronika",
      "lastName": "Mitak",
      "maidenName": "Mitak",
      "birthDate": "1886",
      "deathDate": "1998-12-27",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [121, 120],
      "biography": {
        "pl": "Córka Michała Mitaka i Ewy Drużdżel. Przyrodnia siostra Heleny Ofiary.",
        "en": "Daughter of Michał Mitak and Ewa Drużdżel. Half-sister of Helena Ofiara."
      }
    },
    {
      "id": 123,
      "firstName": "Marianna",
      "lastName": "Mitak",
      "maidenName": "Mitak",
      "birthDate": "1889",
      "deathDate": "1980-04-10",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [121, 120],
      "biography": {
        "pl": "Córka Michała Mitaka i Ewy Drużdżel. Przyrodnia siostra Heleny Ofiary.",
        "en": "Daughter of Michał Mitak and Ewa Drużdżel. Half-sister of Helena Ofiara."
      }
    },
    {
      "id": 125,
      "firstName": "Jan",
      "lastName": "Mitak",
      "birthDate": "1894",
      "deathDate": null,
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [121, 120],
      "biography": {
        "pl": "Syn Michała Mitaka i Ewy Drużdżel. Przyrodni brat Heleny Ofiary.",
        "en": "Son of Michał Mitak and Ewa Drużdżel. Half-brother of Helena Ofiara."
      }
    },
    {
      "id": 126,
      "firstName": "Władysław",
      "lastName": "Kozyra",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [115],
      "childIds": [],
      "parentIds": [],
      "biography": {
        "pl": "Mąż Anny Sobień. Syn Józefa i Weroniki Korczak.",
        "en": "Husband of Anna Sobień. Son of Józef and Weronika Korczak."
      }
    },
    {
      "id": 127,
      "firstName": "Michał",
      "lastName": "Odzimek",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [116],
      "childIds": [],
      "parentIds": [],
      "biography": {
        "pl": "Mąż Zofii Sobień. Syn Walentego i Zofii Kowalik.",
        "en": "Husband of Zofia Sobień. Son of Walenty and Zofia Kowalik."
      }
    },
    {
      "id": 128,
      "firstName": "Stanisława",
      "lastName": "Sobień",
      "maidenName": "Bocheńska",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [117],
      "childIds": [],
      "parentIds": [],
      "biography": {
        "pl": "Żona Jana Sobienia. Córka Walentego i Marianny Zarębskiej.",
        "en": "Wife of Jan Sobień. Daughter of Walenty and Marianna Zarębska."
      }
    }
  ],
  "documents": [],
  "places": []
}


----------------------

{
  "people": [
    {
      "id": 1,
      "firstName": "Tomasz",
      "lastName": "Gierczak",
      "photoUrl": "/images/tomasz.png",
      "family": "gierczak",
      "spouseIds": [2],
      "childIds": [3, 4, 5, 6, 7],
      "parentIds": [],
      "biography": {
        "pl": "Protoplasta rodu Gierczak. Ożenił się z Zofią Giel vel Gielowską. Mieli 5 dzieci. Mieszkali we wsi Jaszowice k. Radomia.",
        "en": "Progenitor of the Gierczak family. He married Zofia Giel vel Gielowska. They had 5 children. They lived in the village of Jaszowice near Radom."
      }
    },
    {
      "id": 2,
      "firstName": "Zofia",
      "lastName": "Gerczak vel Gierczak",
      "maidenName": "Giel vel Gielowska",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [1],
      "childIds": [3, 4, 5, 6, 7],
      "parentIds": [],
      "biography": {
        "pl": "Żona Tomasza Gerczaka vel Gierczaka. Brak dostępu do danych.",
        "en": "Wife of Tomasz Gerczak vel Gierczak. No data available."
      }
    },
    {
      "id": 3,
      "firstName": "Franciszek",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1816-11-24",
      "deathDate": null,
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [1, 2],
      "biography": {
        "pl": "Syn Tomasza i Zofii Gerczak vel Gierczak.",
        "en": "Son of Tomasz and Zofia Gerczak vel Gierczak."
      }
    },
    {
      "id": 4,
      "firstName": "Ambroży",
      "lastName": "Gerczak vel Gierczak",
      "photoUrl": "/images/ambrozy.png",
      "family": "gierczak",
      "spouseIds": [8],
      "childIds": [59, 60, 61, 62, 63, 13, 64, 65],
      "parentIds": [1, 2],
      "occupation": { "pl": "Gospodarz", "en": "Farmer" },
      "biography": {
        "pl": "3 x pradziadek. Urodził się pod koniec XVIII w. lub na początku XIX w. Ożenił się prawdopodobnie w 1820 z Kunegundą Kanią. Mieli 8 dzieci.",
        "en": "3rd great-grandfather. Born at the end of the 18th or beginning of the 19th century. He probably married Kunegunda Kania in 1820. They had 8 children."
      }
    },
    {
      "id": 5,
      "firstName": "Michał",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": null,
      "deathDate": "1854",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [1, 2],
      "biography": {
        "pl": "Syn Tomasza i Zofii Gerczak vel Gierczak.",
        "en": "Son of Tomasz and Zofia Gerczak vel Gierczak."
      }
    },
    {
      "id": 6,
      "firstName": "Andrzej",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": null,
      "deathDate": "1868",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [101],
      "childIds": [],
      "parentIds": [1, 2],
      "biography": {
        "pl": "Syn Tomasza i Zofii. Ożenił się w 1837 z Teresą Pączek (Górniak, Gurniak, Gorniak, Pączkowa), której rodzicami byli Jakub i Magdalena. Ślub odbył się w parafii Cerekiew.",
        "en": "Son of Tomasz and Zofia. He married Teresa Pączek (Górniak, Gurniak, Gorniak, Pączkowa) in 1837, whose parents were Jakub and Magdalena. The wedding took place in the Cerekiew parish."
      }
    },
    {
      "id": 7,
      "firstName": "Marianna",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": null,
      "deathDate": "1916",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [1, 2],
      "biography": {
        "pl": "Córka Tomasza i Zofii Gerczak vel Gierczak.",
        "en": "Daughter of Tomasz and Zofia Gerczak vel Gierczak."
      }
    },
    {
      "id": 8,
      "firstName": "Kunegunda",
      "lastName": "Remisiewska",
      "maidenName": "Kania vel Kanionka",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [4, 107],
      "childIds": [59, 60, 61, 62, 63, 13, 64, 65],
      "parentIds": [],
      "biography": {
        "pl": "Żona Ambrożego. Rodzicami Kunegundy byli Stanisław i Magdalena. Po śmierci Ambrożego wyszła za mąż w 1837 za Mikołaja Remisiewskiego.",
        "en": "Wife of Ambroży. Kunegunda's parents were Stanisław and Magdalena. After Ambroży's death, she married Mikołaj Remisiewski in 1837."
      }
    },
    {
      "id": 13,
      "firstName": "Karol",
      "lastName": "Gerczak vel Gierczak",
      "photoUrl": "/images/Karol.jpg",
      "family": "gierczak",
      "spouseIds": [18],
      "childIds": [19, 68, 69],
      "parentIds": [4, 8],
      "occupation": { "pl": "Gospodarz", "en": "Farmer" },
      "biography": {
        "pl": "Syn Ambrożego i Kunegundy. Żoną Karola została 23.11.1857 Tekla Kozyra. Zamieszkali w Gulinku. Mieli 3 dzieci.",
        "en": "Son of Ambroży and Kunegunda. Karol's wife became Tekla Kozyra on November 23, 1857. They settled in Gulinek. They had 3 children."
      }
    },
    {
      "id": 18,
      "firstName": "Tekla",
      "lastName": "Kozyra vel Kozera",
      "maidenName": "Adamczyk",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [13],
      "childIds": [19, 68, 69],
      "parentIds": [],
      "biography": {
        "pl": "Żona Karola Gerczaka. Rodzicami Tekli byli Adam i Józefa Kredowska.",
        "en": "Wife of Karol Gerczak. Tekla's parents were Adam and Józefa Kredowska."
      }
    },
    {
      "id": 19,
      "firstName": "Paweł",
      "lastName": "Gerczak vel Gierczak",
      "photoUrl": "/images/Pawel.jpg",
      "family": "gierczak",
      "spouseIds": [22],
      "childIds": [70, 71, 72, 26, 73, 74, 75, 76, 77, 78],
      "parentIds": [13, 18],
      "deathDate": "1935",
      "occupation": { "pl": "Gospodarz", "en": "Farmer" },
      "biography": {
        "pl": "Syn Karola i Tekli. Pojął za żonę w 1887 Katarzynę Czerwińską. Mieli 10 dzieci. Był dziadkiem Józefa ur. w 1930.",
        "en": "Son of Karol and Tekla. He married Katarzyna Czerwińska in 1887. They had 10 children. He was the grandfather of Józef, born in 1930."
      }
    },
    {
      "id": 22,
      "firstName": "Katarzyna",
      "lastName": "Gerczak vel Gierczak",
      "maidenName": "Czerwińska",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [19],
      "childIds": [70, 71, 72, 26, 73, 74, 75, 76, 77, 78],
      "parentIds": [],
      "biography": {
        "pl": "Żona Pawła. Rodzicami Katarzyny byli Mateusz i Marianna Kieraga.",
        "en": "Wife of Paweł. Katarzyna's parents were Mateusz and Marianna Kieraga."
      }
    },
    {
      "id": 26,
      "firstName": "Jan",
      "lastName": "Gierczak",
      "photoUrl": "/images/4.jpg",
      "family": "gierczak",
      "spouseIds": [32],
      "childIds": [79, 80, 81, 82, 83, 84, 39, 85],
      "parentIds": [19, 22],
      "occupation": { "pl": "Gospodarz", "en": "Farmer" },
      "biography": {
        "pl": "Syn Pawła i Katarzyny. Ojciec Józefa ur. 1930. Z Agnieszką Baćmagą ożenił się w 1917. Mieli ośmioro dzieci.",
        "en": "Son of Paweł and Katarzyna. Father of Józef, born in 1930. He married Agnieszka Baćmaga in 1917. They had eight children."
      }
    },
    {
      "id": 32,
      "firstName": "Agnieszka",
      "lastName": "Gierczak",
      "maidenName": "Baćmaga z d. Szewczyk",
      "birthDate": "1894-04-13",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [26],
      "childIds": [79, 80, 81, 82, 83, 84, 39, 85],
      "parentIds": [],
      "biography": {
        "pl": "Żona Jana, babcia autora. Urodziła się z rodziców Kazimierza i Antonimy Szewczyk. Mieli ośmioro dzieci.",
        "en": "Wife of Jan, the author's grandmother. She was born to Kazimierz and Antonina Szewczyk. They had eight children."
      }
    },
    {
      "id": 39,
      "firstName": "Józef",
      "lastName": "Gierczak",
      "photoUrl": "/images/51.png",
      "family": "gierczak",
      "spouseIds": [41],
      "childIds": [86, 87, 88],
      "parentIds": [26, 32],
      "occupation": { "pl": "Robotnik bezrolny", "en": "Landless worker" },
      "biography": {
        "pl": "Syn Jana i Agnieszki, ojciec autora. Z Marianną Ofiarą ożenił się w 1952. Mieli troje dzieci.",
        "en": "Son of Jan and Agnieszka, the author's father. He married Marianna Ofiara in 1952. They had three children."
      }
    },
    {
      "id": 41,
      "firstName": "Marianna",
      "lastName": "Gierczak",
      "maidenName": "Ofiara z d. Sobień",
      "photoUrl": "/images/43.png",
      "family": "ofiara",
      "spouseIds": [39],
      "childIds": [86, 87, 88],
      "parentIds": [45, 46],
      "biography": {
        "pl": "Żona Józefa Gierczaka, matka autora. Za Józefa Gierczaka wyszła w 1952. Córka Józefa Ofiary i jego drugiej żony, Heleny z d. Sobień.",
        "en": "Wife of Józef Gierczak, the author's mother. She married Józef Gierczak in 1952. Daughter of Józef Ofiara and his second wife, Helena née Sobień."
      }
    },
    {
      "id": 45,
      "firstName": "Józef",
      "lastName": "Ofiara",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [47, 46],
      "childIds": [92, 93, 94, 95, 96, 97, 98, 41, 99],
      "parentIds": [57, 58],
      "occupation": { "pl": "Gospodarz", "en": "Farmer" },
      "biography": {
        "pl": "Dziadek autora. Syn Andrzeja Ofiary i Franciszki Szaruch. W 1918 poślubił Rozalię Mitak (zm. 1925), z którą miał 3 synów. Po jej śmierci ożenił się w 1926 z Heleną Sobień, z którą miał 6 dzieci.",
        "en": "The author's grandfather. Son of Andrzej Ofiara and Franciszka Szaruch. In 1918, he married Rozalia Mitak (d. 1925), with whom he had 3 sons. After her death, he married Helena Sobień in 1926, with whom he had 6 children."
      }
    },
    {
      "id": 46,
      "firstName": "Helena",
      "lastName": "Ofiara",
      "maidenName": "Sobień",
      "photoUrl": "/images/8.png",
      "family": "ofiara",
      "spouseIds": [45],
      "childIds": [95, 96, 97, 98, 41, 99],
      "parentIds": [119, 120],
      "biography": {
        "pl": "Babcia autora, druga żona Józefa Ofiary. Z Józefem miała sześcioro dzieci. Miała liczne rodzeństwo rodzone i przyrodnie.",
        "en": "The author's grandmother, the second wife of Józef Ofiara. She had six children with Józef. She had numerous full and half-siblings."
      }
    },
    {
      "id": 47,
      "firstName": "Rozalia",
      "lastName": "Ofiara",
      "maidenName": "Mitak",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [45],
      "childIds": [92, 93, 94],
      "parentIds": [121, 120],
      "biography": {
        "pl": "Pierwsza żona Józefa Ofiary. Córka Michała Mitaka i Ewy Drużdżel. Zmarła w wieku 33 lat. Matka Stanisława, Piotra i Jana.",
        "en": "First wife of Józef Ofiara. Daughter of Michał Mitak and Ewa Drużdżel. She died at the age of 33. Mother of Stanisław, Piotr, and Jan."
      }
    },
    {
      "id": 57,
      "firstName": "Andrzej",
      "lastName": "Ofiara",
      "photoUrl": "/images/andrzej.png",
      "family": "ofiara",
      "spouseIds": [58],
      "childIds": [89, 90, 45, 91],
      "parentIds": [],
      "occupation": { "pl": "Gospodarz", "en": "Farmer" },
      "biography": {
        "pl": "Pradziadek autora. Ożenił się z Franciszką Szaruch (Saruch). Mieli 4 dzieci.",
        "en": "The author's great-grandfather. He married Franciszka Szaruch (Saruch). They had 4 children."
      }
    },
    {
      "id": 58,
      "firstName": "Franciszka",
      "lastName": "Ofiara",
      "maidenName": "Szaruch",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [57],
      "childIds": [89, 90, 45, 91],
      "parentIds": [],
      "biography": {
        "pl": "Żona Andrzeja Ofiary. Brak danych.",
        "en": "Wife of Andrzej Ofiara. No data available."
      }
    },
    {
      "id": 59,
      "firstName": "Józefa",
      "lastName": "Wieracha",
      "maidenName": "Gerczak vel Gierczak",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [102],
      "childIds": [],
      "parentIds": [4, 8],
      "biography": {
        "pl": "Córka Ambrożego i Kunegundy. W 1841 wyszła za mąż za Józefa Wierachę.",
        "en": "Daughter of Ambroży and Kunegunda. In 1841, she married Józef Wieracha."
      }
    },
    {
      "id": 60,
      "firstName": "Jadwiga",
      "lastName": "Kornafel",
      "maidenName": "Gerczak vel Gierczak",
      "birthDate": null,
      "deathDate": "1884",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [103],
      "childIds": [],
      "parentIds": [4, 8],
      "biography": {
        "pl": "Córka Ambrożego i Kunegundy. W 1842 poślubiła Franciszka Kornafela.",
        "en": "Daughter of Ambroży and Kunegunda. In 1842, she married Franciszek Kornafel."
      }
    },
    {
      "id": 61,
      "firstName": "Marianna",
      "lastName": "Stępień",
      "maidenName": "Gerczak vel Gierczak",
      "birthDate": "1833",
      "deathDate": null,
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [104],
      "childIds": [],
      "parentIds": [4, 8],
      "biography": {
        "pl": "Córka Ambrożego i Kunegundy. W 1852 wyszła za mąż za Antoniego Stępnia.",
        "en": "Daughter of Ambroży and Kunegunda. In 1852, she married Antoni Stępień."
      }
    },
    {
      "id": 62,
      "firstName": "Katarzyna",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": null,
      "deathDate": "1821",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [4, 8],
      "biography": {
        "pl": "Córka Ambrożego i Kunegundy.",
        "en": "Daughter of Ambroży and Kunegunda."
      }
    },
    {
      "id": 63,
      "firstName": "Kacper",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1826",
      "deathDate": "1903",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [105, 106],
      "childIds": [66, 67],
      "parentIds": [4, 8],
      "biography": {
        "pl": "Syn Ambrożego i Kunegundy. Pierwszą żoną była Marianna Moskwa, z którą miał dwoje dzieci. Po jej śmierci, w 1893 ożenił się z wdową Franciszką Mortką.",
        "en": "Son of Ambroży and Kunegunda. His first wife was Marianna Moskwa, with whom he had two children. After her death, in 1893, he married the widow Franciszka Mortka."
      }
    },
    {
      "id": 64,
      "firstName": "Ludwika",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1831",
      "deathDate": null,
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [4, 8],
      "biography": {
        "pl": "Córka Ambrożego i Kunegundy.",
        "en": "Daughter of Ambroży and Kunegunda."
      }
    },
    {
      "id": 65,
      "firstName": "Franciszka",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1835",
      "deathDate": null,
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [4, 8],
      "biography": {
        "pl": "Córka Ambrożego i Kunegundy.",
        "en": "Daughter of Ambroży and Kunegunda."
      }
    },
    {
      "id": 66,
      "firstName": "Marianna",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1857",
      "deathDate": "1860",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [63, 105],
      "biography": {
        "pl": "Córka Kacpra i jego pierwszej żony, Marianny Moskwy.",
        "en": "Daughter of Kacper and his first wife, Marianna Moskwa."
      }
    },
    {
      "id": 67,
      "firstName": "Jędrzej",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1859",
      "deathDate": null,
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [63, 105],
      "biography": {
        "pl": "Syn Kacpra i jego pierwszej żony, Marianny Moskwy.",
        "en": "Son of Kacper and his first wife, Marianna Moskwa."
      }
    },
    {
      "id": 68,
      "firstName": "Antonina",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1869",
      "deathDate": null,
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [13, 18],
      "biography": {
        "pl": "Córka Karola i Tekli.",
        "en": "Daughter of Karol and Tekla."
      }
    },
    {
      "id": 69,
      "firstName": "Józefa",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1872",
      "deathDate": "1880",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [13, 18],
      "biography": {
        "pl": "Córka Karola i Tekli.",
        "en": "Daughter of Karol and Tekla."
      }
    },
    {
      "id": 70,
      "firstName": "Józefa",
      "lastName": "Walczak",
      "maidenName": "Gerczak vel Gierczak",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [111],
      "childIds": [],
      "parentIds": [19, 22],
      "biography": {
        "pl": "Córka Pawła i Katarzyny. Wyszła za mąż w 1928 za wdowca Władysława Walczaka.",
        "en": "Daughter of Paweł and Katarzyna. She married the widower Władysław Walczak in 1928."
      }
    },
    {
      "id": 71,
      "firstName": "Adam",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1888-03-01",
      "deathDate": "1889-03-06",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [19, 22],
      "biography": {
        "pl": "Syn Pawła i Katarzyny. Zmarł jako roczne dziecko.",
        "en": "Son of Paweł and Katarzyna. Died as a one-year-old child."
      }
    },
    {
      "id": 72,
      "firstName": "Józef",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1890",
      "deathDate": "1890",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [19, 22],
      "biography": {
        "pl": "Syn Pawła i Katarzyny. Zmarł po 6 tygodniach.",
        "en": "Son of Paweł and Katarzyna. Died after 6 weeks."
      }
    },
    {
      "id": 73,
      "firstName": "Stanisław",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1893",
      "deathDate": null,
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [108],
      "childIds": [],
      "parentIds": [19, 22],
      "biography": {
        "pl": "Syn Pawła i Katarzyny. Ożenił się w 1921 z Anielą Burakowską c. Andrzeja i Teofili w parafii Błotnica.",
        "en": "Son of Paweł and Katarzyna. He married Aniela Burakowska, daughter of Andrzej and Teofila, in the Błotnica parish in 1921."
      }
    },
    {
      "id": 74,
      "firstName": "Zofia",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1900",
      "deathDate": null,
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [19, 22],
      "biography": {
        "pl": "Córka Pawła i Katarzyny.",
        "en": "Daughter of Paweł and Katarzyna."
      }
    },
    {
      "id": 75,
      "firstName": "Antoni",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1903",
      "deathDate": null,
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [109],
      "childIds": [],
      "parentIds": [19, 22],
      "biography": {
        "pl": "Syn Pawła i Katarzyny. Wziął za żonę Honoratę Musiałek c. Franciszka i Józefy Banasiak. Ślub odbył się w 1931 w Zakrzewie.",
        "en": "Son of Paweł and Katarzyna. He married Honorata Musiałek, daughter of Franciszek and Józefa Banasiak. The wedding took place in Zakrzew in 1931."
      }
    },
    {
      "id": 76,
      "firstName": "Rozalia",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": null,
      "deathDate": "1906",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [19, 22],
      "biography": {
        "pl": "Córka Pawła i Katarzyny.",
        "en": "Daughter of Paweł and Katarzyna."
      }
    },
    {
      "id": 77,
      "firstName": "Franciszek",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1910",
      "deathDate": null,
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [110],
      "childIds": [],
      "parentIds": [19, 22],
      "biography": {
        "pl": "Syn Pawła i Katarzyny. Ożenił się w 1932 z Feliksą Szczygłowską c. Jana i Karoliny Kozłowskiej. Ślub odbył się w parafii Kowala-Stępocina.",
        "en": "Son of Paweł and Katarzyna. He married Feliksa Szczygłowska, daughter of Jan and Karolina Kozłowska, in 1932. The wedding took place in the Kowala-Stępocina parish."
      }
    },
    {
      "id": 78,
      "firstName": "Stanisława",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1911",
      "deathDate": "1911",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [19, 22],
      "biography": {
        "pl": "Córka Pawła i Katarzyny. Zmarła po 3 tygodniach.",
        "en": "Daughter of Paweł and Katarzyna. Died after 3 weeks."
      }
    },
    {
      "id": 79,
      "firstName": "Jan",
      "lastName": "Gierczak",
      "birthDate": "1918",
      "deathDate": "1918",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [26, 32],
      "biography": {
        "pl": "Syn Jana i Agnieszki. Żył 2 dni.",
        "en": "Son of Jan and Agnieszka. Lived for 2 days."
      }
    },
    {
      "id": 80,
      "firstName": "Marianna",
      "lastName": "Gierczak",
      "birthDate": "1918",
      "deathDate": "1918",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [26, 32],
      "biography": {
        "pl": "Córka Jana i Agnieszki. Żyła 2 tygodnie.",
        "en": "Daughter of Jan and Agnieszka. Lived for 2 weeks."
      }
    },
    {
      "id": 81,
      "firstName": "Janina",
      "lastName": "Gierczak",
      "birthDate": "1920",
      "deathDate": "1920",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [26, 32],
      "biography": {
        "pl": "Córka Jana i Agnieszki. Żyła 8 tygodni.",
        "en": "Daughter of Jan and Agnieszka. Lived for 8 weeks."
      }
    },
    {
      "id": 82,
      "firstName": "Stefan",
      "lastName": "Gierczak",
      "birthDate": "1921",
      "deathDate": "2017",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [26, 32],
      "biography": {
        "pl": "Syn Jana i Agnieszki.",
        "en": "Son of Jan and Agnieszka."
      }
    },
    {
      "id": 83,
      "firstName": "Władysław",
      "lastName": "Gierczak",
      "birthDate": "1923",
      "deathDate": "2004-12-02",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [26, 32],
      "biography": {
        "pl": "Syn Jana i Agnieszki.",
        "en": "Son of Jan and Agnieszka."
      }
    },
    {
      "id": 84,
      "firstName": "Tadeusz",
      "lastName": "Gierczak",
      "birthDate": "1920s",
      "deathDate": "1974",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [26, 32],
      "biography": {
        "pl": "Syn Jana i Agnieszki.",
        "en": "Son of Jan and Agnieszka."
      }
    },
    {
      "id": 85,
      "firstName": "Zofia",
      "lastName": "Gierczak",
      "birthDate": "1900s",
      "deathDate": "2022",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [26, 32],
      "biography": {
        "pl": "Córka Jana i Agnieszki.",
        "en": "Daughter of Jan and Agnieszka."
      }
    },
    {
      "id": 86,
      "firstName": "Witold",
      "lastName": "Gierczak",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [39, 41],
      "biography": {
        "pl": "Syn Józefa i Marianny. Zmarł jako roczne dziecko.",
        "en": "Son of Józef and Marianna. Died as a one-year-old child."
      }
    }
  ],
  "documents": [],
  "places": []
}


----------------------------

{
  "people": [
    {
      "id": 1,
      "firstName": "Tomasz",
      "lastName": "Gierczak",
      "photoUrl": "/images/tomasz.png",
      "family": "gierczak",
      "spouseIds": [2],
      "childIds": [3, 4, 5, 6, 7],
      "parentIds": [],
      "biography": {
        "pl": "Protoplasta rodu Gierczak. Ożenił się z Zofią Giel vel Gielowską. Mieli 5 dzieci. Mieszkali we wsi Jaszowice k. Radomia.",
        "en": "Progenitor of the Gierczak family. He married Zofia Giel vel Gielowska. They had 5 children. They lived in the village of Jaszowice near Radom."
      }
    },
    {
      "id": 2,
      "firstName": "Zofia",
      "lastName": "Gerczak vel Gierczak",
      "maidenName": "Giel vel Gielowska",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [1],
      "childIds": [3, 4, 5, 6, 7],
      "parentIds": [],
      "biography": {
        "pl": "Żona Tomasza Gerczaka vel Gierczaka. Brak dostępu do danych.",
        "en": "Wife of Tomasz Gerczak vel Gierczak. No data available."
      }
    },
    {
      "id": 3,
      "firstName": "Franciszek",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1816-11-24",
      "deathDate": null,
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [1, 2],
      "biography": {
        "pl": "Syn Tomasza i Zofii Gerczak vel Gierczak.",
        "en": "Son of Tomasz and Zofia Gerczak vel Gierczak."
      }
    },
    {
      "id": 4,
      "firstName": "Ambroży",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "ok. 1800",
      "deathDate": "1836",
      "photoUrl": "/images/ambrozy.png",
      "family": "gierczak",
      "spouseIds": [8],
      "childIds": [59, 60, 61, 62, 63, 13, 64, 65],
      "parentIds": [1, 2],
      "occupation": { "pl": "Gospodarz", "en": "Farmer" },
      "biography": {
        "pl": "3 x pradziadek. Urodził się pod koniec XVIII w. lub na początku XIX w. Ożenił się prawdopodobnie w 1820 z Kunegundą Kanią. Mieli 8 dzieci.",
        "en": "3rd great-grandfather. Born at the end of the 18th or beginning of the 19th century. He probably married Kunegunda Kania in 1820. They had 8 children."
      }
    },
    {
      "id": 5,
      "firstName": "Michał",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": null,
      "deathDate": "1854",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [1, 2],
      "biography": {
        "pl": "Syn Tomasza i Zofii Gerczak vel Gierczak.",
        "en": "Son of Tomasz and Zofia Gerczak vel Gierczak."
      }
    },
    {
      "id": 6,
      "firstName": "Andrzej",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": null,
      "deathDate": "1868",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [101],
      "childIds": [],
      "parentIds": [1, 2],
      "biography": {
        "pl": "Syn Tomasza i Zofii. Ożenił się w 1837 z Teresą Pączek, której rodzicami byli Jakub i Magdalena. Ślub odbył się w parafii Cerekiew.",
        "en": "Son of Tomasz and Zofia. He married Teresa Pączek in 1837, whose parents were Jakub and Magdalena. The wedding took place in the Cerekiew parish."
      }
    },
    {
      "id": 7,
      "firstName": "Marianna",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": null,
      "deathDate": "1916",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [1, 2],
      "biography": {
        "pl": "Córka Tomasza i Zofii Gerczak vel Gierczak.",
        "en": "Daughter of Tomasz and Zofia Gerczak vel Gierczak."
      }
    },
    {
      "id": 8,
      "firstName": "Kunegunda",
      "lastName": "Remisiewska",
      "maidenName": "Kania vel Kanionka",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [4, 107],
      "childIds": [59, 60, 61, 62, 63, 13, 64, 65],
      "parentIds": [],
      "biography": {
        "pl": "Żona Ambrożego. Rodzicami Kunegundy byli Stanisław i Magdalena. Po śmierci Ambrożego wyszła za mąż w 1837 za Mikołaja Remisiewskiego.",
        "en": "Wife of Ambroży. Kunegunda's parents were Stanisław and Magdalena. After Ambroży's death, she married Mikołaj Remisiewski in 1837."
      }
    },
    {
      "id": 13,
      "firstName": "Karol",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1828",
      "deathDate": "1903",
      "photoUrl": "/images/Karol.jpg",
      "family": "gierczak",
      "spouseIds": [18],
      "childIds": [19, 68, 69],
      "parentIds": [4, 8],
      "occupation": { "pl": "Gospodarz", "en": "Farmer" },
      "biography": {
        "pl": "Syn Ambrożego i Kunegundy. Żoną Karola została 23.11.1857 Tekla Kozyra. Zamieszkali w Gulinku. Mieli 3 dzieci.",
        "en": "Son of Ambroży and Kunegunda. Karol's wife became Tekla Kozyra on November 23, 1857. They settled in Gulinek. They had 3 children."
      }
    },
    {
      "id": 18,
      "firstName": "Tekla",
      "lastName": "Kozyra vel Kozera",
      "maidenName": "Adamczyk",
      "birthDate": "1831",
      "deathDate": "1909",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [13],
      "childIds": [19, 68, 69],
      "parentIds": [],
      "biography": {
        "pl": "Żona Karola Gerczaka. Rodzicami Tekli byli Adam i Józefa Kredowska.",
        "en": "Wife of Karol Gerczak. Tekla's parents were Adam and Józefa Kredowska."
      }
    },
    {
      "id": 19,
      "firstName": "Paweł",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1867",
      "deathDate": "1935",
      "photoUrl": "/images/Pawel.jpg",
      "family": "gierczak",
      "spouseIds": [22],
      "childIds": [70, 71, 72, 26, 73, 74, 75, 76, 77, 78],
      "parentIds": [13, 18],
      "occupation": { "pl": "Gospodarz", "en": "Farmer" },
      "biography": {
        "pl": "Syn Karola i Tekli. Pojął za żonę w 1887 Katarzynę Czerwińską. Mieli 10 dzieci. Był dziadkiem Józefa ur. w 1930.",
        "en": "Son of Karol and Tekla. He married Katarzyna Czerwińska in 1887. They had 10 children. He was the grandfather of Józef, born in 1930."
      }
    },
    {
      "id": 22,
      "firstName": "Katarzyna",
      "lastName": "Gerczak vel Gierczak",
      "maidenName": "Czerwińska",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [19],
      "childIds": [70, 71, 72, 26, 73, 74, 75, 76, 77, 78],
      "parentIds": [],
      "biography": {
        "pl": "Żona Pawła. Rodzicami Katarzyny byli Mateusz i Marianna Kieraga.",
        "en": "Wife of Paweł. Katarzyna's parents were Mateusz and Marianna Kieraga."
      }
    },
    {
      "id": 26,
      "firstName": "Jan",
      "lastName": "Gierczak",
      "birthDate": "1891",
      "deathDate": null,
      "photoUrl": "/images/4.jpg",
      "family": "gierczak",
      "spouseIds": [32],
      "childIds": [79, 80, 81, 82, 83, 84, 39, 85],
      "parentIds": [19, 22],
      "occupation": { "pl": "Gospodarz", "en": "Farmer" },
      "biography": {
        "pl": "Syn Pawła i Katarzyny. Ojciec Józefa ur. 1930. Z Agnieszką Baćmagą ożenił się w 1917. Mieli ośmioro dzieci.",
        "en": "Son of Paweł and Katarzyna. Father of Józef, born in 1930. He married Agnieszka Baćmaga in 1917. They had eight children."
      }
    },
    {
      "id": 32,
      "firstName": "Agnieszka",
      "lastName": "Gierczak",
      "maidenName": "Baćmaga z d. Szewczyk",
      "birthDate": "1894-04-13",
      "deathDate": null,
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [26],
      "childIds": [79, 80, 81, 82, 83, 84, 39, 85],
      "parentIds": [],
      "biography": {
        "pl": "Żona Jana, babcia autora. Urodziła się z rodziców Kazimierza i Antonimy Szewczyk. Mieli ośmioro dzieci.",
        "en": "Wife of Jan, the author's grandmother. She was born to Kazimierz and Antonina Szewczyk. They had eight children."
      }
    },
    {
      "id": 39,
      "firstName": "Józef",
      "lastName": "Gierczak",
      "birthDate": "1930",
      "deathDate": "1996",
      "photoUrl": "/images/51.png",
      "family": "gierczak",
      "spouseIds": [41],
      "childIds": [86, 87, 88],
      "parentIds": [26, 32],
      "occupation": { "pl": "Robotnik bezrolny", "en": "Landless worker" },
      "biography": {
        "pl": "Syn Jana i Agnieszki, ojciec autora. Z Marianną Ofiarą ożenił się w 1952. Mieli troje dzieci.",
        "en": "Son of Jan and Agnieszka, the author's father. He married Marianna Ofiara in 1952. They had three children."
      }
    },
    {
      "id": 41,
      "firstName": "Marianna",
      "lastName": "Gierczak",
      "maidenName": "Ofiara z d. Sobień",
      "birthDate": "1931",
      "deathDate": "1987",
      "photoUrl": "/images/43.png",
      "family": "ofiara",
      "spouseIds": [39],
      "childIds": [86, 87, 88],
      "parentIds": [45, 46],
      "biography": {
        "pl": "Żona Józefa Gierczaka, matka autora. Za Józefa Gierczaka wyszła w 1952. Córka Józefa Ofiary i jego drugiej żony, Heleny z d. Sobień.",
        "en": "Wife of Józef Gierczak, the author's mother. She married Józef Gierczak in 1952. Daughter of Józef Ofiara and his second wife, Helena née Sobień."
      }
    },
    {
      "id": 45,
      "firstName": "Józef",
      "lastName": "Ofiara",
      "birthDate": "1896",
      "deathDate": null,
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [47, 46],
      "childIds": [92, 93, 94, 95, 96, 97, 98, 41, 99],
      "parentIds": [57, 58],
      "occupation": { "pl": "Gospodarz", "en": "Farmer" },
      "biography": {
        "pl": "Dziadek autora. Syn Andrzeja Ofiary i Franciszki Szaruch. W 1918 poślubił Rozalię Mitak (zm. 1925), z którą miał 3 synów. Po jej śmierci ożenił się w 1926 z Heleną Sobień, z którą miał 6 dzieci.",
        "en": "The author's grandfather. Son of Andrzej Ofiara and Franciszka Szaruch. In 1918, he married Rozalia Mitak (d. 1925), with whom he had 3 sons. After her death, he married Helena Sobień in 1926, with whom he had 6 children."
      }
    },
    {
      "id": 46,
      "firstName": "Helena",
      "lastName": "Ofiara",
      "maidenName": "Sobień",
      "birthDate": "1905-01-09",
      "deathDate": null,
      "photoUrl": "/images/8.png",
      "family": "ofiara",
      "spouseIds": [45],
      "childIds": [95, 96, 97, 98, 41, 99],
      "parentIds": [119, 120],
      "biography": {
        "pl": "Babcia autora, druga żona Józefa Ofiary. Z Józefem miała sześcioro dzieci. Miała liczne rodzeństwo rodzone i przyrodnie.",
        "en": "The author's grandmother, the second wife of Józef Ofiara. She had six children with Józef. She had numerous full and half-siblings."
      }
    },
    {
      "id": 47,
      "firstName": "Rozalia",
      "lastName": "Ofiara",
      "maidenName": "Mitak",
      "birthDate": "1892",
      "deathDate": "1925",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [45],
      "childIds": [92, 93, 94],
      "parentIds": [121, 120],
      "biography": {
        "pl": "Pierwsza żona Józefa Ofiary. Córka Michała Mitaka i Ewy Drużdżel. Zmarła w wieku 33 lat. Matka Stanisława, Piotra i Jana.",
        "en": "First wife of Józef Ofiara. Daughter of Michał Mitak and Ewa Drużdżel. She died at the age of 33. Mother of Stanisław, Piotr, and Jan."
      }
    },
    {
      "id": 57,
      "firstName": "Andrzej",
      "lastName": "Ofiara",
      "photoUrl": "/images/andrzej.png",
      "family": "ofiara",
      "spouseIds": [58],
      "childIds": [89, 90, 45, 91],
      "parentIds": [],
      "occupation": { "pl": "Gospodarz", "en": "Farmer" },
      "biography": {
        "pl": "Pradziadek autora. Ożenił się z Franciszką Szaruch (Saruch). Mieli 4 dzieci.",
        "en": "The author's great-grandfather. He married Franciszka Szaruch (Saruch). They had 4 children."
      }
    },
    {
      "id": 58,
      "firstName": "Franciszka",
      "lastName": "Ofiara",
      "maidenName": "Szaruch",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [57],
      "childIds": [89, 90, 45, 91],
      "parentIds": [],
      "biography": {
        "pl": "Żona Andrzeja Ofiary. Brak danych.",
        "en": "Wife of Andrzej Ofiara. No data available."
      }
    },
    {
      "id": 59,
      "firstName": "Józefa",
      "lastName": "Wieracha",
      "maidenName": "Gerczak vel Gierczak",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [102],
      "childIds": [],
      "parentIds": [4, 8],
      "biography": {
        "pl": "Córka Ambrożego i Kunegundy. W 1841 wyszła za mąż za Józefa Wierachę.",
        "en": "Daughter of Ambroży and Kunegunda. In 1841, she married Józef Wieracha."
      }
    },
    {
      "id": 60,
      "firstName": "Jadwiga",
      "lastName": "Kornafel",
      "maidenName": "Gerczak vel Gierczak",
      "birthDate": null,
      "deathDate": "1884",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [103],
      "childIds": [],
      "parentIds": [4, 8],
      "biography": {
        "pl": "Córka Ambrożego i Kunegundy. W 1842 poślubiła Franciszka Kornafela.",
        "en": "Daughter of Ambroży and Kunegunda. In 1842, she married Franciszek Kornafel."
      }
    },
    {
      "id": 61,
      "firstName": "Marianna",
      "lastName": "Stępień",
      "maidenName": "Gerczak vel Gierczak",
      "birthDate": "1833",
      "deathDate": null,
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [104],
      "childIds": [],
      "parentIds": [4, 8],
      "biography": {
        "pl": "Córka Ambrożego i Kunegundy. W 1852 wyszła za mąż za Antoniego Stępnia.",
        "en": "Daughter of Ambroży and Kunegunda. In 1852, she married Antoni Stępień."
      }
    },
    {
      "id": 62,
      "firstName": "Katarzyna",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": null,
      "deathDate": "1821",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [4, 8],
      "biography": {
        "pl": "Córka Ambrożego i Kunegundy.",
        "en": "Daughter of Ambroży and Kunegunda."
      }
    },
    {
      "id": 63,
      "firstName": "Kacper",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1826",
      "deathDate": "1903",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [105, 106],
      "childIds": [66, 67],
      "parentIds": [4, 8],
      "biography": {
        "pl": "Syn Ambrożego i Kunegundy. Pierwszą żoną była Marianna Moskwa, z którą miał dwoje dzieci. Po jej śmierci, w 1893 ożenił się z wdową Franciszką Mortką.",
        "en": "Son of Ambroży and Kunegunda. His first wife was Marianna Moskwa, with whom he had two children. After her death, in 1893, he married the widow Franciszka Mortka."
      }
    },
    {
      "id": 64,
      "firstName": "Ludwika",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1831",
      "deathDate": null,
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [4, 8],
      "biography": {
        "pl": "Córka Ambrożego i Kunegundy.",
        "en": "Daughter of Ambroży and Kunegunda."
      }
    },
    {
      "id": 65,
      "firstName": "Franciszka",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1835",
      "deathDate": null,
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [4, 8],
      "biography": {
        "pl": "Córka Ambrożego i Kunegundy.",
        "en": "Daughter of Ambroży and Kunegunda."
      }
    },
    {
      "id": 66,
      "firstName": "Marianna",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1857",
      "deathDate": "1860",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [63, 105],
      "biography": {
        "pl": "Córka Kacpra i jego pierwszej żony, Marianny Moskwy.",
        "en": "Daughter of Kacper and his first wife, Marianna Moskwa."
      }
    },
    {
      "id": 67,
      "firstName": "Jędrzej",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1859",
      "deathDate": null,
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [63, 105],
      "biography": {
        "pl": "Syn Kacpra i jego pierwszej żony, Marianny Moskwy.",
        "en": "Son of Kacper and his first wife, Marianna Moskwa."
      }
    },
    {
      "id": 68,
      "firstName": "Antonina",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1869",
      "deathDate": null,
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [13, 18],
      "biography": {
        "pl": "Córka Karola i Tekli.",
        "en": "Daughter of Karol and Tekla."
      }
    },
    {
      "id": 69,
      "firstName": "Józefa",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1872",
      "deathDate": "1880",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [13, 18],
      "biography": {
        "pl": "Córka Karola i Tekli.",
        "en": "Daughter of Karol and Tekla."
      }
    },
    {
      "id": 70,
      "firstName": "Józefa",
      "lastName": "Walczak",
      "maidenName": "Gerczak vel Gierczak",
      "birthDate": null,
      "deathDate": null,
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [111],
      "childIds": [],
      "parentIds": [19, 22],
      "biography": {
        "pl": "Córka Pawła i Katarzyny. Wyszła za mąż w 1928 za wdowca Władysława Walczaka.",
        "en": "Daughter of Paweł and Katarzyna. She married the widower Władysław Walczak in 1928."
      }
    },
    {
      "id": 71,
      "firstName": "Adam",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1888",
      "deathDate": "1889-03-06",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [19, 22],
      "biography": {
        "pl": "Syn Pawła i Katarzyny. Zmarł jako 3-miesięczne dziecko.",
        "en": "Son of Paweł and Katarzyna. Died as a 3-month-old infant."
      }
    },
    {
      "id": 72,
      "firstName": "Józef",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1890",
      "deathDate": "1890",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [19, 22],
      "biography": {
        "pl": "Syn Pawła i Katarzyny. Zmarł po 6 tygodniach.",
        "en": "Son of Paweł and Katarzyna. Died after 6 weeks."
      }
    },
    {
      "id": 73,
      "firstName": "Stanisław",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1893",
      "deathDate": null,
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [108],
      "childIds": [],
      "parentIds": [19, 22],
      "biography": {
        "pl": "Syn Pawła i Katarzyny. Ożenił się w 1921 z Anielą Burakowską c. Andrzeja i Teofili w parafii Błotnica.",
        "en": "Son of Paweł and Katarzyna. He married Aniela Burakowska, daughter of Andrzej and Teofila, in the Błotnica parish in 1921."
      }
    },
    {
      "id": 74,
      "firstName": "Zofia",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1900",
      "deathDate": null,
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [19, 22],
      "biography": {
        "pl": "Córka Pawła i Katarzyny.",
        "en": "Daughter of Paweł and Katarzyna."
      }
    },
    {
      "id": 75,
      "firstName": "Antoni",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1903",
      "deathDate": null,
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [109],
      "childIds": [],
      "parentIds": [19, 22],
      "biography": {
        "pl": "Syn Pawła i Katarzyny. Wziął za żonę Honoratę Musiałek c. Franciszka i Józefy Banasiak. Ślub odbył się w 1931 w Zakrzewie.",
        "en": "Son of Paweł and Katarzyna. He married Honorata Musiałek, daughter of Franciszek and Józefa Banasiak. The wedding took place in Zakrzew in 1931."
      }
    },
    {
      "id": 76,
      "firstName": "Rozalia",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": null,
      "deathDate": "1906",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [19, 22],
      "biography": {
        "pl": "Córka Pawła i Katarzyny.",
        "en": "Daughter of Paweł and Katarzyna."
      }
    },
    {
      "id": 77,
      "firstName": "Franciszek",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1910",
      "deathDate": null,
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [110],
      "childIds": [],
      "parentIds": [19, 22],
      "biography": {
        "pl": "Syn Pawła i Katarzyny. Ożenił się w 1932 z Feliksą Szczygłowską c. Jana i Karoliny Kozłowskiej. Ślub odbył się w parafii Kowala-Stępocina.",
        "en": "Son of Paweł and Katarzyna. He married Feliksa Szczygłowska, daughter of Jan and Karolina Kozłowska, in 1932. The wedding took place in the Kowala-Stępocina parish."
      }
    },
    {
      "id": 78,
      "firstName": "Stanisława",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1911",
      "deathDate": "1911",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [19, 22],
      "biography": {
        "pl": "Córka Pawła i Katarzyny. Zmarła po 3 tygodniach.",
        "en": "Daughter of Paweł and Katarzyna. Died after 3 weeks."
      }
    },
    {
      "id": 79,
      "firstName": "Jan",
      "lastName": "Gierczak",
      "birthDate": "1918",
      "deathDate": "1918",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [26, 32],
      "biography": {
        "pl": "Syn Jana i Agnieszki. Żył 2 dni.",
        "en": "Son of Jan and Agnieszka. Lived for 2 days."
      }
    },
    {
      "id": 80,
      "firstName": "Marianna",
      "lastName": "Gierczak",
      "birthDate": "1918",
      "deathDate": "1918",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [26, 32],
      "biography": {
        "pl": "Córka Jana i Agnieszki. Żyła 2 tygodnie.",
        "en": "Daughter of Jan and Agnieszka. Lived for 2 weeks."
      }
    },
    {
      "id": 81,
      "firstName": "Janina",
      "lastName": "Gierczak",
      "birthDate": "1920",
      "deathDate": "1920",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [26, 32],
      "biography": {
        "pl": "Córka Jana i Agnieszki. Żyła 8 tygodni.",
        "en": "Daughter of Jan and Agnieszka. Lived for 8 weeks."
      }
    },
    {
      "id": 82,
      "firstName": "Stefan",
      "lastName": "Gierczak",
      "birthDate": "1921",
      "deathDate": "2017",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [26, 32],
      "biography": {
        "pl": "Syn Jana i Agnieszki.",
        "en": "Son of Jan and Agnieszka."
      }
    },
    {
      "id": 83,
      "firstName": "Władysław",
      "lastName": "Gierczak",
      "birthDate": "1923-02-01",
      "deathDate": "2004-12-02",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [26, 32],
      "biography": {
        "pl": "Syn Jana i Agnieszki.",
        "en": "Son of Jan and Agnieszka."
      }
    },
    {
      "id": 84,
      "firstName": "Tadeusz",
      "lastName": "Gierczak",
      "birthDate": "1920s",
      "deathDate": "1974",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [26, 32],
      "biography": {
        "pl": "Syn Jana i Agnieszki.",
        "en": "Son of Jan and Agnieszka."
      }
    },
    {
      "id": 85,
      "firstName": "Zofia",
      "lastName": "Gierczak",
      "birthDate": "1900s",
      "deathDate": "2022",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [26, 32],
      "biography": {
        "pl": "Córka Jana i Agnieszki.",
        "en": "Daughter of Jan and Agnieszka."
      }
    },
    {
      "id": 86,
      "firstName": "Witold",
      "lastName": "Gierczak",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [39, 41],
      "biography": {
        "pl": "Syn Józefa i Marianny. Zmarł jako roczne dziecko.",
        "en": "Son of Józef and Marianna. Died as a one-year-old child."
      }
    },
    {
      "id": 87,
      "firstName": "Adam",
      "lastName": "Gierczak",
      "birthDate": "1956",
      "deathDate": null,
      "photoUrl": "/images/6.jpeg",
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [39, 41],
      "biography": {
        "pl": "Syn Józefa i Marianny.",
        "en": "Son of Józef and Marianna."
      }
    },
    {
      "id": 88,
      "firstName": "Maria",
      "lastName": "Gierczak",
      "birthDate": "1958",
      "deathDate": null,
      "photoUrl": "/images/7.jfif",
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [39, 41],
      "biography": {
        "pl": "Córka Józefa i Marianny, siostra autora.",
        "en": "Daughter of Józef and Marianna, the author's sister."
      }
    },
    {
      "id": 89,
      "firstName": "Ignacy",
      "lastName": "Ofiara",
      "birthDate": null,
      "deathDate": null,
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [112],
      "childIds": [],
      "parentIds": [57, 58],
      "biography": {
        "pl": "Syn Andrzeja i Franciszki. W 1908 ożenił się z wdową Katarzyną Sikorską (Jurczak) c. Andrzeja i Marianny Hudzik.",
        "en": "Son of Andrzej and Franciszka. In 1908, he married the widow Katarzyna Sikorska (Jurczak), daughter of Andrzej and Marianna Hudzik."
      }
    },
    {
      "id": 90,
      "firstName": "Antoni",
      "lastName": "Ofiara",
      "birthDate": null,
      "deathDate": null,
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [113],
      "childIds": [],
      "parentIds": [57, 58],
      "biography": {
        "pl": "Syn Andrzeja i Franciszki. Ożenił się w 1910 z wdową Rozalią Rojek (Drużdżel) c. Kazimierza i Małgorzaty Podkowiak.",
        "en": "Son of Andrzej and Franciszka. In 1910, he married the widow Rozalia Rojek (Drużdżel), daughter of Kazimierz and Małgorzata Podkowiak."
      }
    },
    {
      "id": 91,
      "firstName": "Katarzyna",
      "lastName": "Piwowarczyk",
      "maidenName": "Ofiara",
      "birthDate": null,
      "deathDate": "1944-11-09",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [57, 58],
      "biography": {
        "pl": "Córka Andrzeja i Franciszki.",
        "en": "Daughter of Andrzej and Franciszka."
      }
    },
    {
      "id": 92,
      "firstName": "Stanisław",
      "lastName": "Ofiara",
      "birthDate": "1919",
      "deathDate": null,
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [45, 47],
      "biography": {
        "pl": "Syn Józefa Ofiary i jego pierwszej żony, Rozalii z d. Mitak.",
        "en": "Son of Józef Ofiara and his first wife, Rozalia née Mitak."
      }
    },
    {
      "id": 93,
      "firstName": "Piotr",
      "lastName": "Ofiara",
      "birthDate": "1921",
      "deathDate": "2004-06-03",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [45, 47],
      "biography": {
        "pl": "Syn Józefa Ofiary i jego pierwszej żony, Rozalii z d. Mitak.",
        "en": "Son of Józef Ofiara and his first wife, Rozalia née Mitak."
      }
    },
    {
      "id": 94,
      "firstName": "Jan",
      "lastName": "Ofiara",
      "birthDate": "1925",
      "deathDate": "2001-04-30",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [45, 47],
      "biography": {
        "pl": "Syn Józefa Ofiary i jego pierwszej żony, Rozalii z d. Mitak.",
        "en": "Son of Józef Ofiara and his first wife, Rozalia née Mitak."
      }
    },
    {
      "id": 95,
      "firstName": "Józef",
      "lastName": "Ofiara",
      "birthDate": null,
      "deathDate": "1927-01-09",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [45, 46],
      "biography": {
        "pl": "Syn Józefa Ofiary i Heleny z d. Sobień. Zmarł jako 2-tygodniowe dziecko.",
        "en": "Son of Józef Ofiara and Helena née Sobień. Died as a 2-week-old infant."
      }
    },
    {
      "id": 96,
      "firstName": "Andrzej",
      "lastName": "Ofiara",
      "birthDate": null,
      "deathDate": "1928-01-07",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [45, 46],
      "biography": {
        "pl": "Syn Józefa Ofiary i Heleny z d. Sobień. Zmarł jako 2-tygodniowe dziecko.",
        "en": "Son of Józef Ofiara and Helena née Sobień. Died as a 2-week-old infant."
      }
    },
    {
      "id": 97,
      "firstName": "Genowefa",
      "lastName": "Ofiara",
      "birthDate": null,
      "deathDate": "1930-08-16",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [45, 46],
      "biography": {
        "pl": "Córka Józefa Ofiary i Heleny z d. Sobień. Zmarła jako 3-tygodniowe dziecko.",
        "en": "Daughter of Józef Ofiara and Helena née Sobień. Died as a 3-week-old infant."
      }
    },
    {
      "id": 98,
      "firstName": "Kazimiera",
      "lastName": "Ofiara",
      "birthDate": "1934",
      "deathDate": "1935-08-09",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [45, 46],
      "biography": {
        "pl": "Córka Józefa Ofiary i Heleny z d. Sobień. Zmarła jako półtoraroczne dziecko.",
        "en": "Daughter of Józef Ofiara and Helena née Sobień. Died as a one-and-a-half-year-old child."
      }
    },
    {
      "id": 99,
      "firstName": "Roman",
      "lastName": "Ofiara",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [45, 46],
      "biography": {
        "pl": "Syn Józefa Ofiary i Heleny z d. Sobień.",
        "en": "Son of Józef Ofiara and Helena née Sobień."
      }
    },
    {
      "id": 101,
      "firstName": "Teresa",
      "lastName": "Gerczak vel Gierczak",
      "maidenName": "Pączek",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [6],
      "childIds": [],
      "parentIds": [],
      "biography": {
        "pl": "Żona Andrzeja Gerczaka (syna Tomasza). Jej rodzicami byli Jakub i Magdalena.",
        "en": "Wife of Andrzej Gerczak (son of Tomasz). Her parents were Jakub and Magdalena."
      }
    },
    {
      "id": 102,
      "firstName": "Józef",
      "lastName": "Wieracha",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [59],
      "childIds": [],
      "parentIds": [],
      "biography": {
        "pl": "Mąż Józefy Gerczak (córki Ambrożego).",
        "en": "Husband of Józefa Gerczak (daughter of Ambroży)."
      }
    },
    {
      "id": 103,
      "firstName": "Franciszek",
      "lastName": "Kornafel",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [60],
      "childIds": [],
      "parentIds": [],
      "biography": {
        "pl": "Mąż Jadwigi Gerczak (córki Ambrożego).",
        "en": "Husband of Jadwiga Gerczak (daughter of Ambroży)."
      }
    },
    {
      "id": 104,
      "firstName": "Antoni",
      "lastName": "Stępień",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [61],
      "childIds": [],
      "parentIds": [],
      "biography": {
        "pl": "Mąż Marianny Gerczak (córki Ambrożego).",
        "en": "Husband of Marianna Gerczak (daughter of Ambroży)."
      }
    },
    {
      "id": 105,
      "firstName": "Marianna",
      "lastName": "Gerczak vel Gierczak",
      "maidenName": "Moskwa vel Moskwina",
      "deathDate": "przed 1893",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [63],
      "childIds": [66, 67],
      "parentIds": [],
      "biography": {
        "pl": "Pierwsza żona Kacpra Gerczaka. Matka Jędrzeja i Marianny.",
        "en": "First wife of Kacper Gerczak. Mother of Jędrzej and Marianna."
      }
    },
    {
      "id": 106,
      "firstName": "Franciszka",
      "lastName": "Gerczak vel Gierczak",
      "maidenName": "Mortka z d. Indrzejoska",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [63],
      "childIds": [],
      "parentIds": [],
      "biography": {
        "pl": "Druga żona Kacpra Gerczaka, którą poślubił jako wdowiec w 1893 roku.",
        "en": "Second wife of Kacper Gerczak, whom he married as a widower in 1893."
      }
    },
    {
      "id": 107,
      "firstName": "Mikołaj",
      "lastName": "Remisiewski",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [8],
      "childIds": [],
      "parentIds": [],
      "biography": {
        "pl": "Drugi mąż Kunegundy z d. Kania, wdowy po Ambrożym Gerczaku. Syn Łukasza i Moniki Łosiak.",
        "en": "Second husband of Kunegunda née Kania, widow of Ambroży Gerczak. Son of Łukasz and Monika Łosiak."
      }
    },
    {
      "id": 108,
      "firstName": "Aniela",
      "lastName": "Gerczak vel Gierczak",
      "maidenName": "Burakowska",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [73],
      "childIds": [],
      "parentIds": [],
      "biography": {
        "pl": "Żona Stanisława Gerczaka (syna Pawła). Córka Andrzeja i Teofili. Ślub w parafii Błotnica w 1921 r.",
        "en": "Wife of Stanisław Gerczak (son of Paweł). Daughter of Andrzej and Teofila. Wedding in the Błotnica parish in 1921."
      }
    },
    {
      "id": 109,
      "firstName": "Honorata",
      "lastName": "Gerczak vel Gierczak",
      "maidenName": "Musiałek",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [75],
      "childIds": [],
      "parentIds": [],
      "biography": {
        "pl": "Żona Antoniego Gerczaka (syna Pawła). Córka Franciszka i Józefy Banasiak. Ślub w Zakrzewie w 1931 r.",
        "en": "Wife of Antoni Gerczak (son of Paweł). Daughter of Franciszek and Józefa Banasiak. Wedding in Zakrzew in 1931."
      }
    },
    {
      "id": 110,
      "firstName": "Feliksa",
      "lastName": "Gerczak vel Gierczak",
      "maidenName": "Szczygłowska",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [77],
      "childIds": [],
      "parentIds": [],
      "biography": {
        "pl": "Żona Franciszka Gerczaka (syna Pawła). Córka Jana i Karoliny Kozłowskiej. Ślub w parafii Kowala-Stępocina w 1932 r.",
        "en": "Wife of Franciszek Gerczak (son of Paweł). Daughter of Jan and Karolina Kozłowska. Wedding in the Kowala-Stępocina parish in 1932."
      }
    },
    {
      "id": 111,
      "firstName": "Władysław",
      "lastName": "Walczak",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [70],
      "childIds": [],
      "parentIds": [],
      "biography": {
        "pl": "Mąż Józefy Gerczak (córki Pawła). Ślub w 1928 r.",
        "en": "Husband of Józefa Gerczak (daughter of Paweł). Wedding in 1928."
      }
    },
    {
      "id": 112,
      "firstName": "Katarzyna",
      "lastName": "Ofiara",
      "maidenName": "Sikorska (Jurczak)",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [89],
      "childIds": [],
      "parentIds": [],
      "biography": {
        "pl": "Żona Ignacego Ofiary. Córka Andrzeja i Marianny Hudzik. Ślub w Błotnicy w 1908 r.",
        "en": "Wife of Ignacy Ofiara. Daughter of Andrzej and Marianna Hudzik. Wedding in the Błotnica parish in 1908."
      }
    },
    {
      "id": 113,
      "firstName": "Rozalia",
      "lastName": "Ofiara",
      "maidenName": "Rojek (Drużdżel)",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [90],
      "childIds": [],
      "parentIds": [],
      "biography": {
        "pl": "Żona Antoniego Ofiary. Córka Kazimierza i Małgorzaty Podkowiak. Ślub w 1910 r.",
        "en": "Wife of Antoni Ofiara. Daughter of Kazimierz and Małgorzata Podkowiak. Wedding in 1910."
      }
    },
    {
      "id": 114,
      "firstName": "Franciszka",
      "lastName": "Sobień",
      "maidenName": "Sobień",
      "birthDate": "1895-07-15",
      "deathDate": null,
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [119, 120],
      "biography": {
        "pl": "Siostra Heleny Ofiary (z d. Sobień). Córka Karola i Ewy.",
        "en": "Sister of Helena Ofiara (née Sobień). Daughter of Karol and Ewa."
      }
    },
    {
      "id": 115,
      "firstName": "Anna",
      "lastName": "Kozyra",
      "maidenName": "Sobień",
      "birthDate": "1898",
      "deathDate": "1927",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [126],
      "childIds": [],
      "parentIds": [119, 120],
      "biography": {
        "pl": "Siostra Heleny Ofiary (z d. Sobień). Córka Karola i Ewy. W 1920 r. wyszła za mąż za Władysława Kozyrę.",
        "en": "Sister of Helena Ofiara (née Sobień). Daughter of Karol and Ewa. In 1920, she married Władysław Kozyra."
      }
    },
    {
      "id": 116,
      "firstName": "Zofia",
      "lastName": "Odzimek",
      "maidenName": "Sobień",
      "birthDate": "1903",
      "deathDate": null,
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [127],
      "childIds": [],
      "parentIds": [119, 120],
      "biography": {
        "pl": "Siostra Heleny Ofiary (z d. Sobień). Córka Karola i Ewy. W 1922 r. wyszła za mąż za Michała Odzimka.",
        "en": "Sister of Helena Ofiara (née Sobień). Daughter of Karol and Ewa. In 1922, she married Michał Odzimek."
      }
    },
    {
      "id": 117,
      "firstName": "Jan",
      "lastName": "Sobień",
      "birthDate": "1900-12-12",
      "deathDate": null,
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [128],
      "childIds": [],
      "parentIds": [119, 120],
      "biography": {
        "pl": "Brat Heleny Ofiary (z d. Sobień). Syn Karola i Ewy. W 1926 r. ożenił się ze Stanisławą Bocheńską.",
        "en": "Brother of Helena Ofiara (née Sobień). Son of Karol and Ewa. In 1926, he married Stanisława Bocheńska."
      }
    },
    {
      "id": 118,
      "firstName": "Józef",
      "lastName": "Sobień",
      "birthDate": "1908",
      "deathDate": null,
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [119, 120],
      "biography": {
        "pl": "Brat Heleny Ofiary (z d. Sobień). Syn Karola i Ewy.",
        "en": "Brother of Helena Ofiara (née Sobień). Son of Karol and Ewa."
      }
    },
    {
      "id": 119,
      "firstName": "Karol",
      "lastName": "Sobień",
      "photoUrl": "/images/karol-sobien-119.jpg",
      "family": "ofiara",
      "spouseIds": [120],
      "childIds": [114, 115, 116, 46, 117, 118],
      "parentIds": [],
      "biography": {
        "pl": "Ojciec Heleny Ofiary (z d. Sobień), mąż Ewy Drużdżel.",
        "en": "Father of Helena Ofiara (née Sobień), husband of Ewa Drużdżel."
      }
    },
    {
      "id": 120,
      "firstName": "Ewa",
      "lastName": "Sobień",
      "maidenName": "Drużdżel",
      "photoUrl": "/images/ewa-druzdziel-120.jpg",
      "family": "ofiara",
      "spouseIds": [121, 119],
      "childIds": [122, 123, 47, 125, 114, 115, 116, 46, 117, 118],
      "parentIds": [],
      "biography": {
        "pl": "Matka Heleny Ofiary (z d. Sobień). Jej pierwszym mężem był Michał Mitak, z którym miała czworo dzieci. Drugim mężem był Karol Sobień, z którym miała sześcioro dzieci.",
        "en": "Mother of Helena Ofiara (née Sobień). Her first husband was Michał Mitak, with whom she had four children. Her second husband was Karol Sobień, with whom she had six children."
      }
    },
    {
      "id": 121,
      "firstName": "Michał",
      "lastName": "Mitak",
      "deathDate": "przed 1895",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [120],
      "childIds": [122, 123, 47, 125],
      "parentIds": [],
      "biography": {
        "pl": "Pierwszy mąż Ewy Drużdżel. Ojciec Weroniki, Marianny, Rozalii i Jana.",
        "en": "First husband of Ewa Drużdżel. Father of Weronika, Marianna, Rozalia, and Jan."
      }
    },
    {
      "id": 122,
      "firstName": "Weronika",
      "lastName": "Mitak",
      "maidenName": "Mitak",
      "birthDate": "1886",
      "deathDate": "1998-12-27",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [121, 120],
      "biography": {
        "pl": "Córka Michała Mitaka i Ewy Drużdżel. Przyrodnia siostra Heleny Ofiary.",
        "en": "Daughter of Michał Mitak and Ewa Drużdżel. Half-sister of Helena Ofiara."
      }
    },
    {
      "id": 123,
      "firstName": "Marianna",
      "lastName": "Mitak",
      "maidenName": "Mitak",
      "birthDate": "1889",
      "deathDate": "1980-04-10",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [121, 120],
      "biography": {
        "pl": "Córka Michała Mitaka i Ewy Drużdżel. Przyrodnia siostra Heleny Ofiary.",
        "en": "Daughter of Michał Mitak and Ewa Drużdżel. Half-sister of Helena Ofiara."
      }
    },
    {
      "id": 125,
      "firstName": "Jan",
      "lastName": "Mitak",
      "birthDate": "1894",
      "deathDate": null,
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [121, 120],
      "biography": {
        "pl": "Syn Michała Mitaka i Ewy Drużdżel. Przyrodni brat Heleny Ofiary.",
        "en": "Son of Michał Mitak and Ewa Drużdżel. Half-brother of Helena Ofiara."
      }
    },
    {
      "id": 126,
      "firstName": "Władysław",
      "lastName": "Kozyra",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [115],
      "childIds": [],
      "parentIds": [],
      "biography": {
        "pl": "Mąż Anny Sobień. Syn Józefa i Weroniki Korczak.",
        "en": "Husband of Anna Sobień. Son of Józef and Weronika Korczak."
      }
    },
    {
      "id": 127,
      "firstName": "Michał",
      "lastName": "Odzimek",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [116],
      "childIds": [],
      "parentIds": [],
      "biography": {
        "pl": "Mąż Zofii Sobień. Syn Walentego i Zofii Kowalik.",
        "en": "Husband of Zofia Sobień. Son of Walenty and Zofia Kowalik."
      }
    },
    {
      "id": 128,
      "firstName": "Stanisława",
      "lastName": "Sobień",
      "maidenName": "Bocheńska",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [117],
      "childIds": [],
      "parentIds": [],
      "biography": {
        "pl": "Żona Jana Sobienia. Córka Walentego i Marianny Zarębskiej.",
        "en": "Wife of Jan Sobień. Daughter of Walenty and Marianna Zarębska."
      }
    }
  ],
  "documents": [],
  "places": []
}


-----------------------------

// Plik: @/shared/schema.ts

type LocalizedString = {
  pl: string;
  en: string;
};

export type Person = {
  id: number;
  firstName: string;
  lastName: string;
  maidenName?: string | null;
  birthDate?: string | null;
  deathDate?: string | null;
  birthPlace?: string | null;
  deathPlace?: string | null;
  occupation: LocalizedString | string | null;
  // ZMIANA TUTAJ:
  biography: LocalizedString | string | null;
  family: "gierczak" | "ofiara";
  photoUrl?: string | null;
  parentIds?: number[];
  spouseIds?: number[];
  childIds?: number[];
};

export type Document = {
  id: number;
  personId?: number;
  title: string;
  type: string;
  description?: string;
  imageUrl: string;
};

export type Place = {
  name: string;
  description: LocalizedString | string;
  imageUrl: string;
};

export type InsertPerson = Omit<Person, "id">;
export type InsertDocument = Omit<Document, "id">;


----------------------------------

import { createContext, useContext, useState } from "react";
import { useLocation } from "wouter";

type Language = "pl" | "en";

type LanguageProviderProps = {
  children: React.ReactNode;
  defaultLanguage?: Language;
};

type LanguageProviderState = {
  language: Language;
  setLanguage: (language: Language) => void;
  t: (key: string, replacements?: Record<string, string | number>) => string;
  p: (key: string) => string;
};

const translations = {
  pl: {
    "nav.title": "Korzenie rodu Gierczak i Ofiara",
    "nav.title.mobile": "Genealogia",
    "nav.home": "Strona Główna",
    "nav.tree": "Drzewo Interaktywne",
    "nav.families": "Rody",
    "nav.index": "Indeks Osób",
    "nav.gallery": "Galeria",
    "nav.sources": "Źródła",

    "theme.light": "Jasny",
    "theme.dark": "Ciemny",
    "theme.system": "System",

    "family.gierczak": "Ród Gierczaków",
    "family.ofiara": "Ród Ofiarów",

    "home.title": "Historia Rodów",
    "home.description":
      "Odkryj fascynującą historię dwóch rodów z okolic Radomia. Prześledź losy pokoleń, poznaj ich historie i zobacz, jak przeplatały się ich życiowe ścieżki.",
    "home.cta.tree": "Zobacz Interaktywne Drzewo",
    "home.cta.history": "Poznaj Historię",
    "home.about.title": "Początki Rodów",
    "home.about.p1":
      "Historia rodzin Gierczak i Ofiara sięga głęboko w przeszłość okolic radomskich. Te dwa rody, związane z Jaszowicami i Ludwikowem, tworzą fascynującą opowieść o życiu na ziemiach polskich na przestrzeni wieków.",
    "home.about.p2":
      "Dzięki zachowanym metrykom, aktom kościelnym i przekazom rodzinnym, możemy prześledzić losy pokoleń, poznać ich zawody, miejsca zamieszkania i najważniejsze wydarzenia z ich życia.",
    "home.branches.title": "Gałęzie Rodzinne",
    "home.branches.subtitle": "Poznaj historię i pochodzenie każdego z rodów",
    "home.branches.gierczak.cta": "Poznaj Wszystkich Gierczaków",
    "home.branches.ofiara.cta": "Poznaj Wszystkich Ofiarów",
    "home.explore.title": "Rozpocznij Eksplorację",
    "home.explore.subtitle":
      "Wybierz jeden ze sposobów poznawania historii rodzin",
    "home.explore.tree.title": "Drzewo Genealogiczne",
    "home.explore.tree.desc":
      "Interaktywne drzewo z wszystkimi członkami rodzin",
    "home.explore.index.title": "Indeks Osób",
    "home.explore.index.desc": "Alfabetyczna lista wszystkich osób w bazie",
    "home.explore.gallery.title": "Galeria",
    "home.explore.gallery.desc":
      "Zdjęcia, dokumenty i miejsca związane z rodzinami",

    "tree.title": "Interaktywne Drzewo Genealogiczne",
    "tree.subtitle":
      "Eksploruj powiązania rodzinne. Kliknij na osobę, aby zobaczyć szczegóły",
    "tree.filter.all": "Wszystkie Rodziny",
    "tree.legend.descendants": "Potomkowie",
    "tree.legend.marriages": "Małżeństwa",

    "index.title": "Indeks Osób",
    "index.subtitle":
      "Alfabetyczny spis wszystkich osób w bazie genealogicznej",
    "index.searchPlaceholder": "Szukaj osoby...",
    "index.clear": "Wyczyść",
    "index.resultsFound": "Znaleziono {count} osób",
    "index.resultsForLetter": ' na literę "{letter}"',
    "index.resultsForSearch": ' pasujących do "{term}"',
    "index.noResults.title": "Nie znaleziono osób",
    "index.noResults.desc":
      "Spróbuj zmienić kryteria wyszukiwania lub wyczyść filtry.",
    "index.noResults.cta": "Wyczyść filtry",
    "index.showMore": "Pokaż więcej osób",

    "gallery.title": "Galeria Rodzinna",
    "gallery.subtitle":
      "Portrety, dokumenty i miejsca związane z historią rodzin.",
    "gallery.filter.all": "Wszystkie",
    "gallery.filter.portraits": "Portrety",
    "gallery.filter.documents": "Dokumenty",
    "gallery.filter.places": "Miejsca",
    "gallery.results": "{count} elementów",
    "gallery.zoom": "Powiększ",
    "gallery.noResults.title": "Brak zdjęć w tej kategorii",
    "gallery.noResults.desc": "Wybierz inną kategorię, aby zobaczyć zdjęcia.",
    "gallery.noResults.cta": "Pokaż wszystkie",

    "gallery.item.portrait-1.title": "Portret rodzinny",
    "gallery.item.portrait-1.desc": "Rodzina (Sobień?), około 1940 roku",
    "gallery.item.portrait-2.title": "Zdjęcie portretowe",
    "gallery.item.portrait-2.desc": "Marianna Ofiara",
    "gallery.item.portrait-3.title": "Portret przodka",
    "gallery.item.portrait-3.desc":
      "Jeden z najstarszych członków rodu z czasów pańszczyźnianych",
    "gallery.item.portrait-4.title": "Portret prababci i pradziadka (?)",
    "gallery.item.portrait-4.desc": "Członkowie rodziny Sobień (Drużdżel)",
    "gallery.item.doc-1.title":
      "Akt ślubu Jana i Agnieszki Gierczak 14.11.1917",
    "gallery.item.doc-1.desc": "Księga parafialna w Zakrzowie (Zakrzewie)",
    "gallery.item.doc-2.title": "Gulinek, 1960",
    "gallery.item.doc-2.desc":
      "I Komunia Św. Zofii Bilskiej, moja mama jako matka chrzestna",
    "gallery.item.doc-3.title": "Dokument prawny",
    "gallery.item.doc-3.desc":
      "Zapis w Księdze Parafialnej w Zakrzowie (Zakrzewie)",
    "gallery.item.doc-4.title": "Drzewo genealogiczne",
    "gallery.item.doc-4.desc": "Ręcznie sporządzone drzewo rodzinne",
    "gallery.item.place-1.title": "I Komunia Św. wujka Romana Ofiary",
    "gallery.item.place-1.desc": "Roman Ofiara z babcią Heleną",
    "gallery.item.place-2.title": "Wieś Jaszowice",
    "gallery.item.place-2.desc": "Główne miejsce zamieszkania rodu Gierczaków",
    "gallery.item.place-3.title": "Stary cmentarz",
    "gallery.item.place-3.desc":
      "Miejsce spoczynku przodków, prababci Ewy i pradziadka Karola",

    "sources.title": "Źródła i Bibliografia",
    "sources.subtitle":
      "Dokumentacja źródeł wykorzystanych w badaniach genealogicznych.",
    "sources.about.title": "O projekcie",
    "sources.about.p1":
      "Ten projekt genealogiczny powstał w wyniku wieloletnich badań nad historią rodów Gierczak i Ofiara z okolic Radomia. Zebrane informacje pochodzą z różnorodnych źródeł archiwalnych, kościelnych oraz przekazów rodzinnych.",
    "sources.about.p2":
      "Wszystkie dane zostały starannie zweryfikowane i skonfrontowane z dostępnymi dokumentami. Projekt jest kontynuowany - nowe informacje są regularnie dodawane do bazy danych.",
    "sources.archive.title": "Źródła archiwalne",
    "sources.contact.title": "Masz dodatkowe informacje?",
    "sources.contact.desc":
      "Jeśli posiadasz dokumenty, zdjęcia lub wspomnienia związane z rodzinami Gierczak i Ofiara, skontaktuj się z nami. Każda informacja jest cenna dla uzupełnienia historii rodzin.",
    "sources.section.stateArchives.title": "Archiwa państwowe",
    "sources.section.stateArchives.item1":
      "Archiwum Państwowe w Radomiu - księgi metrykalne parafii Cerekiew",
    "sources.section.stateArchives.item2":
      "Archiwum Diecezjalne w Sandomierzu - akta parafialne XVIII-XX w.",
    "sources.section.stateArchives.item3":
      "Urząd Stanu Cywilnego w Radomiu - akty stanu cywilnego",
    "sources.section.churchSources.title": "Źródła kościelne",
    "sources.section.churchSources.item1":
      "Księgi chrztów parafii pw. św. Stanisława w Cerekwi (1780-1950)",
    "sources.section.churchSources.item2":
      "Księgi ślubów parafii Cerekiew (1790-1940)",
    "sources.section.churchSources.item3":
      "Księgi zmarłych cmentarza parafialnego w Cerekwi",
    "sources.section.churchSources.item4":
      "Kronika parafialna - zapisy o mieszkańcach Jaszowic i Ludwikowa",
    "sources.section.familyAccounts.title": "Przekazy rodzinne",
    "sources.section.familyAccounts.item1":
      "Dokumenty osobiste zachowane w rodzinie",
    "sources.section.familyAccounts.item2":
      "Relacje ustne przekazywane przez pokolenia",
    "sources.section.familyAccounts.item3":
      "Fotografie rodzinne z XIX i XX wieku",
    "sources.section.familyAccounts.item4":
      "Korespondencja między członkami rodzin",
    "sources.section.literature.title": "Literatura i opracowania",
    "sources.section.literature.item1":
      'Jan Kowalski - "Historia wsi radomskich" (1985)',
    "sources.section.literature.item2":
      'Maria Nowak - "Genealogie rodzin ziemi radomskiej" (2001)',
    "sources.section.literature.item3":
      "Słownik geograficzny Królestwa Polskiego - hasła: Jaszowice, Ludwików",

    "familyBranch.history.title": "Historia rodu",
    "familyBranch.history.places": "Główne miejscowości",
    "familyBranch.history.membersInDb": "osób w bazie",
    "familyBranch.members.title": "Członkowie rodziny",
    "familyBranch.members.viewInTree": "Zobacz w drzewie",
    "familyBranch.members.noData.title": "Brak danych",
    "familyBranch.members.noData.desc":
      "Nie znaleziono osób z tej gałęzi rodziny w bazie danych.",
    "familyBranch.places.title": "Kluczowe miejsca",
    "familyBranch.notFound.title": "Nieznana rodzina",
    "familyBranch.notFound.desc": "Wybierz prawidłową gałąź rodzinną.",

    "person.born": "ur.",
    "person.died": "zm.",
    "person.maidenName": "z d.",
    "person.occupation": "Zawód",
    "person.biography": "Biografia",
    "person.family": "Rodzina",
    "person.parents": "Rodzice",
    "person.spouse": "Małżonek / Małżonka",
    "person.children": "Dzieci",

    "footer.title": "Korzenie rodu",
    "footer.description":
      "Cyfrowe archiwum i interaktywne drzewo genealogiczne rodów Gierczak i Ofiara z okolic Radomia.",
    "footer.nav.title": "Nawigacja",
    "footer.nav.home": "Strona Główna",
    "footer.nav.tree": "Drzewo Interaktywne",
    "footer.nav.gierczak": "Ród Gierczaków",
    "footer.nav.ofiara": "Ród Ofiarów",
    "footer.nav.gallery": "Galeria",
    "footer.contact.title": "Kontakt",
    "footer.contact.email": "[kontakt@genealogia.pl]",
    "footer.contact.location": "Okolice Radomia",
    "footer.contact.projectInfo":
      "Projekt genealogiczny\nzachowujący pamięć o przodkach",
    "footer.copyright":
      "© {year} Korzenie rodu Gierczak i Ofiara. Wszystkie prawa zastrzeżone.",

    paths: {
      home: "/",
      tree: "/drzewo",
      index: "/indeks-osob",
      gallery: "/galeria",
      sources: "/zrodla",
      familyBase: "/rod",
    },
  },
  en: {
    "nav.title": "Roots of the Gierczak & Ofiara Family",
    "nav.title.mobile": "Genealogy",
    "nav.home": "Home",
    "nav.tree": "Interactive Tree",
    "nav.families": "Families",
    "nav.index": "Person Index",
    "nav.gallery": "Gallery",
    "nav.sources": "Sources",

    "theme.light": "Light",
    "theme.dark": "Dark",
    "theme.system": "System",

    "family.gierczak": "Gierczak Family",
    "family.ofiara": "Ofiara Family",

    "home.title": "History of the Families",
    "home.description":
      "Discover the fascinating history of two families from the Radom area. Trace the fate of generations, learn their stories and see how their life paths intertwined.",
    "home.cta.tree": "View Interactive Tree",
    "home.cta.history": "Learn the History",
    "home.about.title": "The Beginnings of the Families",
    "home.about.p1":
      "The history of the Gierczak and Ofiara families dates far back into the past of the Radom area. These two families, connected with Jaszowice and Ludwików, create a fascinating story of life on Polish lands over the centuries.",
    "home.about.p2":
      "Thanks to preserved metrics, church records, and family accounts, we can trace the destinies of generations, learn about their professions, places of residence, and the most important events of their lives.",
    "home.branches.title": "Family Branches",
    "home.branches.subtitle": "Learn the history and origin of each family",
    "home.branches.gierczak.cta": "Meet All the Gierczaks",
    "home.branches.ofiara.cta": "Meet All the Ofiaras",
    "home.explore.title": "Start Exploring",
    "home.explore.subtitle":
      "Choose one of the ways to learn the family history",
    "home.explore.tree.title": "Genealogical Tree",
    "home.explore.tree.desc": "Interactive tree with all family members",
    "home.explore.index.title": "Person Index",
    "home.explore.index.desc":
      "Alphabetical list of all people in the database",
    "home.explore.gallery.title": "Gallery",
    "home.explore.gallery.desc":
      "Photos, documents, and places related to the families",

    "tree.title": "Interactive Genealogical Tree",
    "tree.subtitle":
      "Explore family connections. Click on a person to see details",
    "tree.filter.all": "All Families",
    "tree.legend.descendants": "Descendants",
    "tree.legend.marriages": "Marriages",

    "index.title": "Person Index",
    "index.subtitle":
      "Alphabetical list of all people in the genealogical database",
    "index.searchPlaceholder": "Search for a person...",
    "index.clear": "Clear",
    "index.resultsFound": "Found {count} people",
    "index.resultsForLetter": ' for letter "{letter}"',
    "index.resultsForSearch": ' matching "{term}"',
    "index.noResults.title": "No People Found",
    "index.noResults.desc":
      "Try changing the search criteria or clearing the filters.",
    "index.noResults.cta": "Clear filters",
    "index.showMore": "Show more people",

    "gallery.title": "Family Gallery",
    "gallery.subtitle":
      "Portraits, documents, and places related to the family history.",
    "gallery.filter.all": "All",
    "gallery.filter.portraits": "Portraits",
    "gallery.filter.documents": "Documents",
    "gallery.filter.places": "Places",
    "gallery.results": "{count} items",
    "gallery.zoom": "Zoom",
    "gallery.noResults.title": "No images in this category",
    "gallery.noResults.desc": "Please select another category to view images.",
    "gallery.noResults.cta": "Show all",

    "gallery.item.portrait-1.title": "Family Portrait",
    "gallery.item.portrait-1.desc": "Sobień (?) family, around 1940",
    "gallery.item.portrait-2.title": "Portrait Photo",
    "gallery.item.portrait-2.desc": "Marianna Ofiara",
    "gallery.item.portrait-3.title": "Ancestor's Portrait",
    "gallery.item.portrait-3.desc":
      "One of the oldest family members from the times of serfdom",
    "gallery.item.portrait-4.title":
      "Great-grandmother and great-grandfather's portrait (?)",
    "gallery.item.portrait-4.desc": "Members of the Sobień (Drużdżel) family",
    "gallery.item.doc-1.title":
      "Marriage certificate of Jan and Agnieszka Gierczak 11/14/1917",
    "gallery.item.doc-1.desc": "Parish register in Zakrzów (Zakrzew)",
    "gallery.item.doc-2.title": "Gulinek, 1960",
    "gallery.item.doc-2.desc":
      "First Holy Communion of Zofia Bilska, my mother as godmother",
    "gallery.item.doc-3.title": "Legal Document",
    "gallery.item.doc-3.desc":
      "Entry in the Parish Register of Zakrzów (Zakrzew)",
    "gallery.item.doc-4.title": "Genealogical Tree",
    "gallery.item.doc-4.desc": "Hand-drawn family tree",
    "gallery.item.place-1.title":
      "First Holy Communion of my uncle Roman Ofiara",
    "gallery.item.place-1.desc": "Roman Ofiara with grandmother Helena",
    "gallery.item.place-2.title": "Jaszowice Village",
    "gallery.item.place-2.desc":
      "The main place of residence of the Gierczak family",
    "gallery.item.place-3.title": "Old Cemetery",
    "gallery.item.place-3.desc":
      "Resting place of ancestors, great-grandmother Ewa and great-grandfather Karol",

    "sources.title": "Sources and Bibliography",
    "sources.subtitle":
      "Documentation of sources used in genealogical research.",
    "sources.about.title": "About the project",
    "sources.about.p1":
      "This genealogical project is the result of many years of research into the history of the Gierczak and Ofiara families from the Radom area. The information gathered comes from a variety of archival, church, and family sources.",
    "sources.about.p2":
      "All data has been carefully verified and cross-referenced with available documents. The project is ongoing - new information is regularly added to the database.",
    "sources.archive.title": "Archival Sources",
    "sources.contact.title": "Do you have additional information?",
    "sources.contact.desc":
      "If you have documents, photos, or memories related to the Gierczak and Ofiara families, please contact us. Every piece of information is valuable for completing the family history.",
    "sources.section.stateArchives.title": "State Archives",
    "sources.section.stateArchives.item1":
      "State Archives in Radom - parish registers of the Cerekiew parish",
    "sources.section.stateArchives.item2":
      "Diocesan Archives in Sandomierz - parish records from the 18th-20th centuries",
    "sources.section.stateArchives.item3":
      "Civil Registry Office in Radom - civil status records",
    "sources.section.churchSources.title": "Church Sources",
    "sources.section.churchSources.item1":
      "Baptismal records of the St. Stanislaus parish in Cerekiew (1780-1950)",
    "sources.section.churchSources.item2":
      "Marriage records of the Cerekiew parish (1790-1940)",
    "sources.section.churchSources.item3":
      "Death records from the parish cemetery in Cerekiew",
    "sources.section.churchSources.item4":
      "Parish chronicle - records about the inhabitants of Jaszowice and Ludwików",
    "sources.section.familyAccounts.title": "Family Accounts",
    "sources.section.familyAccounts.item1":
      "Personal documents preserved in the family",
    "sources.section.familyAccounts.item2":
      "Oral accounts passed down through generations",
    "sources.section.familyAccounts.item3":
      "Family photographs from the 19th and 20th centuries",
    "sources.section.familyAccounts.item4":
      "Correspondence between family members",
    "sources.section.literature.title": "Literature and Studies",
    "sources.section.literature.item1":
      'Jan Kowalski - "History of the Radom Villages" (1985)',
    "sources.section.literature.item2":
      'Maria Nowak - "Genealogies of Families from the Radom Land" (2001)',
    "sources.section.literature.item3":
      "Geographical Dictionary of the Kingdom of Poland - entries: Jaszowice, Ludwików",

    "familyBranch.history.title": "History of the Family",
    "familyBranch.history.places": "Main Locations",
    "familyBranch.history.membersInDb": "people in database",
    "familyBranch.members.title": "Family Members",
    "familyBranch.members.viewInTree": "View in Tree",
    "familyBranch.members.noData.title": "No Data",
    "familyBranch.members.noData.desc":
      "No people from this family branch were found in the database.",
    "familyBranch.places.title": "Key Places",
    "familyBranch.notFound.title": "Unknown family",
    "familyBranch.notFound.desc": "Please select a valid family branch.",

    "person.born": "b.",
    "person.died": "d.",
    "person.maidenName": "née",
    "person.occupation": "Occupation",
    "person.biography": "Biography",
    "person.family": "Family",
    "person.parents": "Parents",
    "person.spouse": "Spouse",
    "person.children": "Children",

    "footer.title": "Family Roots",
    "footer.description":
      "A digital archive and interactive genealogical tree of the Gierczak and Ofiara families from the Radom area.",
    "footer.nav.title": "Navigation",
    "footer.nav.home": "Home",
    "footer.nav.tree": "Interactive Tree",
    "footer.nav.gierczak": "Gierczak Family",
    "footer.nav.ofiara": "Ofiara Family",
    "footer.nav.gallery": "Gallery",
    "footer.contact.title": "Contact",
    "footer.contact.email": "[contact@genealogy.com]",
    "footer.contact.location": "Radom Area",
    "footer.contact.projectInfo":
      "A genealogical project\npreserving the memory of ancestors",
    "footer.copyright":
      "© {year} Roots of the Gierczak & Ofiara Family. All rights reserved.",

    paths: {
      home: "/",
      tree: "/tree",
      index: "/person-index",
      gallery: "/gallery",
      sources: "/sources",
      familyBase: "/family",
    },
  },
};

const initialState: LanguageProviderState = {
  language: "pl",
  setLanguage: () => null,
  t: () => "",
  p: () => "",
};

const LanguageProviderContext =
  createContext<LanguageProviderState>(initialState);

export function LanguageProvider({
  children,
  defaultLanguage = "pl",
  ...props
}: LanguageProviderProps) {
  const [language, setLanguage] = useState<Language>(
    () =>
      (localStorage.getItem("genealogy-language") as Language) ||
      defaultLanguage
  );

  const [location, setLocation] = useLocation();

  const t = (
    key: string,
    replacements?: Record<string, string | number>
  ): string => {
    let translation = (translations[language] as any)[key] || key;
    if (replacements) {
      Object.keys(replacements).forEach((rKey) => {
        translation = translation.replace(
          `{${rKey}}`,
          String(replacements[rKey])
        );
      });
    }
    return translation;
  };

  const p = (key: string): string => {
    return (translations[language].paths as any)[key] || "/";
  };

  const handleSetLanguage = (newLanguage: Language) => {
    if (language !== newLanguage) {
      localStorage.setItem("genealogy-language", newLanguage);
      setLanguage(newLanguage);

      const currentPathKey = Object.keys(translations[language].paths).find(
        (key) => (translations[language].paths as any)[key] === location
      );

      if (currentPathKey) {
        const newPath = (translations[newLanguage].paths as any)[
          currentPathKey
        ];
        setLocation(newPath || "/");
      } else {
        setLocation(translations[newLanguage].paths.home);
      }
    }
  };

  const value = {
    language,
    setLanguage: handleSetLanguage,
    t,
    p,
  };

  return (
    <LanguageProviderContext.Provider {...props} value={value}>
      {children}
    </LanguageProviderContext.Provider>
  );
}

export const useLanguage = () => {
  const context = useContext(LanguageProviderContext);
  if (context === undefined)
    throw new Error("useLanguage must be used within a LanguageProvider");
  return context;
};


---------------------------

import { useState } from "react";
import {
  Dialog,
  DialogContent,
  DialogHeader,
  DialogTitle,
  DialogDescription,
} from "@/components/ui/dialog";
import { ScrollArea } from "@/components/ui/scroll-area";
import { Badge } from "@/components/ui/badge";
import { User, Calendar, MapPin, Briefcase, Users } from "lucide-react";
import { Person } from "@shared/schema";
import { useLanguage } from "@/hooks/useLanguage";

interface PersonModalProps {
  person: Person | null;
  isOpen: boolean;
  onClose: () => void;
  onPersonClick: (person: Person) => void;
  allPeople: Person[];
}

// Funkcja pomocnicza do formatowania daty
const formatDate = (dateString: string | null | undefined, locale: string) => {
  if (!dateString) return null;
  if (/^\d{4}$/.test(dateString)) return dateString;
  try {
    const date = new Date(dateString);
    if (isNaN(date.getTime())) return dateString;
    return new Intl.DateTimeFormat(locale, {
      year: "numeric",
      month: "long",
      day: "numeric",
    }).format(date);
  } catch (e) {
    return dateString;
  }
};

export default function PersonModal({
  person,
  isOpen,
  onClose,
  onPersonClick,
  allPeople,
}: PersonModalProps) {
  const { t, language } = useLanguage();

  if (!person) return null;

  const getDynamicText = (
    field: { pl: string; en: string } | string | null | undefined
  ) => {
    if (!field) return null;
    if (typeof field === "object" && field !== null && "pl" in field) {
      return field[language as keyof typeof field] || field.pl;
    }
    return field;
  };

  const occupationText = getDynamicText(person.occupation);
  const biographyText = getDynamicText(person.biography);

  const parents = person.parentIds
    ? allPeople.filter((p) => person.parentIds!.includes(p.id))
    : [];
  const spouses = person.spouseIds
    ? allPeople.filter((p) => person.spouseIds!.includes(p.id))
    : [];
  const children = person.childIds
    ? allPeople.filter((p) => person.childIds!.includes(p.id))
    : [];

  const familyName =
    person.family === "gierczak" ? t("family.gierczak") : t("family.ofiara");
  const familyColor =
    person.family === "gierczak" ? "heritage-burgundy" : "heritage-teal";

  return (
    <Dialog open={isOpen} onOpenChange={onClose}>
      <DialogContent className="max-w-2xl max-h-[90vh]">
        <DialogHeader>
          <DialogTitle className="font-serif text-2xl heritage-text">
            {person.firstName} {person.lastName}
            {person.maidenName &&
              ` (${t("person.maidenName")} ${person.maidenName})`}
          </DialogTitle>
          <DialogDescription className={`${familyColor}`}>
            {familyName}
          </DialogDescription>
        </DialogHeader>

        <ScrollArea className="max-h-[70vh] pr-4">
          <div className="space-y-6">
            <div className="flex flex-col md:flex-row gap-6">
              <div className="md:w-1/3 flex-shrink-0">
                <div className="w-48 h-48 bg-stone-200 rounded-lg mx-auto flex items-center justify-center">
                  {person.photoUrl ? (
                    <img
                      src={person.photoUrl}
                      alt={`${person.firstName} ${person.lastName}`}
                      className="w-full h-full rounded-lg object-cover"
                    />
                  ) : (
                    <User className="w-16 h-16 text-stone-500" />
                  )}
                </div>
              </div>

              <div className="md:w-2/3 space-y-4">
                {(person.birthDate || person.deathDate) && (
                  <div className="flex items-start space-x-3">
                    <Calendar className="w-4 h-4 text-stone-600 mt-1" />
                    <div>
                      {person.birthDate && (
                        <span className="heritage-text">
                          {t("person.born")}:{" "}
                          {formatDate(person.birthDate, language)}
                        </span>
                      )}
                      {person.deathDate && (
                        <span className="block heritage-text">
                          {t("person.died")}:{" "}
                          {formatDate(person.deathDate, language)}
                        </span>
                      )}
                    </div>
                  </div>
                )}
                {person.birthPlace && (
                  <div className="flex items-center space-x-3">
                    <MapPin className="w-4 h-4 text-stone-600" />
                    <span className="heritage-text">
                      {t("person.bornIn")}: {person.birthPlace}
                    </span>
                  </div>
                )}
                {occupationText && (
                  <div className="flex items-center space-x-3">
                    <Briefcase className="w-4 h-4 text-stone-600" />
                    <span className="heritage-text">{occupationText}</span>
                  </div>
                )}
              </div>
            </div>

            {biographyText && (
              <div>
                <h4 className="font-semibold heritage-text mb-3 flex items-center">
                  <User className="w-4 h-4 mr-2" />
                  {t("person.biography")}
                </h4>
                <p className="text-stone-600 leading-relaxed whitespace-pre-wrap">
                  {biographyText}
                </p>
              </div>
            )}

            <div>
              <h4 className="font-semibold heritage-text mb-3 flex items-center">
                <Users className="w-4 h-4 mr-2" />
                {t("person.family")}
              </h4>
              <div className="space-y-4">
                {parents.length > 0 && (
                  <div>
                    <h5 className="font-medium text-sm heritage-text mb-2">
                      {t("person.parents")}:
                    </h5>
                    <div className="flex flex-wrap gap-2">
                      {parents.map((p) => (
                        <Badge
                          key={p.id}
                          variant="secondary"
                          className="cursor-pointer hover:bg-stone-200"
                          onClick={() => onPersonClick(p)}
                        >
                          {p.firstName} {p.lastName}
                        </Badge>
                      ))}
                    </div>
                  </div>
                )}
                {spouses.length > 0 && (
                  <div>
                    <h5 className="font-medium text-sm heritage-text mb-2">
                      {t("person.spouse")}:
                    </h5>
                    <div className="flex flex-wrap gap-2">
                      {spouses.map((p) => (
                        <Badge
                          key={p.id}
                          variant="secondary"
                          className="cursor-pointer hover:bg-stone-200"
                          onClick={() => onPersonClick(p)}
                        >
                          {p.firstName} {p.lastName}
                        </Badge>
                      ))}
                    </div>
                  </div>
                )}
                {children.length > 0 && (
                  <div>
                    <h5 className="font-medium text-sm heritage-text mb-2">
                      {t("person.children")}:
                    </h5>
                    <div className="flex flex-wrap gap-2">
                      {children.map((p) => (
                        <Badge
                          key={p.id}
                          variant="secondary"
                          className="cursor-pointer hover:bg-stone-200"
                          onClick={() => onPersonClick(p)}
                        >
                          {p.firstName} {p.lastName}
                        </Badge>
                      ))}
                    </div>
                  </div>
                )}
              </div>
            </div>
          </div>
        </ScrollArea>
      </DialogContent>
    </Dialog>
  );
}


----------------------------

import { createContext, useContext, useState } from "react";
import { useLocation } from "wouter";

type Language = "pl" | "en";

type LanguageProviderProps = {
  children: React.ReactNode;
  defaultLanguage?: Language;
};

type LanguageProviderState = {
  language: Language;
  setLanguage: (language: Language) => void;
  t: (key: string, replacements?: Record<string, string | number>) => string;
  p: (key: string) => string;
};

const translations = {
  pl: {
    "nav.title": "Korzenie rodu Gierczak i Ofiara",
    "nav.title.mobile": "Genealogia",
    "nav.home": "Strona Główna",
    "nav.tree": "Drzewo Interaktywne",
    "nav.families": "Rody",
    "nav.index": "Indeks Osób",
    "nav.gallery": "Galeria",
    "nav.sources": "Źródła",

    "theme.light": "Jasny",
    "theme.dark": "Ciemny",
    "theme.system": "System",

    "family.gierczak": "Ród Gierczaków",
    "family.ofiara": "Ród Ofiarów",

    "home.title": "Historia Rodów",
    "home.description":
      "Odkryj fascynującą historię dwóch rodów z okolic Radomia. Prześledź losy pokoleń, poznaj ich historie i zobacz, jak przeplatały się ich życiowe ścieżki.",
    "home.cta.tree": "Zobacz Interaktywne Drzewo",
    "home.cta.history": "Poznaj Historię",
    "home.about.title": "Początki Rodów",
    "home.about.p1":
      "Historia rodzin Gierczak i Ofiara sięga głęboko w przeszłość okolic radomskich. Te dwa rody, związane z Jaszowicami i Ludwikowem, tworzą fascynującą opowieść o życiu na ziemiach polskich na przestrzeni wieków.",
    "home.about.p2":
      "Dzięki zachowanym metrykom, aktom kościelnym i przekazom rodzinnym, możemy prześledzić losy pokoleń, poznać ich zawody, miejsca zamieszkania i najważniejsze wydarzenia z ich życia.",
    "home.branches.title": "Gałęzie Rodzinne",
    "home.branches.subtitle": "Poznaj historię i pochodzenie każdego z rodów",
    "home.branches.gierczak.cta": "Poznaj Wszystkich Gierczaków",
    "home.branches.ofiara.cta": "Poznaj Wszystkich Ofiarów",
    "home.explore.title": "Rozpocznij Eksplorację",
    "home.explore.subtitle":
      "Wybierz jeden ze sposobów poznawania historii rodzin",
    "home.explore.tree.title": "Drzewo Genealogiczne",
    "home.explore.tree.desc":
      "Interaktywne drzewo z wszystkimi członkami rodzin",
    "home.explore.index.title": "Indeks Osób",
    "home.explore.index.desc": "Alfabetyczna lista wszystkich osób w bazie",
    "home.explore.gallery.title": "Galeria",
    "home.explore.gallery.desc":
      "Zdjęcia, dokumenty i miejsca związane z rodzinami",

    "tree.title": "Interaktywne Drzewo Genealogiczne",
    "tree.subtitle":
      "Eksploruj powiązania rodzinne. Kliknij na osobę, aby zobaczyć szczegóły",
    "tree.filter.all": "Wszystkie Rodziny",
    "tree.legend.descendants": "Potomkowie",
    "tree.legend.marriages": "Małżeństwa",

    "index.title": "Indeks Osób",
    "index.subtitle":
      "Alfabetyczny spis wszystkich osób w bazie genealogicznej",
    "index.searchPlaceholder": "Szukaj osoby...",
    "index.clear": "Wyczyść",
    "index.resultsFound": "Znaleziono {count} osób",
    "index.resultsForLetter": ' na literę "{letter}"',
    "index.resultsForSearch": ' pasujących do "{term}"',
    "index.noResults.title": "Nie znaleziono osób",
    "index.noResults.desc":
      "Spróbuj zmienić kryteria wyszukiwania lub wyczyść filtry.",
    "index.noResults.cta": "Wyczyść filtry",
    "index.showMore": "Pokaż więcej osób",

    "gallery.title": "Galeria Rodzinna",
    "gallery.subtitle":
      "Portrety, dokumenty i miejsca związane z historią rodzin.",
    "gallery.filter.all": "Wszystkie",
    "gallery.filter.portraits": "Portrety",
    "gallery.filter.documents": "Dokumenty",
    "gallery.filter.places": "Miejsca",
    "gallery.results": "{count} elementów",
    "gallery.zoom": "Powiększ",
    "gallery.noResults.title": "Brak zdjęć w tej kategorii",
    "gallery.noResults.desc": "Wybierz inną kategorię, aby zobaczyć zdjęcia.",
    "gallery.noResults.cta": "Pokaż wszystkie",

    "gallery.item.portrait-1.title": "Portret rodzinny",
    "gallery.item.portrait-1.desc": "Rodzina (Sobień?), około 1940 roku",
    "gallery.item.portrait-2.title": "Zdjęcie portretowe",
    "gallery.item.portrait-2.desc": "Marianna Ofiara",
    "gallery.item.portrait-3.title": "Portret przodka",
    "gallery.item.portrait-3.desc":
      "Jeden z najstarszych członków rodu z czasów pańszczyźnianych",
    "gallery.item.portrait-4.title": "Portret prababci i pradziadka (?)",
    "gallery.item.portrait-4.desc": "Członkowie rodziny Sobień (Drużdżel)",
    "gallery.item.doc-1.title":
      "Akt ślubu Jana i Agnieszki Gierczak 14.11.1917",
    "gallery.item.doc-1.desc": "Księga parafialna w Zakrzowie (Zakrzewie)",
    "gallery.item.doc-2.title": "Gulinek, 1960",
    "gallery.item.doc-2.desc":
      "I Komunia Św. Zofii Bilskiej, moja mama jako matka chrzestna",
    "gallery.item.doc-3.title": "Dokument prawny",
    "gallery.item.doc-3.desc":
      "Zapis w Księdze Parafialnej w Zakrzowie (Zakrzewie)",
    "gallery.item.doc-4.title": "Drzewo genealogiczne",
    "gallery.item.doc-4.desc": "Ręcznie sporządzone drzewo rodzinne",
    "gallery.item.place-1.title": "I Komunia Św. wujka Romana Ofiary",
    "gallery.item.place-1.desc": "Roman Ofiara z babcią Heleną",
    "gallery.item.place-2.title": "Wieś Jaszowice",
    "gallery.item.place-2.desc": "Główne miejsce zamieszkania rodu Gierczaków",
    "gallery.item.place-3.title": "Stary cmentarz",
    "gallery.item.place-3.desc":
      "Miejsce spoczynku przodków, prababci Ewy i pradziadka Karola",

    "sources.title": "Źródła i Bibliografia",
    "sources.subtitle":
      "Dokumentacja źródeł wykorzystanych w badaniach genealogicznych.",
    "sources.about.title": "O projekcie",
    "sources.about.p1":
      "Ten projekt genealogiczny powstał w wyniku wieloletnich badań nad historią rodów Gierczak i Ofiara z okolic Radomia. Zebrane informacje pochodzą z różnorodnych źródeł archiwalnych, kościelnych oraz przekazów rodzinnych.",
    "sources.about.p2":
      "Wszystkie dane zostały starannie zweryfikowane i skonfrontowane z dostępnymi dokumentami. Projekt jest kontynuowany - nowe informacje są regularnie dodawane do bazy danych.",
    "sources.archive.title": "Źródła archiwalne",
    "sources.contact.title": "Masz dodatkowe informacje?",
    "sources.contact.desc":
      "Jeśli posiadasz dokumenty, zdjęcia lub wspomnienia związane z rodzinami Gierczak i Ofiara, skontaktuj się z nami. Każda informacja jest cenna dla uzupełnienia historii rodzin.",
    "sources.section.stateArchives.title": "Archiwa państwowe",
    "sources.section.stateArchives.item1":
      "Archiwum Państwowe w Radomiu - księgi metrykalne parafii Cerekiew",
    "sources.section.stateArchives.item2":
      "Archiwum Diecezjalne w Sandomierzu - akta parafialne XVIII-XX w.",
    "sources.section.stateArchives.item3":
      "Urząd Stanu Cywilnego w Radomiu - akty stanu cywilnego",
    "sources.section.churchSources.title": "Źródła kościelne",
    "sources.section.churchSources.item1":
      "Księgi chrztów parafii pw. św. Stanisława w Cerekwi (1780-1950)",
    "sources.section.churchSources.item2":
      "Księgi ślubów parafii Cerekiew (1790-1940)",
    "sources.section.churchSources.item3":
      "Księgi zmarłych cmentarza parafialnego w Cerekwi",
    "sources.section.churchSources.item4":
      "Kronika parafialna - zapisy o mieszkańcach Jaszowic i Ludwikowa",
    "sources.section.familyAccounts.title": "Przekazy rodzinne",
    "sources.section.familyAccounts.item1":
      "Dokumenty osobiste zachowane w rodzinie",
    "sources.section.familyAccounts.item2":
      "Relacje ustne przekazywane przez pokolenia",
    "sources.section.familyAccounts.item3":
      "Fotografie rodzinne z XIX i XX wieku",
    "sources.section.familyAccounts.item4":
      "Korespondencja między członkami rodzin",
    "sources.section.literature.title": "Literatura i opracowania",
    "sources.section.literature.item1":
      'Jan Kowalski - "Historia wsi radomskich" (1985)',
    "sources.section.literature.item2":
      'Maria Nowak - "Genealogie rodzin ziemi radomskiej" (2001)',
    "sources.section.literature.item3":
      "Słownik geograficzny Królestwa Polskiego - hasła: Jaszowice, Ludwików",

    "familyBranch.history.title": "Historia rodu",
    "familyBranch.history.places": "Główne miejscowości",
    "familyBranch.history.membersInDb": "osób w bazie",
    "familyBranch.members.title": "Członkowie rodziny",
    "familyBranch.members.viewInTree": "Zobacz w drzewie",
    "familyBranch.members.noData.title": "Brak danych",
    "familyBranch.members.noData.desc":
      "Nie znaleziono osób z tej gałęzi rodziny w bazie danych.",
    "familyBranch.places.title": "Kluczowe miejsca",
    "familyBranch.notFound.title": "Nieznana rodzina",
    "familyBranch.notFound.desc": "Wybierz prawidłową gałąź rodzinną.",

    "person.born": "ur.",
    "person.bornIn": "Ur.",
    "person.died": "zm.",
    "person.maidenName": "z d.",
    "person.occupation": "Zawód",
    "person.biography": "Biografia",
    "person.family": "Rodzina",
    "person.parents": "Rodzice",
    "person.spouse": "Małżonkowie",
    "person.children": "Dzieci",
    "person.marriedOn": "ślub",

    "footer.title": "Korzenie rodu",
    "footer.description":
      "Cyfrowe archiwum i interaktywne drzewo genealogiczne rodów Gierczak i Ofiara z okolic Radomia.",
    "footer.nav.title": "Nawigacja",
    "footer.nav.home": "Strona Główna",
    "footer.nav.tree": "Drzewo Interaktywne",
    "footer.nav.gierczak": "Ród Gierczaków",
    "footer.nav.ofiara": "Ród Ofiarów",
    "footer.nav.gallery": "Galeria",
    "footer.contact.title": "Kontakt",
    "footer.contact.email": "[kontakt@genealogia.pl]",
    "footer.contact.location": "Okolice Radomia",
    "footer.contact.projectInfo":
      "Projekt genealogiczny\nzachowujący pamięć o przodkach",
    "footer.copyright":
      "© {year} Korzenie rodu Gierczak i Ofiara. Wszystkie prawa zastrzeżone.",

    paths: {
      home: "/",
      tree: "/drzewo",
      index: "/indeks-osob",
      gallery: "/galeria",
      sources: "/zrodla",
      familyBase: "/rod",
    },
  },
  en: {
    "nav.title": "Roots of the Gierczak & Ofiara Family",
    "nav.title.mobile": "Genealogy",
    "nav.home": "Home",
    "nav.tree": "Interactive Tree",
    "nav.families": "Families",
    "nav.index": "Person Index",
    "nav.gallery": "Gallery",
    "nav.sources": "Sources",

    "theme.light": "Light",
    "theme.dark": "Dark",
    "theme.system": "System",

    "family.gierczak": "Gierczak Family",
    "family.ofiara": "Ofiara Family",

    "home.title": "History of the Families",
    "home.description":
      "Discover the fascinating history of two families from the Radom area. Trace the fate of generations, learn their stories and see how their life paths intertwined.",
    "home.cta.tree": "View Interactive Tree",
    "home.cta.history": "Learn the History",
    "home.about.title": "The Beginnings of the Families",
    "home.about.p1":
      "The history of the Gierczak and Ofiara families dates far back into the past of the Radom area. These two families, connected with Jaszowice and Ludwików, create a fascinating story of life on Polish lands over the centuries.",
    "home.about.p2":
      "Thanks to preserved metrics, church records, and family accounts, we can trace the destinies of generations, learn about their professions, places of residence, and the most important events of their lives.",
    "home.branches.title": "Family Branches",
    "home.branches.subtitle": "Learn the history and origin of each family",
    "home.branches.gierczak.cta": "Meet All the Gierczaks",
    "home.branches.ofiara.cta": "Meet All the Ofiaras",
    "home.explore.title": "Start Exploring",
    "home.explore.subtitle":
      "Choose one of the ways to learn the family history",
    "home.explore.tree.title": "Genealogical Tree",
    "home.explore.tree.desc": "Interactive tree with all family members",
    "home.explore.index.title": "Person Index",
    "home.explore.index.desc":
      "Alphabetical list of all people in the database",
    "home.explore.gallery.title": "Gallery",
    "home.explore.gallery.desc":
      "Photos, documents, and places related to the families",

    "tree.title": "Interactive Genealogical Tree",
    "tree.subtitle":
      "Explore family connections. Click on a person to see details",
    "tree.filter.all": "All Families",
    "tree.legend.descendants": "Descendants",
    "tree.legend.marriages": "Marriages",

    "index.title": "Person Index",
    "index.subtitle":
      "Alphabetical list of all people in the genealogical database",
    "index.searchPlaceholder": "Search for a person...",
    "index.clear": "Clear",
    "index.resultsFound": "Found {count} people",
    "index.resultsForLetter": ' for letter "{letter}"',
    "index.resultsForSearch": ' matching "{term}"',
    "index.noResults.title": "No People Found",
    "index.noResults.desc":
      "Try changing the search criteria or clearing the filters.",
    "index.noResults.cta": "Clear filters",
    "index.showMore": "Show more people",

    "gallery.title": "Family Gallery",
    "gallery.subtitle":
      "Portraits, documents, and places related to the family history.",
    "gallery.filter.all": "All",
    "gallery.filter.portraits": "Portraits",
    "gallery.filter.documents": "Documents",
    "gallery.filter.places": "Places",
    "gallery.results": "{count} items",
    "gallery.zoom": "Zoom",
    "gallery.noResults.title": "No images in this category",
    "gallery.noResults.desc": "Please select another category to view images.",
    "gallery.noResults.cta": "Show all",

    "gallery.item.portrait-1.title": "Family Portrait",
    "gallery.item.portrait-1.desc": "Sobień (?) family, around 1940",
    "gallery.item.portrait-2.title": "Portrait Photo",
    "gallery.item.portrait-2.desc": "Marianna Ofiara",
    "gallery.item.portrait-3.title": "Ancestor's Portrait",
    "gallery.item.portrait-3.desc":
      "One of the oldest family members from the times of serfdom",
    "gallery.item.portrait-4.title":
      "Great-grandmother and great-grandfather's portrait (?)",
    "gallery.item.portrait-4.desc": "Members of the Sobień (Drużdżel) family",
    "gallery.item.doc-1.title":
      "Marriage certificate of Jan and Agnieszka Gierczak 11/14/1917",
    "gallery.item.doc-1.desc": "Parish register in Zakrzów (Zakrzew)",
    "gallery.item.doc-2.title": "Gulinek, 1960",
    "gallery.item.doc-2.desc":
      "First Holy Communion of Zofia Bilska, my mother as godmother",
    "gallery.item.doc-3.title": "Legal Document",
    "gallery.item.doc-3.desc":
      "Entry in the Parish Register of Zakrzów (Zakrzew)",
    "gallery.item.doc-4.title": "Genealogical Tree",
    "gallery.item.doc-4.desc": "Hand-drawn family tree",
    "gallery.item.place-1.title":
      "First Holy Communion of my uncle Roman Ofiara",
    "gallery.item.place-1.desc": "Roman Ofiara with grandmother Helena",
    "gallery.item.place-2.title": "Jaszowice Village",
    "gallery.item.place-2.desc":
      "The main place of residence of the Gierczak family",
    "gallery.item.place-3.title": "Old Cemetery",
    "gallery.item.place-3.desc":
      "Resting place of ancestors, great-grandmother Ewa and great-grandfather Karol",

    "sources.title": "Sources and Bibliography",
    "sources.subtitle":
      "Documentation of sources used in genealogical research.",
    "sources.about.title": "About the project",
    "sources.about.p1":
      "This genealogical project is the result of many years of research into the history of the Gierczak and Ofiara families from the Radom area. The information gathered comes from a variety of archival, church, and family sources.",
    "sources.about.p2":
      "All data has been carefully verified and cross-referenced with available documents. The project is ongoing - new information is regularly added to the database.",
    "sources.archive.title": "Archival Sources",
    "sources.contact.title": "Do you have additional information?",
    "sources.contact.desc":
      "If you have documents, photos, or memories related to the Gierczak and Ofiara families, please contact us. Every piece of information is valuable for completing the family history.",
    "sources.section.stateArchives.title": "State Archives",
    "sources.section.stateArchives.item1":
      "State Archives in Radom - parish registers of the Cerekiew parish",
    "sources.section.stateArchives.item2":
      "Diocesan Archives in Sandomierz - parish records from the 18th-20th centuries",
    "sources.section.stateArchives.item3":
      "Civil Registry Office in Radom - civil status records",
    "sources.section.churchSources.title": "Church Sources",
    "sources.section.churchSources.item1":
      "Baptismal records of the St. Stanislaus parish in Cerekiew (1780-1950)",
    "sources.section.churchSources.item2":
      "Marriage records of the Cerekiew parish (1790-1940)",
    "sources.section.churchSources.item3":
      "Death records from the parish cemetery in Cerekiew",
    "sources.section.churchSources.item4":
      "Parish chronicle - records about the inhabitants of Jaszowice and Ludwików",
    "sources.section.familyAccounts.title": "Family Accounts",
    "sources.section.familyAccounts.item1":
      "Personal documents preserved in the family",
    "sources.section.familyAccounts.item2":
      "Oral accounts passed down through generations",
    "sources.section.familyAccounts.item3":
      "Family photographs from the 19th and 20th centuries",
    "sources.section.familyAccounts.item4":
      "Correspondence between family members",
    "sources.section.literature.title": "Literature and Studies",
    "sources.section.literature.item1":
      'Jan Kowalski - "History of the Radom Villages" (1985)',
    "sources.section.literature.item2":
      'Maria Nowak - "Genealogies of Families from the Radom Land" (2001)',
    "sources.section.literature.item3":
      "Geographical Dictionary of the Kingdom of Poland - entries: Jaszowice, Ludwików",

    "familyBranch.history.title": "History of the Family",
    "familyBranch.history.places": "Main Locations",
    "familyBranch.history.membersInDb": "people in database",
    "familyBranch.members.title": "Family Members",
    "familyBranch.members.viewInTree": "View in Tree",
    "familyBranch.members.noData.title": "No Data",
    "familyBranch.members.noData.desc":
      "No people from this family branch were found in the database.",
    "familyBranch.places.title": "Key Places",
    "familyBranch.notFound.title": "Unknown family",
    "familyBranch.notFound.desc": "Please select a valid family branch.",

    "person.born": "b.",
    "person.bornIn": "Born",
    "person.died": "d.",
    "person.maidenName": "née",
    "person.occupation": "Occupation",
    "person.biography": "Biography",
    "person.family": "Family",
    "person.parents": "Parents",
    "person.spouse": "Spouses",
    "person.children": "Children",
    "person.marriedOn": "m.",

    "footer.title": "Family Roots",
    "footer.description":
      "A digital archive and interactive genealogical tree of the Gierczak and Ofiara families from the Radom area.",
    "footer.nav.title": "Navigation",
    "footer.nav.home": "Home",
    "footer.nav.tree": "Interactive Tree",
    "footer.nav.gierczak": "Gierczak Family",
    "footer.nav.ofiara": "Ofiara Family",
    "footer.nav.gallery": "Gallery",
    "footer.contact.title": "Contact",
    "footer.contact.email": "[contact@genealogy.com]",
    "footer.contact.location": "Radom Area",
    "footer.contact.projectInfo":
      "A genealogical project\npreserving the memory of ancestors",
    "footer.copyright":
      "© {year} Roots of the Gierczak & Ofiara Family. All rights reserved.",

    paths: {
      home: "/",
      tree: "/tree",
      index: "/person-index",
      gallery: "/gallery",
      sources: "/sources",
      familyBase: "/family",
    },
  },
};

const initialState: LanguageProviderState = {
  language: "pl",
  setLanguage: () => null,
  t: () => "",
  p: () => "",
};

const LanguageProviderContext =
  createContext<LanguageProviderState>(initialState);

export function LanguageProvider({
  children,
  defaultLanguage = "pl",
  ...props
}: LanguageProviderProps) {
  const [language, setLanguage] = useState<Language>(
    () =>
      (localStorage.getItem("genealogy-language") as Language) ||
      defaultLanguage
  );

  const [location, setLocation] = useLocation();

  const t = (
    key: string,
    replacements?: Record<string, string | number>
  ): string => {
    let translation = (translations[language] as any)[key] || key;
    if (replacements) {
      Object.keys(replacements).forEach((rKey) => {
        translation = translation.replace(
          `{${rKey}}`,
          String(replacements[rKey])
        );
      });
    }
    return translation;
  };

  const p = (key: string): string => {
    return (translations[language].paths as any)[key] || "/";
  };

  const handleSetLanguage = (newLanguage: Language) => {
    if (language !== newLanguage) {
      localStorage.setItem("genealogy-language", newLanguage);
      setLanguage(newLanguage);

      const currentPathKey = Object.keys(translations[language].paths).find(
        (key) => (translations[language].paths as any)[key] === location
      );

      if (currentPathKey) {
        const newPath = (translations[newLanguage].paths as any)[
          currentPathKey
        ];
        setLocation(newPath || "/");
      } else {
        setLocation(translations[newLanguage].paths.home);
      }
    }
  };

  const value = {
    language,
    setLanguage: handleSetLanguage,
    t,
    p,
  };

  return (
    <LanguageProviderContext.Provider {...props} value={value}>
      {children}
    </LanguageProviderContext.Provider>
  );
}

export const useLanguage = () => {
  const context = useContext(LanguageProviderContext);
  if (context === undefined)
    throw new Error("useLanguage must be used within a LanguageProvider");
  return context;
};


---------------------------

import { useState } from "react";
import {
  Dialog,
  DialogContent,
  DialogHeader,
  DialogTitle,
  DialogDescription,
} from "@/components/ui/dialog";
import { ScrollArea } from "@/components/ui/scroll-area";
import { Badge } from "@/components/ui/badge";
import { User, Calendar, MapPin, Briefcase, Users } from "lucide-react";
import { Person } from "@shared/schema";
import { useLanguage } from "@/hooks/useLanguage";

interface PersonModalProps {
  person: Person | null;
  isOpen: boolean;
  onClose: () => void;
  onPersonClick: (person: Person) => void;
  allPeople: Person[];
}

const formatDate = (dateString: string | null | undefined, locale: string) => {
  if (!dateString || dateString === "?") return "?";
  if (
    /^\d{4}$/.test(dateString) ||
    /^\d{4}s$/.test(dateString) ||
    /^\d{4} \?$/.test(dateString) ||
    /^\d{4}xx$/.test(dateString)
  )
    return dateString;
  try {
    const date = new Date(dateString);
    if (isNaN(date.getTime())) return dateString;
    return new Intl.DateTimeFormat(locale, {
      day: "numeric",
      month: "long",
      year: "numeric",
    }).format(date);
  } catch (e) {
    return dateString;
  }
};

export default function PersonModal({
  person,
  isOpen,
  onClose,
  onPersonClick,
  allPeople,
}: PersonModalProps) {
  const { t, language } = useLanguage();

  if (!person) return null;

  const getDynamicText = (
    field: { pl: string; en: string } | string | null | undefined
  ) => {
    if (!field) return null;
    if (typeof field === "object" && field !== null && "pl" in field) {
      return field[language as keyof typeof field] || field.pl;
    }
    return field;
  };

  const occupationText = getDynamicText(person.occupation);
  const biographyText = getDynamicText(person.biography);

  const parents = person.parentIds
    ? allPeople.filter((p) => person.parentIds!.includes(p.id))
    : [];
  const spouses = person.spouseIds
    ? allPeople.filter((p) => person.spouseIds!.includes(p.id))
    : [];
  const children = person.childIds
    ? allPeople.filter((p) => person.childIds!.includes(p.id))
    : [];

  const familyName =
    person.family === "gierczak" ? t("family.gierczak") : t("family.ofiara");
  const familyColor =
    person.family === "gierczak" ? "heritage-burgundy" : "heritage-teal";

  return (
    <Dialog open={isOpen} onOpenChange={onClose}>
      <DialogContent className="max-w-2xl max-h-[90vh]">
        <DialogHeader>
          <DialogTitle className="font-serif text-2xl heritage-text">
            {person.firstName} {person.lastName}
            {person.maidenName &&
              ` (${t("person.maidenName")} ${person.maidenName})`}
          </DialogTitle>
          <DialogDescription className={`${familyColor}`}>
            {familyName}
          </DialogDescription>
        </DialogHeader>

        <ScrollArea className="max-h-[70vh] pr-4">
          <div className="space-y-6">
            <div className="flex flex-col md:flex-row gap-6">
              <div className="md:w-1/3 flex-shrink-0">
                <div className="w-48 h-48 bg-stone-200 rounded-lg mx-auto flex items-center justify-center">
                  {person.photoUrl ? (
                    <img
                      src={person.photoUrl}
                      alt={`${person.firstName} ${person.lastName}`}
                      className="w-full h-full rounded-lg object-cover"
                    />
                  ) : (
                    <User className="w-16 h-16 text-stone-500" />
                  )}
                </div>
              </div>
              <div className="md:w-2/3 space-y-4">
                {(person.birthDate || person.deathDate) && (
                  <div className="flex items-start space-x-3">
                    <Calendar className="w-4 h-4 text-stone-600 mt-1" />
                    <div>
                      {person.birthDate && (
                        <span className="heritage-text">
                          {t("person.born")}:{" "}
                          {formatDate(person.birthDate, language)}
                        </span>
                      )}
                      {person.deathDate && (
                        <span className="block heritage-text">
                          {t("person.died")}:{" "}
                          {formatDate(person.deathDate, language)}
                        </span>
                      )}
                    </div>
                  </div>
                )}
                {person.birthPlace && (
                  <div className="flex items-center space-x-3">
                    <MapPin className="w-4 h-4 text-stone-600" />
                    <span className="heritage-text">
                      {t("person.bornIn")}: {person.birthPlace}
                    </span>
                  </div>
                )}
                {occupationText && (
                  <div className="flex items-center space-x-3">
                    <Briefcase className="w-4 h-4 text-stone-600" />
                    <span className="heritage-text">{occupationText}</span>
                  </div>
                )}
              </div>
            </div>
            {biographyText && (
              <div>
                <h4 className="font-semibold heritage-text mb-3 flex items-center">
                  <User className="w-4 h-4 mr-2" />
                  {t("person.biography")}
                </h4>
                <p className="text-stone-600 leading-relaxed whitespace-pre-wrap">
                  {biographyText}
                </p>
              </div>
            )}
            <div>
              <h4 className="font-semibold heritage-text mb-3 flex items-center">
                <Users className="w-4 h-4 mr-2" />
                {t("person.family")}
              </h4>
              <div className="space-y-4">
                {parents.length > 0 && (
                  <div>
                    <h5 className="font-medium text-sm heritage-text mb-2">
                      {t("person.parents")}:
                    </h5>
                    <div className="flex flex-wrap gap-2">
                      {parents.map((p) => (
                        <Badge
                          key={p.id}
                          variant="secondary"
                          className="cursor-pointer hover:bg-stone-200"
                          onClick={() => onPersonClick(p)}
                        >
                          {p.firstName} {p.lastName}
                        </Badge>
                      ))}
                    </div>
                  </div>
                )}
                {spouses.length > 0 && (
                  <div>
                    <h5 className="font-medium text-sm heritage-text mb-2">
                      {t("person.spouse")}:
                    </h5>
                    <div className="flex flex-col gap-2 items-start">
                      {spouses.map((spouse) => {
                        const marriage = person.marriages?.find(
                          (m) => m.spouseId === spouse.id
                        );
                        return (
                          <div
                            key={spouse.id}
                            className="flex items-center gap-2 bg-stone-100 dark:bg-stone-800 rounded-full pr-3"
                          >
                            <Badge
                              variant="secondary"
                              className="cursor-pointer hover:bg-stone-200 dark:hover:bg-stone-700 rounded-full py-1"
                              onClick={() => onPersonClick(spouse)}
                            >
                              {spouse.firstName} {spouse.lastName}
                            </Badge>
                            {marriage?.date && (
                              <span className="text-xs text-stone-500 dark:text-stone-400">
                                ({t("person.marriedOn")}:{" "}
                                {formatDate(marriage.date, language)})
                              </span>
                            )}
                          </div>
                        );
                      })}
                    </div>
                  </div>
                )}
                {children.length > 0 && (
                  <div>
                    <h5 className="font-medium text-sm heritage-text mb-2">
                      {t("person.children")}:
                    </h5>
                    <div className="flex flex-wrap gap-2">
                      {children.map((p) => (
                        <Badge
                          key={p.id}
                          variant="secondary"
                          className="cursor-pointer hover:bg-stone-200"
                          onClick={() => onPersonClick(p)}
                        >
                          {p.firstName} {p.lastName}
                        </Badge>
                      ))}
                    </div>
                  </div>
                )}
              </div>
            </div>
          </div>
        </ScrollArea>
      </DialogContent>
    </Dialog>
  );
}


-------------------------

import { createContext, useContext, useState } from "react";
import { useLocation } from "wouter";

type Language = "pl" | "en";

type LanguageProviderProps = {
  children: React.ReactNode;
  defaultLanguage?: Language;
};

type LanguageProviderState = {
  language: Language;
  setLanguage: (language: Language) => void;
  t: (key: string, replacements?: Record<string, string | number>) => string;
  p: (key: string) => string;
};

const translations = {
  pl: {
    "nav.title": "Korzenie rodu Gierczak i Ofiara",
    "nav.title.mobile": "Genealogia",
    "nav.home": "Strona Główna",
    "nav.tree": "Drzewo Interaktywne",
    "nav.families": "Rody",
    "nav.index": "Indeks Osób",
    "nav.gallery": "Galeria",
    "nav.sources": "Źródła",

    "theme.light": "Jasny",
    "theme.dark": "Ciemny",
    "theme.system": "System",

    "family.gierczak": "Ród Gierczaków",
    "family.ofiara": "Ród Ofiarów",

    "home.title": "Historia Rodów",
    "home.description":
      "Odkryj fascynującą historię dwóch rodów z okolic Radomia. Prześledź losy pokoleń, poznaj ich historie i zobacz, jak przeplatały się ich życiowe ścieżki.",
    "home.cta.tree": "Zobacz Interaktywne Drzewo",
    "home.cta.history": "Poznaj Historię",
    "home.about.title": "Początki Rodów",
    "home.about.p1":
      "Historia rodzin Gierczak i Ofiara sięga głęboko w przeszłość okolic radomskich. Te dwa rody, związane z Jaszowicami i Ludwikowem, tworzą fascynującą opowieść o życiu na ziemiach polskich na przestrzeni wieków.",
    "home.about.p2":
      "Dzięki zachowanym metrykom, aktom kościelnym i przekazom rodzinnym, możemy prześledzić losy pokoleń, poznać ich zawody, miejsca zamieszkania i najważniejsze wydarzenia z ich życia.",
    "home.branches.title": "Gałęzie Rodzinne",
    "home.branches.subtitle": "Poznaj historię i pochodzenie każdego z rodów",
    "home.branches.gierczak.cta": "Poznaj Wszystkich Gierczaków",
    "home.branches.ofiara.cta": "Poznaj Wszystkich Ofiarów",
    "home.explore.title": "Rozpocznij Eksplorację",
    "home.explore.subtitle":
      "Wybierz jeden ze sposobów poznawania historii rodzin",
    "home.explore.tree.title": "Drzewo Genealogiczne",
    "home.explore.tree.desc":
      "Interaktywne drzewo z wszystkimi członkami rodzin",
    "home.explore.index.title": "Indeks Osób",
    "home.explore.index.desc": "Alfabetyczna lista wszystkich osób w bazie",
    "home.explore.gallery.title": "Galeria",
    "home.explore.gallery.desc":
      "Zdjęcia, dokumenty i miejsca związane z rodzinami",

    "tree.title": "Interaktywne Drzewo Genealogiczne",
    "tree.subtitle":
      "Eksploruj powiązania rodzinne. Kliknij na osobę, aby zobaczyć szczegóły",
    "tree.filter.all": "Wszystkie Rodziny",
    "tree.legend.descendants": "Potomkowie",
    "tree.legend.marriages": "Małżeństwa",

    "index.title": "Indeks Osób",
    "index.subtitle":
      "Alfabetyczny spis wszystkich osób w bazie genealogicznej",
    "index.searchPlaceholder": "Szukaj osoby...",
    "index.clear": "Wyczyść",
    "index.resultsFound": "Znaleziono {count} osób",
    "index.resultsForLetter": ' na literę "{letter}"',
    "index.resultsForSearch": ' pasujących do "{term}"',
    "index.noResults.title": "Nie znaleziono osób",
    "index.noResults.desc":
      "Spróbuj zmienić kryteria wyszukiwania lub wyczyść filtry.",
    "index.noResults.cta": "Wyczyść filtry",
    "index.showMore": "Pokaż więcej osób",

    "gallery.title": "Galeria Rodzinna",
    "gallery.subtitle":
      "Portrety, dokumenty i miejsca związane z historią rodzin.",
    "gallery.filter.all": "Wszystkie",
    "gallery.filter.portraits": "Portrety",
    "gallery.filter.documents": "Dokumenty",
    "gallery.filter.places": "Miejsca",
    "gallery.results": "{count} elementów",
    "gallery.zoom": "Powiększ",
    "gallery.noResults.title": "Brak zdjęć w tej kategorii",
    "gallery.noResults.desc": "Wybierz inną kategorię, aby zobaczyć zdjęcia.",
    "gallery.noResults.cta": "Pokaż wszystkie",

    "gallery.item.portrait-1.title": "Portret rodzinny",
    "gallery.item.portrait-1.desc": "Rodzina (Sobień?), około 1940 roku",
    "gallery.item.portrait-2.title": "Zdjęcie portretowe",
    "gallery.item.portrait-2.desc": "Marianna Ofiara",
    "gallery.item.portrait-3.title": "Portret przodka",
    "gallery.item.portrait-3.desc":
      "Jeden z najstarszych członków rodu z czasów pańszczyźnianych",
    "gallery.item.portrait-4.title": "Portret prababci i pradziadka (?)",
    "gallery.item.portrait-4.desc": "Członkowie rodziny Sobień (Drużdżel)",
    "gallery.item.doc-1.title":
      "Akt ślubu Jana i Agnieszki Gierczak 14.11.1917",
    "gallery.item.doc-1.desc": "Księga parafialna w Zakrzowie (Zakrzewie)",
    "gallery.item.doc-2.title": "Gulinek, 1960",
    "gallery.item.doc-2.desc":
      "I Komunia Św. Zofii Bilskiej, moja mama jako matka chrzestna",
    "gallery.item.doc-3.title": "Dokument prawny",
    "gallery.item.doc-3.desc":
      "Zapis w Księdze Parafialnej w Zakrzowie (Zakrzewie)",
    "gallery.item.doc-4.title": "Drzewo genealogiczne",
    "gallery.item.doc-4.desc": "Ręcznie sporządzone drzewo rodzinne",
    "gallery.item.place-1.title": "I Komunia Św. wujka Romana Ofiary",
    "gallery.item.place-1.desc": "Roman Ofiara z babcią Heleną",
    "gallery.item.place-2.title": "Wieś Jaszowice",
    "gallery.item.place-2.desc": "Główne miejsce zamieszkania rodu Gierczaków",
    "gallery.item.place-3.title": "Stary cmentarz",
    "gallery.item.place-3.desc":
      "Miejsce spoczynku przodków, prababci Ewy i pradziadka Karola",

    "sources.title": "Źródła i Bibliografia",
    "sources.subtitle":
      "Dokumentacja źródeł wykorzystanych w badaniach genealogicznych.",
    "sources.about.title": "O projekcie",
    "sources.about.p1":
      "Ten projekt genealogiczny powstał w wyniku wieloletnich badań nad historią rodów Gierczak i Ofiara z okolic Radomia. Zebrane informacje pochodzą z różnorodnych źródeł archiwalnych, kościelnych oraz przekazów rodzinnych.",
    "sources.about.p2":
      "Wszystkie dane zostały starannie zweryfikowane i skonfrontowane z dostępnymi dokumentami. Projekt jest kontynuowany - nowe informacje są regularnie dodawane do bazy danych.",
    "sources.archive.title": "Źródła archiwalne",
    "sources.contact.title": "Masz dodatkowe informacje?",
    "sources.contact.desc":
      "Jeśli posiadasz dokumenty, zdjęcia lub wspomnienia związane z rodzinami Gierczak i Ofiara, skontaktuj się z nami. Każda informacja jest cenna dla uzupełnienia historii rodzin.",
    "sources.section.stateArchives.title": "Archiwa państwowe",
    "sources.section.stateArchives.item1":
      "Archiwum Państwowe w Radomiu - księgi metrykalne parafii Cerekiew",
    "sources.section.stateArchives.item2":
      "Archiwum Diecezjalne w Sandomierzu - akta parafialne XVIII-XX w.",
    "sources.section.stateArchives.item3":
      "Urząd Stanu Cywilnego w Radomiu - akty stanu cywilnego",
    "sources.section.churchSources.title": "Źródła kościelne",
    "sources.section.churchSources.item1":
      "Księgi chrztów parafii pw. św. Stanisława w Cerekwi (1780-1950)",
    "sources.section.churchSources.item2":
      "Księgi ślubów parafii Cerekiew (1790-1940)",
    "sources.section.churchSources.item3":
      "Księgi zmarłych cmentarza parafialnego w Cerekwi i Zakrzowie (Zakrzewie)",
    "sources.section.churchSources.item4":
      "Kronika parafialna - zapisy o mieszkańcach Jaszowic i Ludwikowa",
    "sources.section.familyAccounts.title": "Przekazy rodzinne",
    "sources.section.familyAccounts.item1":
      "Dokumenty osobiste zachowane w rodzinie",
    "sources.section.familyAccounts.item2":
      "Relacje ustne przekazywane przez pokolenia",
    "sources.section.familyAccounts.item3":
      "Fotografie rodzinne z XIX i XX wieku",
    "sources.section.familyAccounts.item4":
      "Korespondencja między członkami rodzin",
    "sources.section.literature.title": "Literatura i opracowania",
    "sources.section.literature.item1":
      "„Osadnictwo i gospodarka powiatu radomskiego w XVI–XVIII wieku”, Z. Guldon, W. Kowalski, J. Muszyńska, S. Zieliński, 1995",
    "sources.section.literature.item2":
      "„Rody szlacheckie ziemi radomskiej”, D. Kupisz, 2009",
    "sources.section.literature.item3":
      "„Wieś Radomska”, cykl periodyczny, tomy z różnych lat, Muzeum Wsi Radomskiej",

    "familyBranch.history.title": "Historia rodu",
    "familyBranch.history.places": "Główne miejscowości",
    "familyBranch.history.membersInDb": "osób w bazie",
    "familyBranch.members.title": "Członkowie rodziny",
    "familyBranch.members.viewInTree": "Zobacz w drzewie",
    "familyBranch.members.noData.title": "Brak danych",
    "familyBranch.members.noData.desc":
      "Nie znaleziono osób z tej gałęzi rodziny w bazie danych.",
    "familyBranch.places.title": "Kluczowe miejsca",
    "familyBranch.notFound.title": "Nieznana rodzina",
    "familyBranch.notFound.desc": "Wybierz prawidłową gałąź rodzinną.",

    "person.born": "ur.",
    "person.bornIn": "Ur.",
    "person.died": "zm.",
    "person.maidenName": "z d.",
    "person.occupation": "Zawód",
    "person.biography": "Biografia",
    "person.family": "Rodzina",
    "person.parents": "Rodzice",
    "person.spouse": "Małżonkowie",
    "person.children": "Dzieci",
    "person.marriedOn": "ślub",

    "footer.title": "Korzenie rodu",
    "footer.description":
      "Cyfrowe archiwum i interaktywne drzewo genealogiczne rodów Gierczak i Ofiara z okolic Radomia.",
    "footer.nav.title": "Nawigacja",
    "footer.nav.home": "Strona Główna",
    "footer.nav.tree": "Drzewo Interaktywne",
    "footer.nav.gierczak": "Ród Gierczaków",
    "footer.nav.ofiara": "Ród Ofiarów",
    "footer.nav.gallery": "Galeria",
    "footer.contact.title": "Kontakt",
    "footer.contact.email": "[kontakt@genealogia.pl]",
    "footer.contact.location": "Okolice Radomia",
    "footer.contact.projectInfo":
      "Projekt genealogiczny\nzachowujący pamięć o przodkach",
    "footer.copyright":
      "© {year} Korzenie rodu Gierczak i Ofiara. Wszystkie prawa zastrzeżone.",

    paths: {
      home: "/",
      tree: "/drzewo",
      index: "/indeks-osob",
      gallery: "/galeria",
      sources: "/zrodla",
      familyBase: "/rod",
    },
  },
  en: {
    "nav.title": "Roots of the Gierczak & Ofiara Family",
    "nav.title.mobile": "Genealogy",
    "nav.home": "Home",
    "nav.tree": "Interactive Tree",
    "nav.families": "Families",
    "nav.index": "Person Index",
    "nav.gallery": "Gallery",
    "nav.sources": "Sources",

    "theme.light": "Light",
    "theme.dark": "Dark",
    "theme.system": "System",

    "family.gierczak": "Gierczak Family",
    "family.ofiara": "Ofiara Family",

    "home.title": "History of the Families",
    "home.description":
      "Discover the fascinating history of two families from the Radom area. Trace the fate of generations, learn their stories and see how their life paths intertwined.",
    "home.cta.tree": "View Interactive Tree",
    "home.cta.history": "Learn the History",
    "home.about.title": "The Beginnings of the Families",
    "home.about.p1":
      "The history of the Gierczak and Ofiara families dates far back into the past of the Radom area. These two families, connected with Jaszowice and Ludwików, create a fascinating story of life on Polish lands over the centuries.",
    "home.about.p2":
      "Thanks to preserved metrics, church records, and family accounts, we can trace the destinies of generations, learn about their professions, places of residence, and the most important events of their lives.",
    "home.branches.title": "Family Branches",
    "home.branches.subtitle": "Learn the history and origin of each family",
    "home.branches.gierczak.cta": "Meet All the Gierczaks",
    "home.branches.ofiara.cta": "Meet All the Ofiaras",
    "home.explore.title": "Start Exploring",
    "home.explore.subtitle":
      "Choose one of the ways to learn the family history",
    "home.explore.tree.title": "Genealogical Tree",
    "home.explore.tree.desc": "Interactive tree with all family members",
    "home.explore.index.title": "Person Index",
    "home.explore.index.desc":
      "Alphabetical list of all people in the database",
    "home.explore.gallery.title": "Gallery",
    "home.explore.gallery.desc":
      "Photos, documents, and places related to the families",

    "tree.title": "Interactive Genealogical Tree",
    "tree.subtitle":
      "Explore family connections. Click on a person to see details",
    "tree.filter.all": "All Families",
    "tree.legend.descendants": "Descendants",
    "tree.legend.marriages": "Marriages",

    "index.title": "Person Index",
    "index.subtitle":
      "Alphabetical list of all people in the genealogical database",
    "index.searchPlaceholder": "Search for a person...",
    "index.clear": "Clear",
    "index.resultsFound": "Found {count} people",
    "index.resultsForLetter": ' for letter "{letter}"',
    "index.resultsForSearch": ' matching "{term}"',
    "index.noResults.title": "No People Found",
    "index.noResults.desc":
      "Try changing the search criteria or clearing the filters.",
    "index.noResults.cta": "Clear filters",
    "index.showMore": "Show more people",

    "gallery.title": "Family Gallery",
    "gallery.subtitle":
      "Portraits, documents, and places related to the family history.",
    "gallery.filter.all": "All",
    "gallery.filter.portraits": "Portraits",
    "gallery.filter.documents": "Documents",
    "gallery.filter.places": "Places",
    "gallery.results": "{count} items",
    "gallery.zoom": "Zoom",
    "gallery.noResults.title": "No images in this category",
    "gallery.noResults.desc": "Please select another category to view images.",
    "gallery.noResults.cta": "Show all",

    "gallery.item.portrait-1.title": "Family Portrait",
    "gallery.item.portrait-1.desc": "Sobień (?) family, around 1940",
    "gallery.item.portrait-2.title": "Portrait Photo",
    "gallery.item.portrait-2.desc": "Marianna Ofiara",
    "gallery.item.portrait-3.title": "Ancestor's Portrait",
    "gallery.item.portrait-3.desc":
      "One of the oldest family members from the times of serfdom",
    "gallery.item.portrait-4.title":
      "Great-grandmother and great-grandfather's portrait (?)",
    "gallery.item.portrait-4.desc": "Members of the Sobień (Drużdżel) family",
    "gallery.item.doc-1.title":
      "Marriage certificate of Jan and Agnieszka Gierczak 11/14/1917",
    "gallery.item.doc-1.desc": "Parish register in Zakrzów (Zakrzew)",
    "gallery.item.doc-2.title": "Gulinek, 1960",
    "gallery.item.doc-2.desc":
      "First Holy Communion of Zofia Bilska, my mother as godmother",
    "gallery.item.doc-3.title": "Legal Document",
    "gallery.item.doc-3.desc":
      "Entry in the Parish Register of Zakrzów (Zakrzew)",
    "gallery.item.doc-4.title": "Genealogical Tree",
    "gallery.item.doc-4.desc": "Hand-drawn family tree",
    "gallery.item.place-1.title":
      "First Holy Communion of my uncle Roman Ofiara",
    "gallery.item.place-1.desc": "Roman Ofiara with grandmother Helena",
    "gallery.item.place-2.title": "Jaszowice Village",
    "gallery.item.place-2.desc":
      "The main place of residence of the Gierczak family",
    "gallery.item.place-3.title": "Old Cemetery",
    "gallery.item.place-3.desc":
      "Resting place of ancestors, great-grandmother Ewa and great-grandfather Karol",

    "sources.title": "Sources and Bibliography",
    "sources.subtitle":
      "Documentation of sources used in genealogical research.",
    "sources.about.title": "About the project",
    "sources.about.p1":
      "This genealogical project is the result of many years of research into the history of the Gierczak and Ofiara families from the Radom area. The information gathered comes from a variety of archival, church, and family sources.",
    "sources.about.p2":
      "All data has been carefully verified and cross-referenced with available documents. The project is ongoing - new information is regularly added to the database.",
    "sources.archive.title": "Archival Sources",
    "sources.contact.title": "Do you have additional information?",
    "sources.contact.desc":
      "If you have documents, photos, or memories related to the Gierczak and Ofiara families, please contact us. Every piece of information is valuable for completing the family history.",
    "sources.section.stateArchives.title": "State Archives",
    "sources.section.stateArchives.item1":
      "State Archives in Radom - parish registers of the Cerekiew parish",
    "sources.section.stateArchives.item2":
      "Diocesan Archives in Sandomierz - parish records from the 18th-20th centuries",
    "sources.section.stateArchives.item3":
      "Civil Registry Office in Radom - civil status records",
    "sources.section.churchSources.title": "Church Sources",
    "sources.section.churchSources.item1":
      "Baptismal records of the St. Stanislaus parish in Cerekiew (1780-1950)",
    "sources.section.churchSources.item2":
      "Marriage records of the Cerekiew parish (1790-1940)",
    "sources.section.churchSources.item3":
      "Death records from the parish cemetery in Cerekiew and Zakrzów (Zakrzew)",
    "sources.section.churchSources.item4":
      "Parish chronicle - records about the inhabitants of Jaszowice and Ludwików",
    "sources.section.familyAccounts.title": "Family Accounts",
    "sources.section.familyAccounts.item1":
      "Personal documents preserved in the family",
    "sources.section.familyAccounts.item2":
      "Oral accounts passed down through generations",
    "sources.section.familyAccounts.item3":
      "Family photographs from the 19th and 20th centuries",
    "sources.section.familyAccounts.item4":
      "Correspondence between family members",
    "sources.section.literature.title": "Literature and Studies",
    "sources.section.literature.item1":
      "“Settlement and Economy of the Radom County in the 16th–18th Centuries”, Z. Guldon, W. Kowalski, J. Muszyńska, S. Zieliński, 1995",
    "sources.section.literature.item2":
      "“Noble Families of the Radom Land”, D. Kupisz, 2009",
    "sources.section.literature.item3":
      "“Wieś Radomska” (periodical series), volumes from various years, Museum of the Radom Village",

    "familyBranch.history.title": "History of the Family",
    "familyBranch.history.places": "Main Locations",
    "familyBranch.history.membersInDb": "people in database",
    "familyBranch.members.title": "Family Members",
    "familyBranch.members.viewInTree": "View in Tree",
    "familyBranch.members.noData.title": "No Data",
    "familyBranch.members.noData.desc":
      "No people from this family branch were found in the database.",
    "familyBranch.places.title": "Key Places",
    "familyBranch.notFound.title": "Unknown family",
    "familyBranch.notFound.desc": "Please select a valid family branch.",

    "person.born": "b.",
    "person.bornIn": "Born",
    "person.died": "d.",
    "person.maidenName": "née",
    "person.occupation": "Occupation",
    "person.biography": "Biography",
    "person.family": "Family",
    "person.parents": "Parents",
    "person.spouse": "Spouses",
    "person.children": "Children",
    "person.marriedOn": "m.",

    "footer.title": "Family Roots",
    "footer.description":
      "A digital archive and interactive genealogical tree of the Gierczak and Ofiara families from the Radom area.",
    "footer.nav.title": "Navigation",
    "footer.nav.home": "Home",
    "footer.nav.tree": "Interactive Tree",
    "footer.nav.gierczak": "Gierczak Family",
    "footer.nav.ofiara": "Ofiara Family",
    "footer.nav.gallery": "Gallery",
    "footer.contact.title": "Contact",
    "footer.contact.email": "[contact@genealogy.com]",
    "footer.contact.location": "Radom Area",
    "footer.contact.projectInfo":
      "A genealogical project\npreserving the memory of ancestors",
    "footer.copyright":
      "© {year} Roots of the Gierczak & Ofiara Family. All rights reserved.",

    paths: {
      home: "/",
      tree: "/tree",
      index: "/person-index",
      gallery: "/gallery",
      sources: "/sources",
      familyBase: "/family",
    },
  },
};

const initialState: LanguageProviderState = {
  language: "pl",
  setLanguage: () => null,
  t: () => "",
  p: () => "",
};

const LanguageProviderContext =
  createContext<LanguageProviderState>(initialState);

export function LanguageProvider({
  children,
  defaultLanguage = "pl",
  ...props
}: LanguageProviderProps) {
  const [language, setLanguage] = useState<Language>(
    () =>
      (localStorage.getItem("genealogy-language") as Language) ||
      defaultLanguage
  );

  const [location, setLocation] = useLocation();

  const t = (
    key: string,
    replacements?: Record<string, string | number>
  ): string => {
    let translation = (translations[language] as any)[key] || key;
    if (replacements) {
      Object.keys(replacements).forEach((rKey) => {
        translation = translation.replace(
          `{${rKey}}`,
          String(replacements[rKey])
        );
      });
    }
    return translation;
  };

  const p = (key: string): string => {
    return (translations[language].paths as any)[key] || "/";
  };

  const handleSetLanguage = (newLanguage: Language) => {
    if (language !== newLanguage) {
      localStorage.setItem("genealogy-language", newLanguage);
      setLanguage(newLanguage);

      const currentPathKey = Object.keys(translations[language].paths).find(
        (key) => (translations[language].paths as any)[key] === location
      );

      if (currentPathKey) {
        const newPath = (translations[newLanguage].paths as any)[
          currentPathKey
        ];
        setLocation(newPath || "/");
      } else {
        setLocation(translations[newLanguage].paths.home);
      }
    }
  };

  const value = {
    language,
    setLanguage: handleSetLanguage,
    t,
    p,
  };

  return (
    <LanguageProviderContext.Provider {...props} value={value}>
      {children}
    </LanguageProviderContext.Provider>
  );
}

export const useLanguage = () => {
  const context = useContext(LanguageProviderContext);
  if (context === undefined)
    throw new Error("useLanguage must be used within a LanguageProvider");
  return context;
};


------------------------------

import { useRoute } from "wouter";
import { useQuery } from "@tanstack/react-query";
import { Card, CardContent } from "@/components/ui/card";
import { Button } from "@/components/ui/button";
import PersonCard from "@/components/ui/PersonCard";
import PersonModal from "@/components/ui/PersonModal";
import { Person } from "@shared/schema";
import { MapPin, Users, Eye } from "lucide-react";
import { useState } from "react";
import SEO from "@/components/SEO";
import genealogyData from "@/data/genealogy.json";
import { Link } from "wouter";
import { useLanguage } from "@/hooks/useLanguage";

export default function FamilyBranchView() {
  // 1. POBIERAMY 'language' Z NASZEGO HOOKA
  const { t, p, language } = useLanguage();
  const [, params] = useRoute(`${p("familyBase")}/:family`);
  const family = params?.family as "gierczak" | "ofiara";

  const [selectedPerson, setSelectedPerson] = useState<Person | null>(null);
  const [modalOpen, setModalOpen] = useState(false);

  const { data: allPeople = [] } = useQuery({
    queryKey: ["/api/people"],
    queryFn: () => Promise.resolve(genealogyData.people as Person[]),
  });

  const familyPeople = allPeople.filter((person) => person.family === family);

  const familyInfo = {
    gierczak: {
      name: t("family.gierczak"),
      description: t("home.about.p1"),
      places: ["Jaszowice", "Gulinek"],
      color: "heritage-burgundy",
      imageUrl: "/images/jaszowice.png",
    },
    ofiara: {
      name: t("family.ofiara"),
      description: t("home.about.p1"),
      places: ["Ludwików", "Gulinek"],
      color: "heritage-teal",
      imageUrl: "/images/6.avif",
    },
  };

  const currentFamily = family ? familyInfo[family] : null;

  if (!family || !currentFamily) {
    return (
      <div className="min-h-screen flex items-center justify-center">
        <div className="text-center">
          <h1 className="text-2xl font-bold heritage-text mb-4">
            {t("familyBranch.notFound.title")}
          </h1>
          <p className="text-stone-600">{t("familyBranch.notFound.desc")}</p>
        </div>
      </div>
    );
  }

  const handlePersonClick = (person: Person) => {
    setSelectedPerson(person);
    setModalOpen(true);
  };

  return (
    <>
      <SEO
        title={currentFamily.name}
        description={`${
          currentFamily.description
        } Poznaj historię i członków ${currentFamily.name.toLowerCase()}.`}
      />

      <div className="min-h-screen bg-stone-50">
        <div className="relative h-80 md:h-96">
          <img
            src={currentFamily.imageUrl}
            alt={`Miejsca związane z ${currentFamily.name}`}
            className="w-full h-full object-cover"
          />
          <div className="absolute inset-0 bg-black/40"></div>
          <div className="absolute inset-0 flex items-center justify-center">
            <div className="text-center text-white">
              <h1 className="font-serif text-4xl md:text-5xl font-bold mb-4">
                {currentFamily.name}
              </h1>
              <p className="text-xl md:text-2xl">
                {currentFamily.places.join(", ")}
              </p>
            </div>
          </div>
        </div>

        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
          <div className="mb-12">
            <Card>
              <CardContent className="p-8">
                <div className="grid md:grid-cols-2 gap-8 items-center">
                  <div>
                    <h2 className="font-serif text-2xl font-semibold heritage-text mb-4">
                      {t("familyBranch.history.title")}
                    </h2>
                    <p className="text-stone-600 leading-relaxed mb-6">
                      {currentFamily.description}
                    </p>
                    <div className="flex items-center space-x-4 text-sm text-stone-600">
                      <div className="flex items-center">
                        <MapPin className="w-4 h-4 mr-1" />
                        {t("familyBranch.history.places")}:
                      </div>
                      <div className="flex space-x-2">
                        {currentFamily.places.map((place) => (
                          <span
                            key={place}
                            className="bg-stone-100 px-2 py-1 rounded"
                          >
                            {place}
                          </span>
                        ))}
                      </div>
                    </div>
                  </div>
                  <div className="text-center">
                    <div
                      className={`inline-flex items-center justify-center w-24 h-24 rounded-full bg-gradient-to-br from-stone-100 to-stone-200 mb-4`}
                    >
                      <Users className={`w-12 h-12 ${currentFamily.color}`} />
                    </div>
                    <p className="text-2xl font-bold heritage-text">
                      {familyPeople.length}
                    </p>
                    <p className="text-stone-600">
                      {t("familyBranch.history.membersInDb")}
                    </p>
                  </div>
                </div>
              </CardContent>
            </Card>
          </div>

          <div className="mb-8">
            <div className="flex items-center justify-between mb-6">
              <h2 className="font-serif text-3xl font-semibold heritage-text">
                {t("familyBranch.members.title")}
              </h2>
              <Button
                asChild
                className={`btn-${currentFamily.color.replace(
                  "heritage-",
                  ""
                )}`}
              >
                <Link href={p("tree")}>
                  <Eye className="w-4 h-4 mr-2" />
                  {t("familyBranch.members.viewInTree")}
                </Link>
              </Button>
            </div>

            {familyPeople.length > 0 ? (
              <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
                {familyPeople
                  .sort((a, b) => {
                    const birthYearA = a.birthDate ? parseInt(a.birthDate) : 0;
                    const birthYearB = b.birthDate ? parseInt(b.birthDate) : 0;
                    return birthYearA - birthYearB;
                  })
                  .map((person) => (
                    <PersonCard
                      key={person.id}
                      person={person}
                      onClick={() => handlePersonClick(person)}
                    />
                  ))}
              </div>
            ) : (
              <Card>
                <CardContent className="p-8 text-center">
                  <Users className="w-12 h-12 text-stone-400 mx-auto mb-4" />
                  <h3 className="text-lg font-semibold heritage-text mb-2">
                    {t("familyBranch.members.noData.title")}
                  </h3>
                  <p className="text-stone-600">
                    {t("familyBranch.members.noData.desc")}
                  </p>
                </CardContent>
              </Card>
            )}
          </div>

          <div>
            <h2 className="font-serif text-3xl font-semibold heritage-text mb-6">
              {t("familyBranch.places.title")}
            </h2>
            <div className="grid md:grid-cols-2 gap-6">
              {genealogyData.places
                .filter((place) => currentFamily.places.includes(place.name))
                .map((place) => (
                  <Card key={place.name} className="overflow-hidden">
                    <div className="relative h-80">
                      <img
                        src={place.imageUrl}
                        alt={place.name}
                        className="w-full h-full object-cover"
                        loading="lazy"
                      />
                      <div className="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"></div>
                      <div className="absolute bottom-4 left-4">
                        <h3 className="font-serif text-xl font-semibold text-white">
                          {place.name}
                        </h3>
                      </div>
                    </div>
                    <CardContent className="p-4">
                      {/* 2. POPRAWIAMY SPOSÓB WYŚWIETLANIA OPISU */}
                      <p className="text-stone-600">
                        {typeof place.description === "object"
                          ? place.description[language] || place.description.pl
                          : place.description}
                      </p>
                    </CardContent>
                  </Card>
                ))}
            </div>
          </div>
        </div>

        <PersonModal
          person={selectedPerson}
          isOpen={modalOpen}
          onClose={() => setModalOpen(false)}
          onPersonClick={handlePersonClick}
          allPeople={allPeople}
        />
      </div>
    </>
  );
}


----------------------------

{
  "people": [
    {
      "id": 1,
      "firstName": "Tomasz",
      "lastName": "Gierczak",
      "photoUrl": "/images/tomasz.png",
      "family": "gierczak",
      "spouseIds": [2],
      "childIds": [3, 4, 5, 6, 7],
      "parentIds": [],
      "marriages": [{ "spouseId": 2, "date": "?" }],
      "biography": {
        "pl": "Protoplasta rodu Gierczak. Ożenił się z Zofią Giel vel Gielowską. Mieli 5 dzieci. Mieszkali we wsi Jaszowice k. Radomia.",
        "en": "Progenitor of the Gierczak family. He married Zofia Giel vel Gielowska. They had 5 children. They lived in the village of Jaszowice near Radom."
      }
    },
    {
      "id": 2,
      "firstName": "Zofia",
      "lastName": "Gerczak vel Gierczak",
      "maidenName": "Giel vel Gielowska",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [1],
      "childIds": [3, 4, 5, 6, 7],
      "parentIds": [],
      "marriages": [{ "spouseId": 1, "date": "?" }],
      "biography": {
        "pl": "Żona Tomasza Gerczaka vel Gierczaka. Brak dostępu do danych.",
        "en": "Wife of Tomasz Gerczak vel Gierczak. No data available."
      }
    },
    {
      "id": 3,
      "firstName": "Franciszek",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1816-11-24",
      "deathDate": null,
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [1, 2],
      "biography": {
        "pl": "Syn Tomasza i Zofii Gerczak vel Gierczak.",
        "en": "Son of Tomasz and Zofia Gerczak vel Gierczak."
      }
    },
    {
      "id": 4,
      "firstName": "Ambroży",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "ok. 1800",
      "deathDate": "1836",
      "photoUrl": "/images/ambrozy.png",
      "family": "gierczak",
      "spouseIds": [8],
      "childIds": [59, 60, 61, 62, 63, 13, 64, 65],
      "parentIds": [1, 2],
      "occupation": { "pl": "Gospodarz", "en": "Farmer" },
      "marriages": [{ "spouseId": 8, "date": "1820 ?" }],
      "biography": {
        "pl": "3 x pradziadek. Urodził się pod koniec XVIII w. lub na początku XIX w. Ożenił się prawdopodobnie w 1820 z Kunegundą Kanią. Mieli 8 dzieci.",
        "en": "3rd great-grandfather. Born at the end of the 18th or beginning of the 19th century. He probably married Kunegunda Kania in 1820. They had 8 children."
      }
    },
    {
      "id": 5,
      "firstName": "Michał",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": null,
      "deathDate": "1854",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [1, 2],
      "biography": {
        "pl": "Syn Tomasza i Zofii Gerczak vel Gierczak.",
        "en": "Son of Tomasz and Zofia Gerczak vel Gierczak."
      }
    },
    {
      "id": 6,
      "firstName": "Andrzej",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": null,
      "deathDate": "1868",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [101],
      "childIds": [],
      "parentIds": [1, 2],
      "marriages": [{ "spouseId": 101, "date": "1837" }],
      "biography": {
        "pl": "Syn Tomasza i Zofii. Ożenił się w 1837 z Teresą Pączek, której rodzicami byli Jakub i Magdalena. Ślub odbył się w parafii Cerekiew.",
        "en": "Son of Tomasz and Zofia. He married Teresa Pączek in 1837, whose parents were Jakub and Magdalena. The wedding took place in the Cerekiew parish."
      }
    },
    {
      "id": 7,
      "firstName": "Marianna",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": null,
      "deathDate": "1916",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [1, 2],
      "biography": {
        "pl": "Córka Tomasza i Zofii Gerczak vel Gierczak.",
        "en": "Daughter of Tomasz and Zofia Gerczak vel Gierczak."
      }
    },
    {
      "id": 8,
      "firstName": "Kunegunda",
      "lastName": "Remisiewska",
      "maidenName": "Kania vel Kanionka",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [4, 107],
      "childIds": [59, 60, 61, 62, 63, 13, 64, 65],
      "parentIds": [],
      "marriages": [
        { "spouseId": 4, "date": "1820 ?" },
        { "spouseId": 107, "date": "1837" }
      ],
      "biography": {
        "pl": "Żona Ambrożego. Rodzicami Kunegundy byli Stanisław i Magdalena. Po śmierci Ambrożego wyszła za mąż w 1837 za Mikołaja Remisiewskiego.",
        "en": "Wife of Ambroży. Kunegunda's parents were Stanisław and Magdalena. After Ambroży's death, she married Mikołaj Remisiewski in 1837."
      }
    },
    {
      "id": 13,
      "firstName": "Karol",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1828",
      "deathDate": "1903",
      "photoUrl": "/images/Karol.jpg",
      "family": "gierczak",
      "spouseIds": [18],
      "childIds": [19, 68, 69],
      "parentIds": [4, 8],
      "occupation": { "pl": "Gospodarz", "en": "Farmer" },
      "marriages": [{ "spouseId": 18, "date": "1857-11-23" }],
      "biography": {
        "pl": "Syn Ambrożego i Kunegundy. Żoną Karola została 23.11.1857 Tekla Kozyra. Zamieszkali w Gulinku. Mieli 3 dzieci.",
        "en": "Son of Ambroży and Kunegunda. Karol's wife became Tekla Kozyra on November 23, 1857. They settled in Gulinek. They had 3 children."
      }
    },
    {
      "id": 18,
      "firstName": "Tekla",
      "lastName": "Kozyra vel Kozera",
      "maidenName": "Adamczyk",
      "birthDate": "1831-10-19",
      "deathDate": "1909",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [13],
      "childIds": [19, 68, 69],
      "parentIds": [],
      "marriages": [{ "spouseId": 13, "date": "1857-11-23" }],
      "biography": {
        "pl": "Żona Karola Gerczaka. Rodzicami Tekli byli Adam i Józefa Kredowska.",
        "en": "Wife of Karol Gerczak. Tekla's parents were Adam and Józefa Kredowska."
      }
    },
    {
      "id": 19,
      "firstName": "Paweł",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1867-01-11",
      "deathDate": "1935-07-29",
      "photoUrl": "/images/Pawel.jpg",
      "family": "gierczak",
      "spouseIds": [22],
      "childIds": [70, 71, 72, 26, 73, 74, 75, 76, 77, 78],
      "parentIds": [13, 18],
      "occupation": { "pl": "Gospodarz", "en": "Farmer" },
      "marriages": [{ "spouseId": 22, "date": "1887" }],
      "biography": {
        "pl": "Syn Karola i Tekli. Pojął za żonę w 1887 Katarzynę Czerwińską. Mieli 10 dzieci. Był dziadkiem Józefa ur. w 1930.",
        "en": "Son of Karol and Tekla. He married Katarzyna Czerwińska in 1887. They had 10 children. He was the grandfather of Józef, born in 1930."
      }
    },
    {
      "id": 22,
      "firstName": "Katarzyna",
      "lastName": "Gerczak vel Gierczak",
      "maidenName": "Czerwińska",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [19],
      "childIds": [70, 71, 72, 26, 73, 74, 75, 76, 77, 78],
      "parentIds": [],
      "marriages": [{ "spouseId": 19, "date": "1887" }],
      "biography": {
        "pl": "Żona Pawła. Rodzicami Katarzyny byli Mateusz i Marianna Kieraga.",
        "en": "Wife of Paweł. Katarzyna's parents were Mateusz and Marianna Kieraga."
      }
    },
    {
      "id": 26,
      "firstName": "Jan",
      "lastName": "Gierczak",
      "birthDate": "1891-06-18",
      "deathDate": "1958-11-07",
      "photoUrl": "/images/4.jpg",
      "family": "gierczak",
      "spouseIds": [32],
      "childIds": [79, 80, 81, 82, 83, 84, 39, 85],
      "parentIds": [19, 22],
      "occupation": { "pl": "Gospodarz", "en": "Farmer" },
      "marriages": [{ "spouseId": 32, "date": "1917-11-14" }],
      "biography": {
        "pl": "Syn Pawła i Katarzyny. Ojciec Józefa ur. 1930. Z Agnieszką Baćmagą ożenił się w 1917. Mieli ośmioro dzieci.",
        "en": "Son of Paweł and Katarzyna. Father of Józef, born in 1930. He married Agnieszka Baćmaga in 1917. They had eight children."
      }
    },
    {
      "id": 32,
      "firstName": "Agnieszka",
      "lastName": "Gierczak",
      "maidenName": "Baćmaga z d. Szewczyk",
      "birthDate": "1894-04-13",
      "deathDate": "1969-11-08",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [26],
      "childIds": [79, 80, 81, 82, 83, 84, 39, 85],
      "parentIds": [],
      "marriages": [{ "spouseId": 26, "date": "1917-11-14" }],
      "biography": {
        "pl": "Żona Jana, babcia autora. Urodziła się z rodziców Kazimierza i Antonimy Szewczyk. Mieli ośmioro dzieci.",
        "en": "Wife of Jan, the author's grandmother. She was born to Kazimierz and Antonina Szewczyk. They had eight children."
      }
    },
    {
      "id": 39,
      "firstName": "Józef",
      "lastName": "Gierczak",
      "birthDate": "1930-02-23",
      "deathDate": "1996-08-08",
      "photoUrl": "/images/51.png",
      "family": "gierczak",
      "spouseIds": [41],
      "childIds": [86, 87, 88],
      "parentIds": [26, 32],
      "occupation": { "pl": "Robotnik bezrolny", "en": "Landless worker" },
      "marriages": [{ "spouseId": 41, "date": "1952-11-26" }],
      "biography": {
        "pl": "Syn Jana i Agnieszki, ojciec autora. Z Marianną Ofiarą ożenił się w 1952. Mieli troje dzieci.",
        "en": "Son of Jan and Agnieszka, the author's father. He married Marianna Ofiara in 1952. They had three children."
      }
    },
    {
      "id": 41,
      "firstName": "Marianna",
      "lastName": "Gierczak",
      "maidenName": "Ofiara z d. Sobień",
      "birthDate": "1931-12-08",
      "deathDate": "1987-01-26",
      "photoUrl": "/images/43.png",
      "family": "ofiara",
      "spouseIds": [39],
      "childIds": [86, 87, 88],
      "parentIds": [45, 46],
      "marriages": [{ "spouseId": 39, "date": "1952-11-26" }],
      "biography": {
        "pl": "Żona Józefa Gierczaka, matka autora. Za Józefa Gierczaka wyszła w 1952. Córka Józefa Ofiary i jego drugiej żony, Heleny z d. Sobień.",
        "en": "Wife of Józef Gierczak, the author's mother. She married Józef Gierczak in 1952. Daughter of Józef Ofiara and his second wife, Helena née Sobień."
      }
    },
    {
      "id": 45,
      "firstName": "Józef",
      "lastName": "Ofiara",
      "birthDate": "1896",
      "deathDate": "1968-06-17",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [47, 46],
      "childIds": [92, 93, 94, 95, 96, 97, 98, 41, 99],
      "parentIds": [57, 58],
      "occupation": { "pl": "Gospodarz", "en": "Farmer" },
      "marriages": [
        { "spouseId": 47, "date": "1918" },
        { "spouseId": 46, "date": "1926-02-09" }
      ],
      "biography": {
        "pl": "Dziadek autora. Syn Andrzeja Ofiary i Franciszki Szaruch. W 1918 poślubił Rozalię Mitak (zm. 1925), z którą miał 3 synów. Po jej śmierci ożenił się w 1926 z Heleną Sobień, z którą miał 6 dzieci.",
        "en": "The author's grandfather. Son of Andrzej Ofiara and Franciszka Szaruch. In 1918, he married Rozalia Mitak (d. 1925), with whom he had 3 sons. After her death, he married Helena Sobień in 1926, with whom he had 6 children."
      }
    },
    {
      "id": 46,
      "firstName": "Helena",
      "lastName": "Ofiara",
      "maidenName": "Sobień",
      "birthDate": "1905-01-09",
      "deathDate": "1978-09-06",
      "photoUrl": "/images/8.png",
      "family": "ofiara",
      "spouseIds": [45],
      "childIds": [95, 96, 97, 98, 41, 99],
      "parentIds": [119, 120],
      "marriages": [{ "spouseId": 45, "date": "1926-02-09" }],
      "biography": {
        "pl": "Babcia autora, druga żona Józefa Ofiary. Z Józefem miała sześcioro dzieci. Miała liczne rodzeństwo rodzone i przyrodnie.",
        "en": "The author's grandmother, the second wife of Józef Ofiara. She had six children with Józef. She had numerous full and half-siblings."
      }
    },
    {
      "id": 47,
      "firstName": "Rozalia",
      "lastName": "Ofiara",
      "maidenName": "Mitak",
      "birthDate": "1892",
      "deathDate": "1925",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [45],
      "childIds": [92, 93, 94],
      "parentIds": [121, 120],
      "marriages": [{ "spouseId": 45, "date": "1918" }],
      "biography": {
        "pl": "Pierwsza żona Józefa Ofiary. Córka Michała Mitaka i Ewy Drużdżel. Zmarła w wieku 33 lat. Matka Stanisława, Piotra i Jana.",
        "en": "First wife of Józef Ofiara. Daughter of Michał Mitak and Ewa Drużdżel. She died at the age of 33. Mother of Stanisław, Piotr, and Jan."
      }
    },
    {
      "id": 57,
      "firstName": "Andrzej",
      "lastName": "Ofiara",
      "photoUrl": "/images/andrzej.png",
      "family": "ofiara",
      "spouseIds": [58],
      "childIds": [89, 90, 45, 91],
      "parentIds": [],
      "occupation": { "pl": "Gospodarz", "en": "Farmer" },
      "marriages": [{ "spouseId": 58, "date": "18xx" }],
      "biography": {
        "pl": "Pradziadek autora. Ożenił się z Franciszką Szaruch (Saruch). Mieli 4 dzieci.",
        "en": "The author's great-grandfather. He married Franciszka Szaruch (Saruch). They had 4 children."
      }
    },
    {
      "id": 58,
      "firstName": "Franciszka",
      "lastName": "Ofiara",
      "maidenName": "Szaruch",
      "birthDate": "1876",
      "deathDate": null,
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [57],
      "childIds": [89, 90, 45, 91],
      "parentIds": [],
      "marriages": [{ "spouseId": 57, "date": "18xx" }],
      "biography": {
        "pl": "Żona Andrzeja Ofiary. Brak danych.",
        "en": "Wife of Andrzej Ofiara. No data available."
      }
    },
    {
      "id": 59,
      "firstName": "Józefa",
      "lastName": "Wieracha",
      "maidenName": "Gerczak vel Gierczak",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [102],
      "childIds": [],
      "parentIds": [4, 8],
      "marriages": [{ "spouseId": 102, "date": "1841" }],
      "biography": {
        "pl": "Córka Ambrożego i Kunegundy. W 1841 wyszła za mąż za Józefa Wierachę.",
        "en": "Daughter of Ambroży and Kunegunda. In 1841, she married Józef Wieracha."
      }
    },
    {
      "id": 60,
      "firstName": "Jadwiga",
      "lastName": "Kornafel",
      "maidenName": "Gerczak vel Gierczak",
      "birthDate": null,
      "deathDate": "1884",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [103],
      "childIds": [],
      "parentIds": [4, 8],
      "marriages": [{ "spouseId": 103, "date": "1842" }],
      "biography": {
        "pl": "Córka Ambrożego i Kunegundy. W 1842 poślubiła Franciszka Kornafela.",
        "en": "Daughter of Ambroży and Kunegunda. In 1842, she married Franciszek Kornafel."
      }
    },
    {
      "id": 61,
      "firstName": "Marianna",
      "lastName": "Stępień",
      "maidenName": "Gerczak vel Gierczak",
      "birthDate": "1833",
      "deathDate": null,
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [104],
      "childIds": [],
      "parentIds": [4, 8],
      "marriages": [{ "spouseId": 104, "date": "1852" }],
      "biography": {
        "pl": "Córka Ambrożego i Kunegundy. W 1852 wyszła za mąż za Antoniego Stępnia.",
        "en": "Daughter of Ambroży and Kunegunda. In 1852, she married Antoni Stępień."
      }
    },
    {
      "id": 62,
      "firstName": "Katarzyna",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": null,
      "deathDate": "1821",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [4, 8],
      "biography": {
        "pl": "Córka Ambrożego i Kunegundy.",
        "en": "Daughter of Ambroży and Kunegunda."
      }
    },
    {
      "id": 63,
      "firstName": "Kacper",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1826",
      "deathDate": "1903",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [105, 106],
      "childIds": [66, 67],
      "parentIds": [4, 8],
      "marriages": [
        { "spouseId": 105, "date": "1848" },
        { "spouseId": 106, "date": "1893" }
      ],
      "biography": {
        "pl": "Syn Ambrożego i Kunegundy. Pierwszą żoną była Marianna Moskwa, z którą miał dwoje dzieci. Po jej śmierci, w 1893 ożenił się z wdową Franciszką Mortką.",
        "en": "Son of Ambroży and Kunegunda. His first wife was Marianna Moskwa, with whom he had two children. After her death, in 1893, he married the widow Franciszka Mortka."
      }
    },
    {
      "id": 64,
      "firstName": "Ludwika",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1831",
      "deathDate": null,
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [4, 8],
      "biography": {
        "pl": "Córka Ambrożego i Kunegundy.",
        "en": "Daughter of Ambroży and Kunegunda."
      }
    },
    {
      "id": 65,
      "firstName": "Franciszka",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1835",
      "deathDate": null,
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [4, 8],
      "biography": {
        "pl": "Córka Ambrożego i Kunegundy.",
        "en": "Daughter of Ambroży and Kunegunda."
      }
    },
    {
      "id": 66,
      "firstName": "Marianna",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1857",
      "deathDate": "1860",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [63, 105],
      "biography": {
        "pl": "Córka Kacpra i jego pierwszej żony, Marianny Moskwy.",
        "en": "Daughter of Kacper and his first wife, Marianna Moskwa."
      }
    },
    {
      "id": 67,
      "firstName": "Jędrzej",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1859",
      "deathDate": null,
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [63, 105],
      "biography": {
        "pl": "Syn Kacpra i jego pierwszej żony, Marianny Moskwy.",
        "en": "Son of Kacper and his first wife, Marianna Moskwa."
      }
    },
    {
      "id": 68,
      "firstName": "Antonina",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1869",
      "deathDate": null,
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [13, 18],
      "biography": {
        "pl": "Córka Karola i Tekli.",
        "en": "Daughter of Karol and Tekla."
      }
    },
    {
      "id": 69,
      "firstName": "Józefa",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1872",
      "deathDate": "1880",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [13, 18],
      "biography": {
        "pl": "Córka Karola i Tekli.",
        "en": "Daughter of Karol and Tekla."
      }
    },
    {
      "id": 70,
      "firstName": "Józefa",
      "lastName": "Walczak",
      "maidenName": "Gerczak vel Gierczak",
      "birthDate": null,
      "deathDate": null,
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [111],
      "childIds": [],
      "parentIds": [19, 22],
      "marriages": [{ "spouseId": 111, "date": "1928" }],
      "biography": {
        "pl": "Córka Pawła i Katarzyny. Wyszła za mąż w 1928 za wdowca Władysława Walczaka.",
        "en": "Daughter of Paweł and Katarzyna. She married the widower Władysław Walczak in 1928."
      }
    },
    {
      "id": 71,
      "firstName": "Adam",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1888",
      "deathDate": "1889-03-06",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [19, 22],
      "biography": {
        "pl": "Syn Pawła i Katarzyny. Zmarł jako 3-miesięczne dziecko.",
        "en": "Son of Paweł and Katarzyna. Died as a 3-month-old infant."
      }
    },
    {
      "id": 72,
      "firstName": "Józef",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1890",
      "deathDate": "1890",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [19, 22],
      "biography": {
        "pl": "Syn Pawła i Katarzyny. Zmarł po 6 tygodniach.",
        "en": "Son of Paweł and Katarzyna. Died after 6 weeks."
      }
    },
    {
      "id": 73,
      "firstName": "Stanisław",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1893",
      "deathDate": null,
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [108],
      "childIds": [],
      "parentIds": [19, 22],
      "marriages": [{ "spouseId": 108, "date": "1921" }],
      "biography": {
        "pl": "Syn Pawła i Katarzyny. Ożenił się w 1921 z Anielą Burakowską c. Andrzeja i Teofili w parafii Błotnica.",
        "en": "Son of Paweł and Katarzyna. He married Aniela Burakowska, daughter of Andrzej and Teofila, in the Błotnica parish in 1921."
      }
    },
    {
      "id": 74,
      "firstName": "Zofia",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1900",
      "deathDate": null,
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [19, 22],
      "biography": {
        "pl": "Córka Pawła i Katarzyny.",
        "en": "Daughter of Paweł and Katarzyna."
      }
    },
    {
      "id": 75,
      "firstName": "Antoni",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1903",
      "deathDate": null,
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [109],
      "childIds": [],
      "parentIds": [19, 22],
      "marriages": [{ "spouseId": 109, "date": "1931" }],
      "biography": {
        "pl": "Syn Pawła i Katarzyny. Wziął za żonę Honoratę Musiałek c. Franciszka i Józefy Banasiak. Ślub odbył się w 1931 w Zakrzewie.",
        "en": "Son of Paweł and Katarzyna. He married Honorata Musiałek, daughter of Franciszek and Józefa Banasiak. The wedding took place in Zakrzew in 1931."
      }
    },
    {
      "id": 76,
      "firstName": "Rozalia",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": null,
      "deathDate": "1906",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [19, 22],
      "biography": {
        "pl": "Córka Pawła i Katarzyny.",
        "en": "Daughter of Paweł and Katarzyna."
      }
    },
    {
      "id": 77,
      "firstName": "Franciszek",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1910",
      "deathDate": null,
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [110],
      "childIds": [],
      "parentIds": [19, 22],
      "marriages": [{ "spouseId": 110, "date": "1932" }],
      "biography": {
        "pl": "Syn Pawła i Katarzyny. Ożenił się w 1932 z Feliksą Szczygłowską c. Jana i Karoliny Kozłowskiej. Ślub odbył się w parafii Kowala-Stępocina.",
        "en": "Son of Paweł and Katarzyna. He married Feliksa Szczygłowska, daughter of Jan and Karolina Kozłowska, in 1932. The wedding took place in the Kowala-Stępocina parish."
      }
    },
    {
      "id": 78,
      "firstName": "Stanisława",
      "lastName": "Gerczak vel Gierczak",
      "birthDate": "1911",
      "deathDate": "1911",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [19, 22],
      "biography": {
        "pl": "Córka Pawła i Katarzyny. Zmarła po 3 tygodniach.",
        "en": "Daughter of Paweł and Katarzyna. Died after 3 weeks."
      }
    },
    {
      "id": 79,
      "firstName": "Jan",
      "lastName": "Gierczak",
      "birthDate": "1918",
      "deathDate": "1918",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [26, 32],
      "biography": {
        "pl": "Syn Jana i Agnieszki. Żył 2 dni.",
        "en": "Son of Jan and Agnieszka. Lived for 2 days."
      }
    },
    {
      "id": 80,
      "firstName": "Marianna",
      "lastName": "Gierczak",
      "birthDate": "1918",
      "deathDate": "1918",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [26, 32],
      "biography": {
        "pl": "Córka Jana i Agnieszki. Żyła 2 tygodnie.",
        "en": "Daughter of Jan and Agnieszka. Lived for 2 weeks."
      }
    },
    {
      "id": 81,
      "firstName": "Janina",
      "lastName": "Gierczak",
      "birthDate": "1920",
      "deathDate": "1920",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [26, 32],
      "biography": {
        "pl": "Córka Jana i Agnieszki. Żyła 8 tygodni.",
        "en": "Daughter of Jan and Agnieszka. Lived for 8 weeks."
      }
    },
    {
      "id": 82,
      "firstName": "Stefan",
      "lastName": "Gierczak",
      "birthDate": "1921",
      "deathDate": "2017",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [26, 32],
      "biography": {
        "pl": "Syn Jana i Agnieszki.",
        "en": "Son of Jan and Agnieszka."
      }
    },
    {
      "id": 83,
      "firstName": "Władysław",
      "lastName": "Gierczak",
      "birthDate": "1923-02-01",
      "deathDate": "2004-12-02",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [26, 32],
      "biography": {
        "pl": "Syn Jana i Agnieszki.",
        "en": "Son of Jan and Agnieszka."
      }
    },
    {
      "id": 84,
      "firstName": "Tadeusz",
      "lastName": "Gierczak",
      "birthDate": "192x",
      "deathDate": "1974",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [26, 32],
      "biography": {
        "pl": "Syn Jana i Agnieszki.",
        "en": "Son of Jan and Agnieszka."
      }
    },
    {
      "id": 85,
      "firstName": "Zofia",
      "lastName": "Gierczak",
      "birthDate": "19xx",
      "deathDate": "2022",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [26, 32],
      "biography": {
        "pl": "Córka Jana i Agnieszki.",
        "en": "Daughter of Jan and Agnieszka."
      }
    },
    {
      "id": 86,
      "firstName": "Witold",
      "lastName": "Gierczak",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [39, 41],
      "biography": {
        "pl": "Syn Józefa i Marianny. Zmarł jako roczne dziecko.",
        "en": "Son of Józef and Marianna. Died as a one-year-old child."
      }
    },
    {
      "id": 87,
      "firstName": "Adam",
      "lastName": "Gierczak",
      "birthDate": "1956",
      "deathDate": null,
      "photoUrl": "/images/6.jpeg",
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [39, 41],
      "biography": {
        "pl": "Syn Józefa i Marianny.",
        "en": "Son of Józef and Marianna."
      }
    },
    {
      "id": 88,
      "firstName": "Maria",
      "lastName": "Gierczak",
      "birthDate": "1958",
      "deathDate": null,
      "photoUrl": "/images/7.jfif",
      "family": "gierczak",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [39, 41],
      "biography": {
        "pl": "Córka Józefa i Marianny, siostra autora.",
        "en": "Daughter of Józef and Marianna, the author's sister."
      }
    },
    {
      "id": 89,
      "firstName": "Ignacy",
      "lastName": "Ofiara",
      "birthDate": null,
      "deathDate": null,
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [112],
      "childIds": [],
      "parentIds": [57, 58],
      "marriages": [{ "spouseId": 112, "date": "1908" }],
      "biography": {
        "pl": "Syn Andrzeja i Franciszki. W 1908 ożenił się z wdową Katarzyną Sikorską (Jurczak) c. Andrzeja i Marianny Hudzik.",
        "en": "Son of Andrzej and Franciszka. In 1908, he married the widow Katarzyna Sikorska (Jurczak), daughter of Andrzej and Marianna Hudzik."
      }
    },
    {
      "id": 90,
      "firstName": "Antoni",
      "lastName": "Ofiara",
      "birthDate": null,
      "deathDate": null,
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [113],
      "childIds": [],
      "parentIds": [57, 58],
      "marriages": [{ "spouseId": 113, "date": "1910" }],
      "biography": {
        "pl": "Syn Andrzeja i Franciszki. Ożenił się w 1910 z wdową Rozalią Rojek (Drużdżel) c. Kazimierza i Małgorzaty Podkowiak.",
        "en": "Son of Andrzej and Franciszka. In 1910, he married the widow Rozalia Rojek (Drużdżel), daughter of Kazimierz and Małgorzata Podkowiak."
      }
    },
    {
      "id": 91,
      "firstName": "Katarzyna",
      "lastName": "Piwowarczyk",
      "maidenName": "Ofiara",
      "birthDate": null,
      "deathDate": "1944-11-09",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [57, 58],
      "biography": {
        "pl": "Córka Andrzeja i Franciszki.",
        "en": "Daughter of Andrzej and Franciszka."
      }
    },
    {
      "id": 92,
      "firstName": "Stanisław",
      "lastName": "Ofiara",
      "birthDate": "1919",
      "deathDate": null,
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [45, 47],
      "biography": {
        "pl": "Syn Józefa Ofiary i jego pierwszej żony, Rozalii z d. Mitak.",
        "en": "Son of Józef Ofiara and his first wife, Rozalia née Mitak."
      }
    },
    {
      "id": 93,
      "firstName": "Piotr",
      "lastName": "Ofiara",
      "birthDate": "1921",
      "deathDate": "2004-06-03",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [45, 47],
      "biography": {
        "pl": "Syn Józefa Ofiary i jego pierwszej żony, Rozalii z d. Mitak.",
        "en": "Son of Józef Ofiara and his first wife, Rozalia née Mitak."
      }
    },
    {
      "id": 94,
      "firstName": "Jan",
      "lastName": "Ofiara",
      "birthDate": "1925",
      "deathDate": "2001-04-30",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [45, 47],
      "biography": {
        "pl": "Syn Józefa Ofiary i jego pierwszej żony, Rozalii z d. Mitak.",
        "en": "Son of Józef Ofiara and his first wife, Rozalia née Mitak."
      }
    },
    {
      "id": 95,
      "firstName": "Józef",
      "lastName": "Ofiara",
      "birthDate": null,
      "deathDate": "1927-01-09",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [45, 46],
      "biography": {
        "pl": "Syn Józefa Ofiary i Heleny z d. Sobień. Zmarł jako 2-tygodniowe dziecko.",
        "en": "Son of Józef Ofiara and Helena née Sobień. Died as a 2-week-old infant."
      }
    },
    {
      "id": 96,
      "firstName": "Andrzej",
      "lastName": "Ofiara",
      "birthDate": null,
      "deathDate": "1928-01-07",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [45, 46],
      "biography": {
        "pl": "Syn Józefa Ofiary i Heleny z d. Sobień. Zmarł jako 2-tygodniowe dziecko.",
        "en": "Son of Józef Ofiara and Helena née Sobień. Died as a 2-week-old infant."
      }
    },
    {
      "id": 97,
      "firstName": "Genowefa",
      "lastName": "Ofiara",
      "birthDate": null,
      "deathDate": "1930-08-16",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [45, 46],
      "biography": {
        "pl": "Córka Józefa Ofiary i Heleny z d. Sobień. Zmarła jako 3-tygodniowe dziecko.",
        "en": "Daughter of Józef Ofiara and Helena née Sobień. Died as a 3-week-old infant."
      }
    },
    {
      "id": 98,
      "firstName": "Kazimiera",
      "lastName": "Ofiara",
      "birthDate": "1934",
      "deathDate": "1935-08-09",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [45, 46],
      "biography": {
        "pl": "Córka Józefa Ofiary i Heleny z d. Sobień. Zmarła jako półtoraroczne dziecko.",
        "en": "Daughter of Józef Ofiara and Helena née Sobień. Died as a one-and-a-half-year-old child."
      }
    },
    {
      "id": 99,
      "firstName": "Roman",
      "lastName": "Ofiara",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [45, 46],
      "biography": {
        "pl": "Syn Józefa Ofiary i Heleny z d. Sobień.",
        "en": "Son of Józef Ofiara and Helena née Sobień."
      }
    },
    {
      "id": 101,
      "firstName": "Teresa",
      "lastName": "Gerczak vel Gierczak",
      "maidenName": "Pączek",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [6],
      "childIds": [],
      "parentIds": [],
      "marriages": [{ "spouseId": 6, "date": "1837" }],
      "biography": {
        "pl": "Żona Andrzeja Gerczaka (syna Tomasza). Jej rodzicami byli Jakub i Magdalena.",
        "en": "Wife of Andrzej Gerczak (son of Tomasz). Her parents were Jakub and Magdalena."
      }
    },
    {
      "id": 102,
      "firstName": "Józef",
      "lastName": "Wieracha",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [59],
      "childIds": [],
      "parentIds": [],
      "marriages": [{ "spouseId": 59, "date": "1841" }],
      "biography": {
        "pl": "Mąż Józefy Gerczak (córki Ambrożego).",
        "en": "Husband of Józefa Gerczak (daughter of Ambroży)."
      }
    },
    {
      "id": 103,
      "firstName": "Franciszek",
      "lastName": "Kornafel",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [60],
      "childIds": [],
      "parentIds": [],
      "marriages": [{ "spouseId": 60, "date": "1842" }],
      "biography": {
        "pl": "Mąż Jadwigi Gerczak (córki Ambrożego).",
        "en": "Husband of Jadwiga Gerczak (daughter of Ambroży)."
      }
    },
    {
      "id": 104,
      "firstName": "Antoni",
      "lastName": "Stępień",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [61],
      "childIds": [],
      "parentIds": [],
      "marriages": [{ "spouseId": 61, "date": "1852" }],
      "biography": {
        "pl": "Mąż Marianny Gerczak (córki Ambrożego).",
        "en": "Husband of Marianna Gerczak (daughter of Ambroży)."
      }
    },
    {
      "id": 105,
      "firstName": "Marianna",
      "lastName": "Gerczak vel Gierczak",
      "maidenName": "Moskwa vel Moskwina",
      "deathDate": "przed 1893",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [63],
      "childIds": [66, 67],
      "parentIds": [],
      "marriages": [{ "spouseId": 63, "date": "1848" }],
      "biography": {
        "pl": "Pierwsza żona Kacpra Gerczaka. Matka Jędrzeja i Marianny.",
        "en": "First wife of Kacper Gerczak. Mother of Jędrzej and Marianna."
      }
    },
    {
      "id": 106,
      "firstName": "Franciszka",
      "lastName": "Gerczak vel Gierczak",
      "maidenName": "Mortka z d. Indrzejoska",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [63],
      "childIds": [],
      "parentIds": [],
      "marriages": [{ "spouseId": 63, "date": "1893" }],
      "biography": {
        "pl": "Druga żona Kacpra Gerczaka, którą poślubił jako wdowiec w 1893 roku.",
        "en": "Second wife of Kacper Gerczak, whom he married as a widower in 1893."
      }
    },
    {
      "id": 107,
      "firstName": "Mikołaj",
      "lastName": "Remisiewski",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [8],
      "childIds": [],
      "parentIds": [],
      "marriages": [{ "spouseId": 8, "date": "1837" }],
      "biography": {
        "pl": "Drugi mąż Kunegundy z d. Kania, wdowy po Ambrożym Gerczaku. Syn Łukasza i Moniki Łosiak.",
        "en": "Second husband of Kunegunda née Kania, widow of Ambroży Gerczak. Son of Łukasz and Monika Łosiak."
      }
    },
    {
      "id": 108,
      "firstName": "Aniela",
      "lastName": "Gerczak vel Gierczak",
      "maidenName": "Burakowska",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [73],
      "childIds": [],
      "parentIds": [],
      "marriages": [{ "spouseId": 73, "date": "1921" }],
      "biography": {
        "pl": "Żona Stanisława Gerczaka (syna Pawła). Córka Andrzeja i Teofili. Ślub w parafii Błotnica w 1921 r.",
        "en": "Wife of Stanisław Gerczak (son of Paweł). Daughter of Andrzej and Teofila. Wedding in the Błotnica parish in 1921."
      }
    },
    {
      "id": 109,
      "firstName": "Honorata",
      "lastName": "Gerczak vel Gierczak",
      "maidenName": "Musiałek",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [75],
      "childIds": [],
      "parentIds": [],
      "marriages": [{ "spouseId": 75, "date": "1931" }],
      "biography": {
        "pl": "Żona Antoniego Gerczaka (syna Pawła). Córka Franciszka i Józefy Banasiak. Ślub w Zakrzewie w 1931 r.",
        "en": "Wife of Antoni Gerczak (son of Paweł). Daughter of Franciszek and Józefa Banasiak. Wedding in Zakrzew in 1931."
      }
    },
    {
      "id": 110,
      "firstName": "Feliksa",
      "lastName": "Gerczak vel Gierczak",
      "maidenName": "Szczygłowska",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [77],
      "childIds": [],
      "parentIds": [],
      "marriages": [{ "spouseId": 77, "date": "1932" }],
      "biography": {
        "pl": "Żona Franciszka Gerczaka (syna Pawła). Córka Jana i Karoliny Kozłowskiej. Ślub w parafii Kowala-Stępocina w 1932 r.",
        "en": "Wife of Franciszek Gerczak (son of Paweł). Daughter of Jan and Karolina Kozłowska. Wedding in the Kowala-Stępocina parish in 1932."
      }
    },
    {
      "id": 111,
      "firstName": "Władysław",
      "lastName": "Walczak",
      "photoUrl": null,
      "family": "gierczak",
      "spouseIds": [70],
      "childIds": [],
      "parentIds": [],
      "marriages": [{ "spouseId": 70, "date": "1928" }],
      "biography": {
        "pl": "Mąż Józefy Gerczak (córki Pawła). Ślub w 1928 r.",
        "en": "Husband of Józefa Gerczak (daughter of Paweł). Wedding in 1928."
      }
    },
    {
      "id": 112,
      "firstName": "Katarzyna",
      "lastName": "Ofiara",
      "maidenName": "Sikorska (Jurczak)",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [89],
      "childIds": [],
      "parentIds": [],
      "marriages": [{ "spouseId": 89, "date": "1908" }],
      "biography": {
        "pl": "Żona Ignacego Ofiary. Córka Andrzeja i Marianny Hudzik. Ślub w Błotnicy w 1908 r.",
        "en": "Wife of Ignacy Ofiara. Daughter of Andrzej and Marianna Hudzik. Wedding in the Błotnica parish in 1908."
      }
    },
    {
      "id": 113,
      "firstName": "Rozalia",
      "lastName": "Ofiara",
      "maidenName": "Rojek (Drużdżel)",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [90],
      "childIds": [],
      "parentIds": [],
      "marriages": [{ "spouseId": 90, "date": "1910" }],
      "biography": {
        "pl": "Żona Antoniego Ofiary. Córka Kazimierza i Małgorzaty Podkowiak. Ślub w 1910 r.",
        "en": "Wife of Antoni Ofiara. Daughter of Kazimierz and Małgorzata Podkowiak. Wedding in 1910."
      }
    },
    {
      "id": 114,
      "firstName": "Franciszka",
      "lastName": "Sobień",
      "maidenName": "Sobień",
      "birthDate": "1895-07-15",
      "deathDate": null,
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [119, 120],
      "biography": {
        "pl": "Siostra Heleny Ofiary (z d. Sobień). Córka Karola i Ewy.",
        "en": "Sister of Helena Ofiara (née Sobień). Daughter of Karol and Ewa."
      }
    },
    {
      "id": 115,
      "firstName": "Anna",
      "lastName": "Kozyra",
      "maidenName": "Sobień",
      "birthDate": "1898",
      "deathDate": "1927",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [126],
      "childIds": [],
      "parentIds": [119, 120],
      "marriages": [{ "spouseId": 126, "date": "1920" }],
      "biography": {
        "pl": "Siostra Heleny Ofiary (z d. Sobień). Córka Karola i Ewy. W 1920 r. wyszła za mąż za Władysława Kozyrę.",
        "en": "Sister of Helena Ofiara (née Sobień). Daughter of Karol and Ewa. In 1920, she married Władysław Kozyra."
      }
    },
    {
      "id": 116,
      "firstName": "Zofia",
      "lastName": "Odzimek",
      "maidenName": "Sobień",
      "birthDate": "1903",
      "deathDate": null,
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [127],
      "childIds": [],
      "parentIds": [119, 120],
      "marriages": [{ "spouseId": 127, "date": "1922" }],
      "biography": {
        "pl": "Siostra Heleny Ofiary (z d. Sobień). Córka Karola i Ewy. W 1922 r. wyszła za mąż za Michała Odzimka.",
        "en": "Sister of Helena Ofiara (née Sobień). Daughter of Karol and Ewa. In 1922, she married Michał Odzimek."
      }
    },
    {
      "id": 117,
      "firstName": "Jan",
      "lastName": "Sobień",
      "birthDate": "1900-12-12",
      "deathDate": null,
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [128],
      "childIds": [],
      "parentIds": [119, 120],
      "marriages": [{ "spouseId": 128, "date": "1926" }],
      "biography": {
        "pl": "Brat Heleny Ofiary (z d. Sobień). Syn Karola i Ewy. W 1926 r. ożenił się ze Stanisławą Bocheńską.",
        "en": "Brother of Helena Ofiara (née Sobień). Son of Karol and Ewa. In 1926, he married Stanisława Bocheńska."
      }
    },
    {
      "id": 118,
      "firstName": "Józef",
      "lastName": "Sobień",
      "birthDate": "1908",
      "deathDate": null,
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [119, 120],
      "biography": {
        "pl": "Brat Heleny Ofiary (z d. Sobień). Syn Karola i Ewy.",
        "en": "Brother of Helena Ofiara (née Sobień). Son of Karol and Ewa."
      }
    },
    {
      "id": 119,
      "firstName": "Karol",
      "lastName": "Sobień",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [120],
      "childIds": [114, 115, 116, 46, 117, 118],
      "parentIds": [],
      "marriages": [{ "spouseId": 120, "date": null }],
      "biography": {
        "pl": "Ojciec Heleny Ofiary (z d. Sobień), mąż Ewy Drużdżel.",
        "en": "Father of Helena Ofiara (née Sobień), husband of Ewa Drużdżel."
      }
    },
    {
      "id": 120,
      "firstName": "Ewa",
      "lastName": "Sobień",
      "maidenName": "Drużdżel",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [121, 119],
      "childIds": [122, 123, 47, 125, 114, 115, 116, 46, 117, 118],
      "parentIds": [],
      "marriages": [
        { "spouseId": 121, "date": null },
        { "spouseId": 119, "date": null }
      ],
      "biography": {
        "pl": "Matka Heleny Ofiary (z d. Sobień). Jej pierwszym mężem był Michał Mitak, z którym miała czworo dzieci. Drugim mężem był Karol Sobień, z którym miała sześcioro dzieci.",
        "en": "Mother of Helena Ofiara (née Sobień). Her first husband was Michał Mitak, with whom she had four children. Her second husband was Karol Sobień, with whom she had six children."
      }
    },
    {
      "id": 121,
      "firstName": "Michał",
      "lastName": "Mitak",
      "deathDate": "przed 1895",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [120],
      "childIds": [122, 123, 47, 125],
      "parentIds": [],
      "marriages": [{ "spouseId": 120, "date": null }],
      "biography": {
        "pl": "Pierwszy mąż Ewy Drużdżel. Ojciec Weroniki, Marianny, Rozalii i Jana.",
        "en": "First husband of Ewa Drużdżel. Father of Weronika, Marianna, Rozalia, and Jan."
      }
    },
    {
      "id": 122,
      "firstName": "Weronika",
      "lastName": "Mitak",
      "maidenName": "Mitak",
      "birthDate": "1886",
      "deathDate": "1998-12-27",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [121, 120],
      "biography": {
        "pl": "Córka Michała Mitaka i Ewy Drużdżel. Przyrodnia siostra Heleny Ofiary.",
        "en": "Daughter of Michał Mitak and Ewa Drużdżel. Half-sister of Helena Ofiara."
      }
    },
    {
      "id": 123,
      "firstName": "Marianna",
      "lastName": "Mitak",
      "maidenName": "Mitak",
      "birthDate": "1889",
      "deathDate": "1980-04-10",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [121, 120],
      "biography": {
        "pl": "Córka Michała Mitaka i Ewy Drużdżel. Przyrodnia siostra Heleny Ofiary.",
        "en": "Daughter of Michał Mitak and Ewa Drużdżel. Half-sister of Helena Ofiara."
      }
    },
    {
      "id": 125,
      "firstName": "Jan",
      "lastName": "Mitak",
      "birthDate": "1894",
      "deathDate": null,
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [],
      "childIds": [],
      "parentIds": [121, 120],
      "biography": {
        "pl": "Syn Michała Mitaka i Ewy Drużdżel. Przyrodni brat Heleny Ofiary.",
        "en": "Son of Michał Mitak and Ewa Drużdżel. Half-brother of Helena Ofiara."
      }
    },
    {
      "id": 126,
      "firstName": "Władysław",
      "lastName": "Kozyra",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [115],
      "childIds": [],
      "parentIds": [],
      "marriages": [{ "spouseId": 115, "date": "1920" }],
      "biography": {
        "pl": "Mąż Anny Sobień. Syn Józefa i Weroniki Korczak.",
        "en": "Husband of Anna Sobień. Son of Józef and Weronika Korczak."
      }
    },
    {
      "id": 127,
      "firstName": "Michał",
      "lastName": "Odzimek",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [116],
      "childIds": [],
      "parentIds": [],
      "marriages": [{ "spouseId": 116, "date": "1922" }],
      "biography": {
        "pl": "Mąż Zofii Sobień. Syn Walentego i Zofii Kowalik.",
        "en": "Husband of Zofia Sobień. Son of Walenty and Zofia Kowalik."
      }
    },
    {
      "id": 128,
      "firstName": "Stanisława",
      "lastName": "Sobień",
      "maidenName": "Bocheńska",
      "photoUrl": null,
      "family": "ofiara",
      "spouseIds": [117],
      "childIds": [],
      "parentIds": [],
      "marriages": [{ "spouseId": 117, "date": "1926" }],
      "biography": {
        "pl": "Żona Jana Sobienia. Córka Walentego i Marianny Zarębskiej.",
        "en": "Wife of Jan Sobień. Daughter of Walenty and Marianna Zarębska."
      }
    }
  ]
}


-------------------------------

import { useRoute } from "wouter";
import { useQuery } from "@tanstack/react-query";
import { Card, CardContent } from "@/components/ui/card";
import { Button } from "@/components/ui/button";
import PersonCard from "@/components/ui/PersonCard";
import PersonModal from "@/components/ui/PersonModal";
import { Person } from "@shared/schema";
import { MapPin, Users, Eye } from "lucide-react";
import { useState } from "react";
import SEO from "@/components/SEO";
import genealogyData from "@/data/genealogy.json";
import { Link } from "wouter";
import { useLanguage } from "@/hooks/useLanguage";

export default function FamilyBranchView() {
  const { t, p, language } = useLanguage();
  const [, params] = useRoute(`${p("familyBase")}/:family`);
  const family = params?.family as "gierczak" | "ofiara";

  const [selectedPerson, setSelectedPerson] = useState<Person | null>(null);
  const [modalOpen, setModalOpen] = useState(false);

  const { data: allPeople = [] } = useQuery({
    queryKey: ["/api/people"],
    queryFn: () => Promise.resolve(genealogyData.people as Person[]),
  });

  const familyPeople = allPeople.filter((person) => person.family === family);

  const familyInfo = {
    gierczak: {
      name: t("family.gierczak"),
      description: t("home.about.p1"),
      places: ["Jaszowice", "Gulinek"],
      color: "heritage-burgundy",
      imageUrl: "/images/jaszowice.png",
    },
    ofiara: {
      name: t("family.ofiara"),
      description: t("home.about.p1"),
      places: ["Ludwików", "Gulinek"],
      color: "heritage-teal",
      imageUrl: "/images/6.avif",
    },
  };

  const currentFamily = family ? familyInfo[family] : null;

  if (!family || !currentFamily) {
    return (
      <div className="min-h-screen flex items-center justify-center">
        <div className="text-center">
          <h1 className="text-2xl font-bold heritage-text mb-4">
            {t("familyBranch.notFound.title")}
          </h1>
          <p className="text-stone-600">{t("familyBranch.notFound.desc")}</p>
        </div>
      </div>
    );
  }

  const handlePersonClick = (person: Person) => {
    setSelectedPerson(person);
    setModalOpen(true);
  };

  return (
    <>
      <SEO
        title={currentFamily.name}
        description={`${
          currentFamily.description
        } Poznaj historię i członków ${currentFamily.name.toLowerCase()}.`}
      />

      <div className="min-h-screen bg-stone-50">
        <div className="relative h-80 md:h-96">
          <img
            src={currentFamily.imageUrl}
            alt={`Miejsca związane z ${currentFamily.name}`}
            className="w-full h-full object-cover"
          />
          <div className="absolute inset-0 bg-black/40"></div>
          <div className="absolute inset-0 flex items-center justify-center">
            <div className="text-center text-white">
              <h1 className="font-serif text-4xl md:text-5xl font-bold mb-4">
                {currentFamily.name}
              </h1>
              <p className="text-xl md:text-2xl">
                {currentFamily.places.join(", ")}
              </p>
            </div>
          </div>
        </div>

        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
          <div className="mb-12">
            <Card>
              <CardContent className="p-8">
                <div className="grid md:grid-cols-2 gap-8 items-center">
                  <div>
                    <h2 className="font-serif text-2xl font-semibold heritage-text mb-4">
                      {t("familyBranch.history.title")}
                    </h2>
                    <p className="text-stone-600 leading-relaxed mb-6">
                      {currentFamily.description}
                    </p>
                    <div className="flex items-center space-x-4 text-sm text-stone-600">
                      <div className="flex items-center">
                        <MapPin className="w-4 h-4 mr-1" />
                        {t("familyBranch.history.places")}:
                      </div>
                      <div className="flex space-x-2">
                        {currentFamily.places.map((place) => (
                          <span
                            key={place}
                            className="bg-stone-100 px-2 py-1 rounded"
                          >
                            {place}
                          </span>
                        ))}
                      </div>
                    </div>
                  </div>
                  <div className="text-center">
                    <div
                      className={`inline-flex items-center justify-center w-24 h-24 rounded-full bg-gradient-to-br from-stone-100 to-stone-200 mb-4`}
                    >
                      <Users className={`w-12 h-12 ${currentFamily.color}`} />
                    </div>
                    <p className="text-2xl font-bold heritage-text">
                      {familyPeople.length}
                    </p>
                    <p className="text-stone-600">
                      {t("familyBranch.history.membersInDb")}
                    </p>
                  </div>
                </div>
              </CardContent>
            </Card>
          </div>

          <div className="mb-8">
            <div className="flex items-center justify-between mb-6">
              <h2 className="font-serif text-3xl font-semibold heritage-text">
                {t("familyBranch.members.title")}
              </h2>
              <Button
                asChild
                className={`btn-${currentFamily.color.replace(
                  "heritage-",
                  ""
                )}`}
              >
                <Link href={p("tree")}>
                  <Eye className="w-4 h-4 mr-2" />
                  {t("familyBranch.members.viewInTree")}
                </Link>
              </Button>
            </div>

            {familyPeople.length > 0 ? (
              <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
                {familyPeople
                  .sort((a, b) => {
                    const birthYearA = a.birthDate ? parseInt(a.birthDate) : 0;
                    const birthYearB = b.birthDate ? parseInt(b.birthDate) : 0;
                    return birthYearA - birthYearB;
                  })
                  .map((person) => (
                    <PersonCard
                      key={person.id}
                      person={person}
                      onClick={() => handlePersonClick(person)}
                    />
                  ))}
              </div>
            ) : (
              <Card>
                <CardContent className="p-8 text-center">
                  <Users className="w-12 h-12 text-stone-400 mx-auto mb-4" />
                  <h3 className="text-lg font-semibold heritage-text mb-2">
                    {t("familyBranch.members.noData.title")}
                  </h3>
                  <p className="text-stone-600">
                    {t("familyBranch.members.noData.desc")}
                  </p>
                </CardContent>
              </Card>
            )}
          </div>

          <div>
            <h2 className="font-serif text-3xl font-semibold heritage-text mb-6">
              {t("familyBranch.places.title")}
            </h2>
            <div className="grid md:grid-cols-2 gap-6">
              {/* --- ZMIANA TUTAJ --- */}
              {genealogyData.places
                ?.filter((place) => currentFamily.places.includes(place.name))
                .map((place) => (
                  <Card key={place.name} className="overflow-hidden">
                    <div className="relative h-80">
                      <img
                        src={place.imageUrl}
                        alt={place.name}
                        className="w-full h-full object-cover"
                        loading="lazy"
                      />
                      <div className="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"></div>
                      <div className="absolute bottom-4 left-4">
                        <h3 className="font-serif text-xl font-semibold text-white">
                          {place.name}
                        </h3>
                      </div>
                    </div>
                    <CardContent className="p-4">
                      <p className="text-stone-600">
                        {typeof place.description === "object"
                          ? place.description[language] || place.description.pl
                          : place.description}
                      </p>
                    </CardContent>
                  </Card>
                ))}
            </div>
          </div>
        </div>

        <PersonModal
          person={selectedPerson}
          isOpen={modalOpen}
          onClose={() => setModalOpen(false)}
          onPersonClick={handlePersonClick}
          allPeople={allPeople}
        />
      </div>
    </>
  );
}
